
                          

 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta http-equiv="PICS-Label" content='(PICS-1.1 "//www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "//www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "//www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
	<link rel="schema.DC" href="//purl.org/DC/elements/1.0/" />
	<link rel="SHORTCUT ICON" href="//www.ibm.com/favicon.ico" />
	<meta name="DC.Publisher" content="IBM Corporation" />
	<meta name="DC.Rights" content="Copyright IBM Corp. 2010" />
	<meta name="Keywords" content="The IBM corporate home page, entry point to information about IBM products and services" />
	<meta name="DC.Date" scheme="iso8601" content="2011-04-17" />
	<meta name="Source" content="v16 Template Generator, Template 16.29" />
	<meta name="Security" content="Public" />
	<meta name="Abstract" content="The IBM corporate home page, entry point to information about IBM products and services" />
	<meta name="IBM.Effective" scheme="W3CDTF" content="2011-04-12" />
	<meta name="DC.Subject" scheme="IBM_SubjectTaxonomy" content="zz999" />
	<meta name="Owner" content="Joan Renner/Armonk/IBM" />
	<meta name="DC.Language" scheme="rfc1766" content="en-US" />
	<meta name="IBM.Country" content="US" />
	<meta name="Robots" content="index,follow" />
	<meta name="DC.Type" scheme="IBM_ContentClassTaxonomy" content="CT002" />
	<meta name="Description" content="The IBM corporate home page, entry point to information about IBM products and services" />
	<title>My cart</title>
	<link href="//www.ibm.com/common/v16/css/all.css" media="all" rel="stylesheet" title="www" type="text/css" />
	<link href="//www.ibm.com/common/v16/css/screen.css" media="screen,projection" rel="stylesheet" title="www" type="text/css" />
	<link href="//www.ibm.com/common/v16/css/screen-uas.css" media="screen,projection" rel="stylesheet" title="www" type="text/css" />
	<link href="//www.ibm.com/common/v16/css/us/en/screen-fonts.css" media="screen,projection" rel="stylesheet" title="www" type="text/css" />
	<link href="//www.ibm.com/common/v16/css/handheld.css" media="handheld" rel="stylesheet" title="www" type="text/css" />
	<link href="//www.ibm.com/common/v16/css/print.css" media="print" rel="stylesheet" title="www" type="text/css" />
	<link href="//www.ibm.com/common/v16/css/overlay.css" media="screen,projection" rel="stylesheet" title="www" type="text/css" />
	<link href="/b2b_ibm/b2b/customize/css/custom.css" media="screen,projection" rel="stylesheet" title="www" type="text/css" />
	<link href="/b2b_ibm/b2b/customize/css/ui-lightness/jquery-ui-1.7.3.custom.css" rel="stylesheet" type="text/css" />
	<script src="//www.ibm.com/common/js/ibmcommon.js" type="text/javascript">//</script>
	<script src="//www.ibm.com/common/js/dynamicnav.js" type="text/javascript">//</script>
	<script src="//www.ibm.com/common/js/overlay.js" type="text/javascript">//</script>
	<script src="/b2b_ibm/b2b/jscript/frames.js?ver=1.0.33" type="text/javascript">//</script>
	<script src="/b2b_ibm/b2b/jscript/iiaScript.js?ver=1.0.33" type="text/javascript">//</script>
	<script src="/b2b_ibm/b2b/jscript/docnav.js?ver=1.0.33" type="text/javascript">//</script>
	<script src="/b2b_ibm/b2b/customize/js/jquery-1.3.2.min.js?ver=1.0.33" type="text/javascript">//</script>
	<script src="/b2b_ibm/b2b/customize/js/jquery-ui-1.7.3.custom.min.js?ver=1.0.33" type="text/javascript">//</script>
	<script src="/b2b_ibm/b2b/customize/js/jquery.treeTable.js?ver=1.0.33" type="text/javascript">//</script>
	<script src="/b2b_ibm/b2b/customize/js/quote.js?ver=1.0.33" type="text/javascript">//</script>
	<script src="/b2b_ibm/b2b/customize/js/jquery.form.js?ver=1.0.33" type="text/javascript">//</script>
	<script type="text/javascript">
		function moveMenu(){
			var scroll_top = $(document).scrollTop();  
  			if(scroll_top >= tabs_top){
    			$('#tab_nav').addClass('stickytab');
  			} else {
     			$('#tab_nav').removeClass('stickytab');
  			}
  		}
		var $ = jQuery;
		$(document).ready(function() {
			init_quote();
			$(".ibm-common-overlay").each(function() {
				//BHALM00136389:Start of condition added by Arnab on 29/10/2012 to check if 
				//the overlay window is a preferred contract overlay and based on the checking all the overlay 
				//windows have been made draggable apart from preferred contract overlay
				if ($(this).attr('id') != 'contract' && $(this).attr('id') != 'copy') {
					$(this).draggable();
				}
				//BHALM00136389:End of condition added by Arnab on 29/10/2012 to check if 
				//the overlay window is a preferred contract overlay and based on the checking all the overlay 
				//windows have been made draggable apart from preferred contract overlay
			});
		});
		
		var editableDoc = false;
	</script>
</head>
<body id="ibm-com">
	<div id="ibm-top">
		<div class="module-name">
			appbase/ibm/layout/Ibmcontenttop.inc.jsp
		</div>

		<!-- MASTHEAD_BEGIN -->
		
		<div id="ibm-masthead" role="banner">
			<div id="ibm-logo">
				<a href="http://www.ibm.com/us/en/"><img height="50" src="//www.ibm.com/i/v16/t/ibm-logo.gif" width="110" alt="IBM&reg;" /></a>
			</div>
			<ul id="ibm-geo">
				<li id="ibm-country" class="ibm-first">United States</li>
				<li id="ibm-change-country">[ <a href="//www.ibm.com/planetwide/select/selector.html" role="button" aria-label="Choose location">change</a> ]
				</li>
			</ul>
			<form method="get" action="http://www.ibm.com/Search" id="ibm-search-form" role="search" aria-labelledby="ibm-search">
				<p>
					<span id="ibm-search-scope"> 
					<!-- IBM scope search container -->
					</span>
						<label for="q">
							<img src="//www.ibm.com/i/c.gif" width="1" height="1" alt="Search for:" />
						</label>
						<input id="q" maxlength="100" name="q" type="text" />
						<input name="v" type="hidden" value="16" />
						<input type="hidden" name="en" value="utf" />
						<input name="lang" type="hidden" value="en" />
						<input name="cc" type="hidden" value="us" />
						<input name="Search" value="Search" class="ibm-btn-search" id="ibm-search" type="submit" />
				</p>
			</form>
			<div id="ibm-site-name">
				<!-- IBM site name container -->
			</div>
			
				<div id="ibm-universal-nav" role="navigation" aria-label="Site map">
			
					<ul>
						<li id="ibm-unav-home" class="ibm-first"><a href="//www.ibm.com/">Home</a></li>
						<li id="ibm-unav-solutions"><a href="//www.ibm.com/solutions/">Solutions</a></li>
						<li id="ibm-unav-services"><a href="//www.ibm.com/technologyservices/">Services</a></li>
						<li id="ibm-unav-products"><a href="//www.ibm.com/products/">Products</a></li>
						<li id="ibm-unav-support"><a href="//www.ibm.com/support/">Support & downloads</a></li>
						<li id="ibm-unav-myibm"><a href="//www.ibm.com/account/">My IBM</a></li>
					</ul>
				</div>
			</div>
			<!-- MASTHEAD_END -->

			<div id="ibm-pcon">
				<!-- CONTENT_BEGIN -->
				<div id="ibm-content" role="main">

					<!-- TITLE_BEGIN -->
					<div id="ibm-content-head">
						
						
						

						
						
						
						
						
						
						
						

						 

<h1><span id="orderPageTitle"></span></h1> 
</div> 

<div id="ibm-content-body">  

<div id="ibm-content-main"> 

     
 
 


 














 











 

   

  
       

      



 
 








  







  
  
 




 
 







 



 



<!--
@ Copyright IBM Corp. 2012
 -->


 


  



 


 
   
 
   
 
   
 
   
 
   
	   
	
 
   
 
   
 

 

	<script type="text/javascript">
		  






 
 var urlRewAppPath = "";   // stores application path
 var urlRewSessionId = ""; // store session id


function determineRewriteParameters() {

    var rewrite = "/b2b_ibm/"; 
    if (rewrite.length > 0) {
        var colpos = rewrite.indexOf(";");
        if (colpos > -1) {
            urlRewAppPath = rewrite.substring(0, colpos);
            urlRewSessionId = rewrite.substring(colpos, rewrite.length);
        }
        else {
            urlRewAppPath = rewrite;
        }
     }   

    return true;
}


function rewriteURL(srcUrl) {
	
    var rewUrl;
    var paramStart = srcUrl.indexOf("?");
    
    // are there already any request parameters, so we have to insert the urlRewSessionId before them
    if (paramStart == -1) {
        rewUrl = srcUrl + urlRewSessionId;
    } 
    else {
        rewUrl = srcUrl.substring(0, paramStart) + urlRewSessionId + srcUrl.substring(paramStart, srcUrl.length);   
    }
    
    if (urlRewAppPath.length > 0) {
    	if (rewUrl.charAt(0) == "/") {
            rewUrl = urlRewAppPath.substring(0, urlRewAppPath.length -1) + rewUrl;
        }
        else {
            rewUrl = urlRewAppPath + rewUrl;
        }
    }

    return rewUrl;

}


determineRewriteParameters();    
	</script> 
	
	
	



    <script type="text/javascript" 
	    src="/b2b_ibm/mimes/jscript/EComBase.js"
    >
    </script>    
    <script type="text/javascript">
    <!--
    // call with the basic parameters dateFormat, dateFieldId
    function openCalendarWindow( dateFormat, dateFieldId ) 
    {
		dateField = getElement(dateFieldId);
		return openCalendarWindow3( dateFormat, dateField.value, dateField );
    }
    
     // call with the basic parameters dateFormat, dateFieldId
    function openCalendarWindowtoRight( dateFormat, dateFieldId ) 
    {
		dateField = getElement(dateFieldId);
		return openCalendarWindow4( dateFormat, dateField.value, dateField );
    }
    // call with the basic parameters dateFormat, dateFieldId
    // and execute domain relaxation in the pop-up
    function openCalendarWindowDomainRelaxed( dateFormat, dateFieldId ) 
    {
        dateField = getElement(dateFieldId); 
        dateValue = dateField.value;
        var calReady = false;
        var calendarWindow = window.open('/b2b_ibm/appbase/calendar.jsp'+'?dateFormat='+dateFormat+'&dateValue='+dateValue+'&dateFieldId='+dateFieldId+'&relaxDomain=T',
                                         'calendarWindow','width=300,height=370,screenX=200,screenY=300,titlebar=yes,resizable=yes');

	    var startTime = new Date();
	    var timeDiff = 0;
	    var stopIt = false;		
	    
        while(!calReady && !stopIt){ 
            try {
                calendarWindow.dateField=dateField;
                calReady = true;
            }
            catch(e){
            }
	        // If accessing calendar pop-up is not successful within 10 seconds we stop in order to avoid an endless loop.
	        var currentTime = new Date();
	        timeDiff = currentTime - startTime;
			if (timeDiff > 100000){
				stopIt = true;
			}
        }
        try {
        	calendarWindow.focus();
        }
        catch(e){
        }        
        return calendarWindow;
    }
    
    // call with the basic parameters dateFormat, dateFieldId 
    // and start the calendar month table on the weekDay
    function openCalendarWindowOnWeekDay( dateFormat, dateFieldId, weekDay ) 
    {
		dateField = getElement(dateFieldId); 
		return openCalendarWindow4( dateFormat, dateField.value, dateField, weekDay ); 
    }
    // call with all the parameters dateFormat, dateValue, dateField, weekDay
    function openCalendarWindow4( dateFormat, dateValue, dateField, weekDay ) 
    {
		var calendarWindow = window.open('/b2b_ibm/appbase/calendar.jsp'+'?dateFormat='+dateFormat+'&dateValue='+dateValue+'&weekDay='+weekDay,
				      					 'calendarWindow','width=300,height=370,screenX=200,screenY=300,titlebar=yes,resizable=yes');
		calendarWindow.dateField=dateField;
		calendarWindow.focus();
		return calendarWindow;
    }
    // call with the most common 3 parameters dateFormat, dateValue, dateField
    function openCalendarWindow3( dateFormat, dateValue, dateField ) 
    {
		var calendarWindow; 
		//BHALM00173824:Start of code added by Arnab on 01/03/2013 to pass the id of CRAD text field 
		if(dateField.id=='headerReqDeliveryDate'){
			calendarWindow = window.open('/b2b_ibm/appbase/calendar.jsp'+'?dateFormat='+dateFormat+'&dateValue='+dateValue+'&dateFieldId='+dateField.id,
				      					 'calendarWindow','width=300,height=370,screenX=200,screenY=300,titlebar=yes,resizable=yes');
		}else{
			calendarWindow = window.open('/b2b_ibm/appbase/calendar.jsp'+'?dateFormat='+dateFormat+'&dateValue='+dateValue,
				      					 'calendarWindow','width=300,height=370,screenX=200,screenY=300,titlebar=yes,resizable=yes');
		}
		//BHALM00173824:End of code added by Arnab on 01/03/2013 to pass the id of CRAD text field
		calendarWindow.dateField=dateField; 
		calendarWindow.focus();
		return calendarWindow;
    }

    // call with the parameters dateFormat, dateField. The dateValue is taken from the dateField
    function openCalendarWindow2( dateFormat, dateField ) 
    {
		return openCalendarWindow3( dateFormat, dateField.value, dateField ) 
    }

    // call with the dateField, The dateFormat is the default SAP date, The dateValue is taken from the dateField
    function openCalendarWindow1( dateField ) 
    {
		var calendarWindow = window.open('/b2b_ibm/appbase/calendar.jsp'+'?dateValue='+dateField.value,
				      					 'calendarWindow','width=300,height=370,screenX=200,screenY=300,titlebar=yes,resizable=yes');
		calendarWindow.dateField=dateField;
		calendarWindow.focus();
		return calendarWindow;
    }
    
    // display the calendar control embedded not as pop-up (needs modification of the calling JSP)
    function showCal(dateFormat, dateFieldId, calDivId, calFrameName){
        dateField = getElement(dateFieldId); 
        var calendarFrame = getElement(calFrameName);
        // display the calendar div-area
        toggleCal(calDivId);
        // set the inputfield object at the calendarFrame
        var calReady = false;
        var startTime = new Date();
        var timeDiff = 0;
        var stopIt = false;     
        
        while(!calReady && !stopIt){ 
            try {
                calendarFrame.contentWindow.dateField = dateField;
                calReady = true;
            }
            catch(e){
            }
            // If accessing calendar frame is not successful within 10 seconds we stop in order to avoid an endless loop.
            var currentTime = new Date();
            timeDiff = currentTime - startTime;
            if (timeDiff > 100000){
                stopIt = true;
            }
        }
        
    }
    
    // call with the most common 3 parameters dateFormat, dateValue, dateField
    function openCalendarWindow4( dateFormat, dateValue, dateField ) 
    {
		var calendarWindow = window.open('/b2b_ibm/appbase/calendar.jsp'+'?dateFormat='+dateFormat+'&dateValue='+dateValue,
				      					 'calendarWindow','width=320,height=320,screenX=950,screenY=300,resizable=yes');
		calendarWindow.dateField=dateField;
		calendarWindow.focus();
		return calendarWindow;
    }

    // display or hide the div-area of the embedded calendar control
    function toggleCal(divId){
        getElement(divId).style.display=(getElement(divId).style.display=='block') ? 'none' : 'block';
    }
    
    //-->
    </script> 
	
	 

 
 
 
	     
            
	





<script type="text/javascript">

function groupStoreSave(itemCount){
  if(check_isGroupStore(itemCount)){
    save_quote1();
  }
}
function groupStoreCheckOut(itemCount, checkAccFlag){
    
    if(!pre_check_out_cart(checkAccFlag)){
        return false;
    }
    
  
  if(check_isGroupStore(itemCount)){
    check_out_cart(itemCount);
  }
}
function check_isGroupStore(itemCount){
  	  document.getElementById('Z9BMessage').innerHTML = "";
  	  document.getElementById('headerCommentMessage').innerHTML = "";
  	  document.getElementById('ZBCMessage').innerHTML = "";
  	var headerComment = document.forms["order_positions"].headerComment.value;
  	if(headerComment == null || headerComment.length == 0 ){
          switchTab('6',itemCount);
  	  document.getElementById('headerCommentMessage').innerHTML = "Please enter customer notes.";
  	  return false;
  	}
  	var Z9Bemail1 = document.forms["order_positions"].Z9Bemail1.value;
        if(Z9Bemail1 == null || Z9Bemail1.length == 0 ){
          switchTab('6',itemCount);
  	  document.getElementById('Z9BMessage').innerHTML = "Please enter delivery contact";
  	  return false;
  	}
  	var ZBCemail1 = document.forms["order_positions"].ZBCemail1.value;
        if(ZBCemail1 == null || ZBCemail1.length == 0 ){
          switchTab('6',itemCount);
  	  document.getElementById('ZBCMessage').innerHTML = "Please enter billing contact.";
  	  return false;
  	}
  	return true;
}

var t2 = "null";
var soldTo = "BP10AIL4ST";

function pre_check_out_cart(checkAccFlag){ 
	// CR63473 Qiang changes start  
	if(document.getElementById("acceptTCs") !=null && !document.getElementById("acceptTCs").checked){
        alert("Please accept the agreement before checkout!");
        return false;
    } 
    return true;
}
 
function validateTab(checkAccFlag){

    if(checkAccFlag!=null && checkAccFlag.toUpperCase() != "Y"){  
       if(!$("#errormessage").find("#id0").length){
		 $("#errormessage").append("<p class='ibm-ind-error' id='id0'><strong>"+"Online checkout is not permitted in"+"&nbsp;&nbsp;" + "DE"+"  </strong></p>");
	   }
	   $("#checkout").removeClass().addClass("ibm-btn-arrow-dis");
       $("#checkout").attr("disabled",true);
	   return false; 
    } else {
		$("#errormessage").find("#id0").remove();
		$("#checkout").attr("disabled",false);
		$("#checkout").removeClass().addClass("ibm-btn-arrow-sec");
	}
     
	   
	 	
		if($("#specialBidRequiresAuthorization2Market").attr("checked") == true){
			if(!$("#errormessage").find("#id1").length){
				$("#errormessage").append("<p class='ibm-ind-error' id='id1'><strong>" + "Online checkout is not permitted. One or more line items requires authorization to market approval. Please submit special bid." + "</strong></p>");
			} 
			$("#checkout").removeClass().addClass("ibm-btn-arrow-dis");
			$("#checkout").attr("disabled",true);
			return false;
		} else {
			$("#errormessage").find("#id1").remove();
			$("#checkout").attr("disabled",false);
			$("#checkout").removeClass().addClass("ibm-btn-arrow-sec");
		}
		if ($("#specialBidUsedMachineIncluded").attr("checked") == true){
			if(!$("#errormessage").find("#id2").length){
				$("#errormessage").append("<p class='ibm-ind-error' id='id2'><strong>" + "Online checkout is not permitted. One or more line items are for used machines. Please submit special bid." + "</strong></p>");
			}
			$("#checkout").removeClass().addClass("ibm-btn-arrow-dis");
			$("#checkout").attr("disabled",true);
			return false;
		} else {
			$("#errormessage").find("#id2").remove();
			$("#checkout").attr("disabled",false);
			$("#checkout").removeClass().addClass("ibm-btn-arrow-sec");
		}
		if ($("#specialBidSpecialTnC").attr("checked") == true){
			if(!$("#errormessage").find("#id3").length){
			$("#errormessage").append("<p class='ibm-ind-error' id='id3'><strong>" + "Online checkout is not permitted. One or more line items require special T&C. Please submit special bid." + "</strong></p>");
			}
			$("#checkout").removeClass().addClass("ibm-btn-arrow-dis");
			$("#checkout").attr("disabled",true);
			return false;
		} else {
			$("#errormessage").find("#id3").remove();
			$("#checkout").attr("disabled",false);
			$("#checkout").removeClass().addClass("ibm-btn-arrow-sec");
		}
		if (Number($("#totalEndUserPrice").val()) > 0){ 
			if(!$("#errormessage").find("#id4").length){
				$("#errormessage").append("<p class='ibm-ind-error' id='id4'><strong>" + "Online checkout is not permitted. One or more line items require special bid pricing approval. Please submit special bid." + "</strong></p>");
			}
			$("#checkout").removeClass().addClass("ibm-btn-arrow-dis");
			$("#checkout").attr("disabled",true);
			return false;
		} else {
			$("#errormessage").find("#id4").remove();
			$("#checkout").attr("disabled",false);
			$("#checkout").removeClass().addClass("ibm-btn-arrow-sec");
		}
		if (t2 == soldTo){
			if(!$("#errormessage").find("#id5").length){
			$("#errormessage").append("<p class='ibm-ind-error' id='id5'><strong>" + "Online checkout is not permitted. T2 Resellers cannot complete the checkout process. Please contact the Distributor on this deal to complete the checkout process." + "</strong></p>"); 
			}
			$("#checkout").removeClass().addClass("ibm-btn-arrow-dis");
			$("#checkout").attr("disabled",true);
		} else {
			$("#errormessage").find("#id5").remove();
			$("#checkout").attr("disabled",false);
			$("#checkout").removeClass().addClass("ibm-btn-arrow-sec");
		}
	  
	
	   // CR63473 Qiang changes start  
	
    return true;
}
 

function fillItems()
{
		document.getElementById("IGF_Firm_Rate_offering_type").value = document.getElementById("IGF_Firm_Rate_offering_type_disp").value;
		document.getElementById("IGF_Firm_Rate_payment_term").value = document.getElementById("IGF_Firm_Rate_payment_term_disp").value;
		document.getElementById("IGF_Firm_Rate_credit_rating").value = document.getElementById("IGF_Firm_Rate_credit_rating_disp").value;
		document.getElementById("IGF_Firm_Rate_payment_frequency").value = document.getElementById("IGF_Firm_Rate_payment_frequency_disp").value;
		document.getElementById("IGF_Firm_Rate_payment_frequency_wmb").value = $("#IGF_Firm_Rate_payment_frequency_disp>option:selected").text();;  
		document.getElementById("IGF_Firm_Rate_payment_profile").value = document.getElementById("IGF_Firm_Rate_payment_profile_disp").value;
}

function check_out_cart(itemCount, checkAccFlag){
    
    if(!pre_check_out_cart(checkAccFlag)){
        return false;
    } 
    
    fillItems();
	var paymentType = document.forms["order_positions"].paymentType.value;	
	var bppotext = document.forms["order_positions"].ibm_ponumber_header.value;	

	if(paymentType == null || paymentType.length == 0 )
	{
		document.getElementById('paymentMessage').innerHTML = "Please select payment method";
		switchTab('6',itemCount);
		//alert("Please select payment method");
		document.forms["order_positions"].paymentType.focus();
		return false;
	}
	else if(bppotext == null || bppotext.length == 0 )
	{
		document.getElementById('bppotextmessage').innerHTML = "Please enter BP PO value";
		switchTab('6',itemCount);
		document.forms["order_positions"].ibm_ponumber_header.focus();
		return false;
	}
	else
	{
		document.forms["order_positions"].checkoutpressed.value="true";
		document.forms["order_positions"].statusbutton.value="checkout";
		save_quote();
	}
}

$(function(){
    //for EDD65c, by liuqiang
    //The change event of 'Trial/Evaluation' check box
    $("#trialFlag").change( function() {
        if($("#trialFlag").is("input:checked")){
            $("#trialFlagMark").removeAttr("style");
            $("#eswTrialDuration").attr("class", "ibm-b2b-sb-required-float");
            $("#orderReason").val("972");
        }
        else {
            $("#trialFlagMark").attr("style", "display:none");
            $("#eswTrialDuration").removeAttr("class");
            if($("#orderReason").val()=="972"){
                $("#orderReason").val("");
            }
        }
    });
    
    //for EDD65c, by liuqiang
    //The change event of 'Order Reason' dropdown list
    $("#orderReason").change( function() {
        if($("#trialFlag").length){
            if($("#orderReason").val()=="972"){
                $("#trialFlag").attr("checked", "checked");
                $("#trialFlagMark").removeAttr("style");
                $("#eswTrialDuration").attr("class", "ibm-b2b-sb-required-float");
            }
            else{
                $("#trialFlag").removeAttr("checked");
                $("#trialFlagMark").attr("style", "display:none");
                $("#eswTrialDuration").removeAttr("class");
            }
        }
    });
    
    
    //order_positions form submit event
    $("#order_positions").submit( function () {
        //for EDD65c, by liuqiang
        //If SVC Requested = 'Y', SVC Duration cannot be 0
        if($("#svcRequest").length){
            if( $("#svcRequest").is("input:checked") && 
                $("#svcDuration").val()==0){
                alert("SVC Duration cannot be 0");
                return false;
            }
        }
    } ); 
    
    //for 65c, by lq
    $("#PO_DATE_SOLD_ID").focus( function() {
        $("#PO_DATE_SOLD_COPY_ID").val( 
            $("#PO_DATE_SOLD_ID").val() );
    } ); 
    $("#PO_DATE_SOLD_COPY_ID").focus( function() {
        $("#PO_DATE_SOLD_ID").val( 
            $("#PO_DATE_SOLD_COPY_ID").val() );
    } ); 
    
    //for edd22 - about "Remove" checkbox to select/deselect all item, by liuqiang
    $("#checkAllRemoveItems").change( function() {
        if($(".ibm_to_be_remove").length){
            if($("#checkAllRemoveItems").is("input:checked")){
                $(".ibm_to_be_remove").attr("checked", "checked");
            }
            else {
                $(".ibm_to_be_remove").removeAttr("checked");
            }
        }
    });
    
} ); 


//A common method: add a message to the message area on cart page
function addMessageOnCartPage(msgType, msg, id) {
    var classVal = "";
    var messageType="";
    if(msgType=="I") {
        classVal = "ibm-ind-information";
        messageType = "Info";
    }
    else if(msgType=="E") {
        classVal = "ibm-ind-error";
        messageType = "Error";
    }
    else {
        classVal = msgType;
        messageType = msgType;
    }
    if($("#errormessage").length){
        $("#errormessage").append("<span class='ibm-access'>" + messageType + "</span><p id='" + id + "' class='" + classVal + "'><strong>" + msg + "</strong></p>");
    }
}

//A common method: disable a button by id
function disableButtonById(id) {
    if($("#"+id).length){
        $("#"+id).attr("disabled", "disabled");
        $("#"+id).attr("class", "ibm-btn-arrow-dis");
    }
}

</script>
<script type="text/javascript">
<!--
    var sessionid = "/b2b_ibm/";
	
	    function toggleCampaignRows(iconId, targetId, rows) {
        
  	    if (navigator.userAgent.indexOf("MSIE") != -1) {
  	    // the world of the IEs
            //alert("IE - Modus");
            icon = document.all(iconId); 
            
            for (i = 1; i <= rows; i++) {
                target = document.all(targetId + i);
    		    if (target.style.display == "none") {
    			    target.style.display = "block";
    		    }
                else {
    			    target.style.display = "none";
    		    }
    		    //handle error rows, if existing
    		    targetErr = document.all(targetId + i + "_err");
    		    
    		    if (targetErr != null) {
    		        if (targetErr.style.display == "none") {
    			        targetErr.style.display = "block";
    		        }
                    else {
    			        targetErr.style.display = "none";
    		        }
    		    }
            }
    	} 
    	else {
    	  // the world of W3C
    	    //alert("W3C - Modus");
            icon = document.getElementById(iconId);
            
            for (i = 1; i <= rows; i++) {
                target = document.getElementById(targetId + i);
    		    if (target.style.display == "none") {
    			    target.style.display = "table-row";
    		    }
                else {
    			    target.style.display = "none";
    		    }
                
               //handle error rows, if existing
    		   targetErr = document.getElementById(targetId + i + "_err");

    		   if (targetErr != null) {
    		       if (targetErr.style.display == "none") {
    			       targetErr.style.display = "table-row";
    		       }
                   else {
    			       targetErr.style.display = "none";
    		       }
    		    }
            }
    	} 
        
        if (icon.src.lastIndexOf("open.gif") > 0) {  
            iconpath = icon.src.substring(0, icon.src.lastIndexOf("open.gif"));
    		icon.src=iconpath + "close.gif";
    		icon.alt='Hide Additional Fields';
    	}
        else {
            iconpath = icon.src.substring(0, icon.src.lastIndexOf("close.gif"));
    		icon.src=iconpath + "open.gif";
    		icon.alt='Show Additional Fields';
    	}
  	} 
    
    function showProductReplacementHelp() {
      window.open('/b2b_ibm/b2b/productreplacementhelp.jsp',
                  'Help',
                  'scrollbars=yes,height=360,width=370');
    }

    function showShipTo(index) {
      var url = "/b2b_ibm/b2b/showshipto.do?shipToIndex=" + index;
      var sat = window.open(url, 'sat_details', 'width=450,height=450,menubar=no,locationbar=no,scrolling=auto,resizable=yes');
      sat.focus();
      return true;
    }

    function showShipToWithTechKey(techKey) {
      var url = "/b2b_ibm/b2b/showshipto.do?shipToTechKey=" + techKey;
      var sat = window.open(url, 'sat_details', 'width=450,height=450,menubar=no,locationbar=no,scrolling=auto,resizable=yes');
      sat.focus();
      return true;
    }

    function showSoldTo(bupaKey) {
        var url = '/b2b_ibm/b2b/businesspartnershow.do?inWindow=true&readOnly=true&bupaTechkey=' + bupaKey ;
        openWinExtended(url,450,310);
      }

    function contractInfo(contractKey, contractItemKey, contractId) {
      var url = "/b2b_ibm/b2b/detailcontractread.do?detailContractKey=" + contractKey + "&detailContractItemKey=" + contractItemKey + "&detailContractId=" + contractId;
      window.open( url, 'contractdetails', 'height=500, width=400, resizable=yes, scrollbars=yes');
    }
	
    
	var linecount = 0 + 5;
      
	
	function disableEmptyInputFields() {
	  
	  
	  
	  
	  
	
	  
	  for(var i =1; i <= (linecount); i++) {
		  
		  var productString = "document.forms['order_positions'].elements['product["+ i +"]']";
		  if (eval(productString) == undefined || eval(productString).value == "") {
            continue;
		  }
		  
		  var elementString = "document.forms['order_positions'].elements['comment["+ i +"]']";
		  
		  var elementObject = eval(elementString);
		  if (elementObject != null && elementObject.value == "") {
			  elementToDisable = "comment["+ i +"]";
			  document.getElementById(elementToDisable).disabled=true;
		  }
		  
		  
		  
		  
	  } 
	}
	
	function send_confirm() {
		// Multiple Invokation handling (note 905589)
		if (isBasketEmpty()  &&  miSetStatusUpdateRunning()) { // note 908052
		  alert('Quotation is empty');
		  return false ;
		}
		
        send_confirm_header_only();
     }
        
    function send_confirm_header_only() {
        // Multiple Invokation handling (note 905589)
        if ( ! miSetStatusUpdateRunning()) return false;	
        check = confirm('Do you really want to save the quotation?');
		
		if(check) {
		  document.forms["order_positions"].sendpressed.value="true";
		  disableEmptyInputFields();
		  document.forms["order_positions"].submit();
          miSetStatusUpdateRunning(true); // note 908052
		} 
		return check;
	}
	
	function cancel_confirm() {
        // Multiple Invokation handling (note 905589)
        if ( ! miSetStatusUpdateRunning()) return false;	
		check = confirm('Do you really want to cancel the quotation?');
		
		if(check) {
		  document.forms["order_positions"].target = "form_input";
		  document.forms["order_positions"].cancelpressed.value="true";
		  document.forms["order_positions"].submit();
          miSetStatusUpdateRunning(true); // note 908052
		}		
		return check;
	}

	function order_confirm() {
        // Multiple Invokation handling (note 905589)
        if ( ! miSetStatusUpdateRunning()) return false;
   		if (document.forms["order_positions"] != null) {
			
			if (isBasketEmpty()) {
				alert('Collective order is empty');	
			  	return false;	
			}

	       	check = confirm("Do you want to submit the collective order now?");
    	  	if(check == true) {
        		document.forms["order_positions"].orderpressed.value="true";
            	disableEmptyInputFields();
	            document.forms["order_positions"].submit();
                miSetStatusUpdateRunning(true); // 908052
    	  	}
    	  	return check;
    	}  	
          
        return false;
      }

     
     function goToFirstEmptyPos() {
     
        
  	    i = 1;
  	    
	    while (i <= linecount && !false) {

			if (getElement("product[" + i + "]").value == "") {
			    getElement("product[" + i + "]").focus();
		        break;
			}
	        i = i + 1;
	    }
	    
	    
	    if (i > linecount) {
	        getElement("product[" + linecount + "]").focus();
	    }
     }
     // *** START multiple invokation handling (note (note 905589))
     var miAllObjs = null;
     // note 1101891 - begin
     var miAllImgObjs = null;
     // note 1101891 - end
     var miUpdateStarted = false;
     // function is called on onload event of HTML page
     function miRegisterObjects() {
       // all buttons are modelled as <a href...>
       miAllObjs = document.getElementsByTagName('a');
       // a few buttons are modelled as <img...>
       miAllImgObjs = document.getElementsByTagName('img');
     }
     
     function miSetStatusUpdateRunning(setLock) {
       if (miUpdateStarted) {
         return false;
       }
       if (setLock) {  // note 908052
         miUpdateStarted = true;
         for (var i = 0; i < miAllObjs.length; i++) {
           miAllObjs[i].title="Request in progress, please be patient";
         // note 1101891 - begin
           // disable some buttons 
           var first11 = miAllObjs[i].id.substring(0,11);
           if (miAllObjs[i].id == "toggleAllItems" ||
               miAllObjs[i].id == "toggleHeader"   ||
               first11         == "toggleItem_" ) {
              miAllObjs[i].href="#";
           }
         }
         // change quick info of img tags
         for (var i = 0; i < miAllImgObjs.length; i++) {
           var first10 = miAllImgObjs[i].id.substring(0,10);
           if (miAllImgObjs[i].id == "addheadericon" ||
               first10            == "rowdetail_" ) {
              miAllImgObjs[i].title="Request in progress, please be patient";
           }
         // note 1101891 - end
         }
       }
       return true;
     }
     // *** END multiple invokation handling
  //-->
  </script>
		
	



<script type="text/javascript">

	var appContextPath = "/b2b_ibm/";
	var imgPath = "/b2b_ibm/b2b/framework/images/";
	var jsVersion = "1.0.33";//this parameter is for ajax page forwarding.
</script>

<script type="text/javascript" src="/b2b_ibm/b2b/framework/thirdparty/upload/ajaxfileupload.js?ver=1.0.33"></script>
<script type="text/javascript" src="/b2b_ibm/b2b/framework/translate/translate.js?ver=1.0.33"></script>
<script type="text/javascript" src="/b2b_ibm/b2b/framework/base/application.js?ver=1.0.33"></script>
<script type="text/javascript" src="/b2b_ibm/b2b/framework/base/json2.js?ver=1.0.33"></script>	
<script type="text/javascript" src="/b2b_ibm/b2b/framework/base/loading.js?ver=1.0.33"></script>	
<script type="text/javascript" src="/b2b_ibm/b2b/framework/quote/cartCache.js?ver=1.0.33"></script>
<script type="text/javascript" src="/b2b_ibm/b2b/framework/quote/cartHelper.js?ver=1.0.33"></script>	
<script type="text/javascript" src="/b2b_ibm/b2b/framework/attachment/attachment.js?ver=1.0.33"></script> 
<script type="text/javascript" src="/b2b_ibm/b2b/framework/cache/requestCache.js?ver=1.0.33"></script>
<script type="text/javascript" src="/b2b_ibm/b2b/framework/tab/tab.js?ver=1.0.33"></script>
<script type="text/javascript" src="/b2b_ibm/b2b/customize/quote/specialbid.js?ver=1.0.33"></script>
<script type="text/javascript" src="/b2b_ibm/b2b/ibm/jscript/IBM_Quote.js?ver=1.0.33"></script>



	


<script type="text/javascript" src="/b2b_ibm/b2b/jscript/table_highlight.js?ver=1.0.33"></script>
<script type="text/javascript" src="/b2b_ibm/b2b/jscript/reload.js?ver=1.0.33"></script>
<script type="text/javascript" src="/b2b_ibm/b2b/jscript/frames.js?ver=1.0.33"></script>
<script type="text/javascript" src="/b2b_ibm/auction/jscript/calendar.js?ver=1.0.33"></script>
<script type="text/javascript" src="/b2b_ibm/b2b/jscript/browsersniff.js?ver=1.0.33"></script>
<script type="text/javascript" src="/b2b_ibm/mimes/jscript/EComBase.js?ver=1.0.33"></script>

<script type="text/javascript" src="/b2b_ibm/b2b/jscript/orderToolsRetkey.js?ver=1.0.33"></script>

<script type="text/javascript" src="/b2b_ibm/b2b/ibm/quotation/IGFRequestFirmRates/IGFSelectionItemTable.js?ver=1.0.33"></script>
<script type="text/javascript" src="/b2b_ibm/b2b/ibm/quotation/IGFRequestPlanningRates/IGFRequestingPlanningRates.js?ver=1.0.33"></script>
<script type="text/javascript" src="/b2b_ibm/appbase/ibm/javascript/gen_validatorv31.js?ver=1.0.33"></script>


	<script src="/b2b_ibm/b2b/jscript/orderTools.js?ver=1.0.33"
		  type="text/javascript">
	</script>	 
   
	<script type="text/javascript">
		  
<!--
        function getVinPopup() {
          var url = "";
          var url = rewriteURL("/b2b/showextrefobj.do")+"?level=1&vinvalues="+getVins();
          var sat = window.open(url, 'Fahrgestellnummern', 'width=450,height=450,menubar=no,locationbar=no,scrollbars=yes,resizable=yes');
          sat.focus();
        }
        
        function getVins() {
      	  var vinsH;
      	  var fieldH;
      	  var fieldH1;
      	  // get the Elements
      	  fieldH1 =getElement("vinNum");
      	  fieldH = getElement("addVinNum");
      	  if ((fieldH1 != null && fieldH1.value != '') && (fieldH != null && fieldH.value == '')) {
            vinsH = fieldH1.value;
      	  } else if (fieldH1 != null && fieldH != null) {	
      	    vinsH = getCheckedVins(fieldH1.value, fieldH.value);
      	  } else {
      	    vinsH = "";
      	  }
      	  return vinsH;
        }  
        
        function getCheckedVins(vin, vins) {
          var i = 0;
          var firstVIN;
          var checkedVINs;
          i = vins.indexOf(';');
          if (i != -1) {
            firstVIN = vins.substring(0, i);	
          }
          if (vin == firstVIN) {
            checkedVINs = vins;	
          } else {
            checkedVINs = vin.concat(vins.substring(i));
          }
          return checkedVINs;
        }
        
        function getVinPopupItem(itemKey, line) {
          var url = "";
          var url = rewriteURL("/b2b/showextrefobj.do")+"?level=0&itemkey="+itemKey+"&linenum="+line+"&vinvalues="+getVinsItem(line);
          var sat = window.open(url, 'Fahrgestellnummern', 'width=450,height=450,menubar=no,locationbar=no,scrollbars=yes,resizable=yes');
          sat.focus();
        
        } 
        
        function getVinPopupNewItem(line) {
          var url = "";
          var url = rewriteURL("/b2b/showextrefobj.do")+"?level=0&linenum="+line+"&vinvalues="+getVinsItem(line);
          var sat = window.open(url, 'Fahrgestellnummern', 'width=450,height=450,menubar=no,locationbar=no,scrollbars=yes,resizable=yes');
          sat.focus();        
        }
        
        function getVinsItem(line) {
      	  var vinsI;
      	  var fieldI;
      	  var fieldI1;
      	  var fieldname1;
      	  var fieldname;
      	  fieldname1 = "vinNum_" + line;
      	  fieldname = "addVinNum_" + line;
      	  // get the Elements
      	  fieldI1 = getElement(fieldname1);
      	  fieldI = getElement(fieldname);
      	  if ((fieldI1 != null && fieldI1.value != '') && (fieldI != null && fieldI.value == '')) {
            vinsI = fieldI1.value;
      	  } else if (fieldI1 != null && fieldI != null) {
      	    vinsI = getCheckedVins(fieldI1.value, fieldI.value);
      	  } else {
      	    vinsI = "";
      	  }
      	  return vinsI;
        }  
        
        function getVinPopupH(level, vins) {
          var url = "";
          var url = rewriteURL("/b2b/showextrefobjconfirm.do")+"?level="+level+"&savedvins="+vins;
          var sat = window.open(url, 'Fahrgestellnummern', 'width=450,height=450,menubar=no,locationbar=no,scrollbars=yes,resizable=yes');
          sat.focus();      
        } 
        
        function getVinPopupOC() {
          var url = "";
          var url = rewriteURL("/b2b/showextrefobjchange.do")+"?level=1&vinvalues="+getVins();
          var sat = window.open(url, 'Fahrgestellnummern', 'width=450,height=450,menubar=no,locationbar=no,scrollbars=yes,resizable=yes');
          sat.focus();
        }

        function getVinPopupItemOC(itemKey, line) {
          var url = "";
          var url = rewriteURL("/b2b/showextrefobjchange.do")+"?level=0&itemkey="+itemKey+"&linenum="+line+"&vinvalues="+getVinsItem(line);
          var sat = window.open(url, 'Fahrgestellnummern', 'width=450,height=450,menubar=no,locationbar=no,scrollbars=yes,resizable=yes');
          sat.focus();
        
        } 
        
        function getVinPopupNewItemOC(line) {
          var url = "";
          var url = rewriteURL("/b2b/showextrefobjchange.do")+"?level=0&linenum="+line+"&vinvalues="+getVinsItem(line);
          var sat = window.open(url, 'Fahrgestellnummern', 'width=450,height=450,menubar=no,locationbar=no,scrollbars=yes,resizable=yes');
          sat.focus();        
        } 
        
        function checkDuplicateVin(msg) {
          var vinV;
          var vinH;
          var fieldV;
          var fieldH;
          var doublet = false;
          fieldV = getElement("vinNum");
          fieldH = getElement("addVinNum");
          if ((fieldV != null && fieldV.value != '') && (fieldH != null && fieldH.value != '')) {
            vinV = fieldV.value;
            vinH = fieldH.value;
            doublet = checkDoubleVin(vinV, vinH);
            if (doublet == true) {
              alert(msg);
              var focusString = "document.order_positions.vinNum.focus()";
	      eval(focusString);
              return doublet;
            }	
          }
          return doublet;
        }
        
        function checkDoubVinItem(lines, msg) {
          var vinV;
          var vinH;
          var fieldV;
          var fieldH;
          var doublet = false;
          for (var i = 1; i <= lines; i++) {
      	      fieldNameV = "vinNum_" + i;
      	      fieldNameH = "addVinNum_" + i;
      	      // get the Elements
      	      fieldV = getElement(fieldNameV);
      	      fieldH = getElement(fieldNameH);
              if ((fieldV != null && fieldV.value != '') && (fieldH != null && fieldH.value != '')) {
                  vinV = fieldV.value;
                  vinH = fieldH.value;
                  doublet = checkDoubleVin(vinV, vinH);
                  if (doublet == true) {
                      alert(msg);
                      var focusString = "document.order_positions.vinNum_" + i + ".focus()";
	              eval(focusString);
                      return doublet;
                  }	
              }      	      
	  }
	  return doublet;
        }


        function checkDoubVinItemPos(line, msg) {
          var vinV;
          var vinH;
          var fieldV;
          var fieldH;
          var doublet = false;
          fieldNameV = "vinNum_" + line;
      	  fieldNameH = "addVinNum_" + line;
      	  // get the Elements
      	  fieldV = getElement(fieldNameV);
      	  fieldH = getElement(fieldNameH);
          if ((fieldV != null && fieldV.value != '') && (fieldH != null && fieldH.value != '')) {
              vinV = fieldV.value;
              vinH = fieldH.value;
              doublet = checkDoubleVin(vinV, vinH);
              if (doublet == true) {
                  alert(msg);
                  var focusString = "document.order_positions.vinNum_" + line + ".focus()";
	          eval(focusString);
                  return doublet;
              }	
          }      	      
	  return doublet;
        }
        
        function checkDoubleVin(vin, vins) {
          var doub = false;
          var ende;
          var hit2;
          var hit = vins.indexOf(vin);
	  if (hit > 0) {
              var look = vins.substring(hit - 1);
              hit2 = look.indexOf(';');
              if (0 == hit2) {
                  var end = look.substring(1);
                  var hit3 = end.indexOf(';');
                  if (vin.length == hit3) {
                      doub = true;
                  }
              }
          }
          return doub;
        }  
        
        function check_submit_refresh(lines, msg) { 
            var testH = false; 
            var testI = false;
            testH = checkDuplicateVin(msg);
            testI = checkDoubVinItem(lines, msg);
            if (testH == false && testI == false) {      
                submit_refresh(); 
            }
        }
        
        function checkVinToggle(line, msg) {
            var doubles = checkDoubVinItemPos(line, msg);
            if (doubles == false) {
                toggle("rowdetail_" + line);
            }
        }


	function check_send_confirm(lines, msg)  {
            var testH = false; 
            var testI = false;
            testH = checkDuplicateVin(msg);
            testI = checkDoubVinItem(lines, msg);
            if (testH == false && testI == false) {      
                send_confirm(); 
            }		
	}
	
	function check_send_confirm_header_only(msg) {
	    var testH = false; 
            testH = checkDuplicateVin(msg);
            if (testH == false) {      
                send_confirm_header_only(); 
            }	
	}            
//-->
	</script>
	
	
	<script type="text/javascript">    	
	<!--	   	
	function priceAndPromotesInit(ele) {
		if (typeof(initUnresolvedContracts) == "function") {
			initUnresolvedContracts({'element' : ele, 'tabName' : 'promotion'});
		}
	}
	function checkoutInit(ele) {
		if (typeof(initUnresolvedContracts) == "function") {
			initUnresolvedContracts({'element' : ele, 'tabName' : 'checkout'});
		}
	}
	//-->
	</script> 
<script type="text/javascript">
    function checkExtName() {   
		if($("#productList").attr("value") == ""){
			var filePath = document.getElementById("importFile_file").value ; 
			var fileType = "";
			var fts = document.getElementsByName("fileType");
			for( i = 0; i<fts.length; i++){
				if(fts[i].checked){
					fileType= fts[i].value;
				}
			}
			var extname =  filePath.substr(filePath.indexOf('.')+1).toUpperCase();
			document.getElementById("importfile_msg").innerHTML = '';
			
			if(extname != fileType){//incorrect format 
				
				if(fileType == 'XLS'){
					document.getElementById("importfile_msg").innerHTML = "Selected file format is incorrect. Please select a '.xls' file and resubmit";
				}
				else if(fileType == 'CSV'){
					document.getElementById("importfile_msg").innerHTML = "Selected file format is incorrect. Please select a '.csv' file and resubmit";				
				}  
				return false;
			} 
		}  
		_application.uploadFile({
			url : "b2b/ibm/addFromCatalog.do",
			uploadFormId : "productUploadForm",
			fileElementId : "importFile_file",
			params : {
				filename : filePath,
				fileType : fileType,
				productList	: $("#productList").val()		
			},
			callback : uploadFileComplete	
		});
		return true;
    }
    
    function uploadFileComplete(ret){
		for ( var i = 0; i < ret.length; i++) {
			var obj = ret[i];	
			var bExist = false;
			$("input[type=text][name^=quantity]").each(function(){ 
				if ($(this).val()=="") {
					$(this).attr("value",obj["quantity"]); 
					bExist = true;
					return false;
				}
			}); 
			$("input[type=text][name^=product]").each(function(){
				 if ($(this).val()=="") {
					$(this).attr("value",obj["product"]); 
					return false;
				}
			});  
			if(!bExist){
				var paramInput1 = $("<input>").attr({
						"type" : "hidden",
						"id" : "product[" + (i+1) + "]",  
						"name" : "product[" + (i+1) + "]",  
						"value" :obj["product"]
					}); 
				var paramInput2 = $("<input>").attr({
						"type" : "hidden",
						"id" : "quantity[" + (i+1) + "]",  
						"name" : "quantity[" + (i+1) + "]",  
						"value" :obj["quantity"]
					});  					
				$("#order_positions").append(paramInput1); 
				$("#order_positions").append(paramInput2);  				
			}
		}
		submit_refresh();
	}
</script>
	<script type="text/javascript">    	
	<!--
	
	contentType = "UTF-8";
	

		function searchSoldTo() {
			parent.parent.organizer_nav.location.href="/b2b_ibm/b2b/organizer-nav-customer-search.jsp";
			parent.parent.organizer_content.location.href="/b2b_ibm/b2b/preparebupasearch.do";
		}
	//-->
	<!--	    
		  function getHelpValuesPopupCustomer(formName, index) {

    var param = "";
    var params = "";
    var formObject = document.forms[formName];

    var suffix = "";

    if (index!="") {
      suffix ="["+index+"]";
    }

    param = eval("formObject.elements['customerNumber" + suffix+ "']");
    if (param != null && param.value != null) {
      params = params + "&customerNumber" + suffix + "=" + param.value;
    }

    param = eval("formObject.elements['customerName1" + suffix+ "']");
    if (param != null && param.value != null) {
      params = params + "&customerName1" + suffix + "=" + param.value;
    }

    param = eval("formObject.elements['houseNumber" + suffix+ "']");
    if (param != null && param.value != null) {
      params = params + "&houseNumber" + suffix + "=" + param.value;
    }

    param = eval("formObject.elements['customerStreet" + suffix+ "']");
    if (param != null && param.value != null) {
      params = params + "&customerStreet" + suffix + "=" + param.value;
    }

    param = eval("formObject.elements['customerCity" + suffix+ "']");
    if (param != null && param.value != null) {
      params = params + "&customerCity" + suffix + "=" + param.value;
    }

    param = eval("formObject.elements['rc_custselectregion" + suffix+ "']");
    if (param != null && param.value != null) {
      params = params + "&rc_custselectregion" + suffix + "=" + param.value;
    }

    param = eval("formObject.elements['customerZipcode" + suffix+ "']");
    if (param != null && param.value != null) {
      params = params + "&customerZipcode" + suffix + "=" + param.value;
    }

    param = eval("formObject.elements['rc_custselectcountry" + suffix+ "']");
    if (param != null && param.value != null) {
      params = params + "&rc_custselectcountry" + suffix + "=" + param.value;
    }

    param = eval("formObject.elements['dunsIdentifier" + suffix+ "']");
    if (param != null && param.value != null) {
      params = params + "&dunsIdentifier" + suffix + "=" + param.value;
    }

    param = eval("formObject.elements['taxId" + suffix+ "']");
    if (param != null && param.value != null) {
      params = params + "&taxId" + suffix + "=" + param.value;
    }

    url = "/b2b_ibm/base/helpvalues.do?helpValuesSearch=Customer" 
    + "&formname=" + formName + params +"&parameterIndex=" + index;

    var sat = window.open(url, 'sat_details', 'width=600,height=400,menubar=no,locationbar=no,scrollbars=yes,resizable=yes');

    return false;

  }

			    
	//-->	
	</script> 
	<script type="text/javascript">
	<!--
		  function getHelpValuesPopupIncoTerms1(formName, index) {

    var param = "";
    var params = "";
    var formObject = document.forms[formName];

    var suffix = "";

    if (index!="") {
      suffix ="["+index+"]";
    }

    param = eval("formObject.elements['incoterms1" + suffix+ "']");
    if (param != null && param.value != null) {
      params = params + "&incoterms1" + suffix + "=" + param.value;
    }

    url = "/b2b_ibm/base/helpvalues.do?helpValuesSearch=IncoTerms1" 
    + "&formname=" + formName + params +"&parameterIndex=" + index;

    var sat = window.open(url, 'sat_details', 'width=600,height=400,menubar=no,locationbar=no,scrollbars=yes,resizable=yes');

    return false;

  }


		  	    
		  function getHelpValuesPopupCustomer(formName, index) {

    var param = "";
    var params = "";
    var formObject = document.forms[formName];

    var suffix = "";

    if (index!="") {
      suffix ="["+index+"]";
    }

    param = eval("formObject.elements['customerNumber" + suffix+ "']");
    if (param != null && param.value != null) {
      params = params + "&customerNumber" + suffix + "=" + param.value;
    }

    param = eval("formObject.elements['customerName1" + suffix+ "']");
    if (param != null && param.value != null) {
      params = params + "&customerName1" + suffix + "=" + param.value;
    }

    param = eval("formObject.elements['houseNumber" + suffix+ "']");
    if (param != null && param.value != null) {
      params = params + "&houseNumber" + suffix + "=" + param.value;
    }

    param = eval("formObject.elements['customerStreet" + suffix+ "']");
    if (param != null && param.value != null) {
      params = params + "&customerStreet" + suffix + "=" + param.value;
    }

    param = eval("formObject.elements['customerCity" + suffix+ "']");
    if (param != null && param.value != null) {
      params = params + "&customerCity" + suffix + "=" + param.value;
    }

    param = eval("formObject.elements['rc_custselectregion" + suffix+ "']");
    if (param != null && param.value != null) {
      params = params + "&rc_custselectregion" + suffix + "=" + param.value;
    }

    param = eval("formObject.elements['customerZipcode" + suffix+ "']");
    if (param != null && param.value != null) {
      params = params + "&customerZipcode" + suffix + "=" + param.value;
    }

    param = eval("formObject.elements['rc_custselectcountry" + suffix+ "']");
    if (param != null && param.value != null) {
      params = params + "&rc_custselectcountry" + suffix + "=" + param.value;
    }

    param = eval("formObject.elements['dunsIdentifier" + suffix+ "']");
    if (param != null && param.value != null) {
      params = params + "&dunsIdentifier" + suffix + "=" + param.value;
    }

    param = eval("formObject.elements['taxId" + suffix+ "']");
    if (param != null && param.value != null) {
      params = params + "&taxId" + suffix + "=" + param.value;
    }

    url = "/b2b_ibm/base/helpvalues.do?helpValuesSearch=Customer" 
    + "&formname=" + formName + params +"&parameterIndex=" + index;

    var sat = window.open(url, 'sat_details', 'width=600,height=400,menubar=no,locationbar=no,scrollbars=yes,resizable=yes');

    return false;

  }

			    
	//-->			    
	</script> 
	<script type="text/javascript">
	function disableFieldsBasedOnTab(selectedTab){
	var cartTypeCode=document.getElementById("cartTypeCode");
	if(cartTypeCode!=undefined && cartTypeCode!=null && (cartTypeCode.value=="ZIFP" || cartTypeCode.value=="ZIOC")){
    		var $ = jQuery;
    		var disabledFlagValue = true;
    		if(selectedTab=="2"||selectedTab=="6"){ 
    			disabledFlagValue = false; 
    		}
    		//BHALM00146565:Start of code changes made by Arnab on 03/12/2012 to use the "readonly" attribute instead of "disabled" attribute
    		$("input[type='text']").each(function(){
    			if(!isNameOfFieldToBeEnabled($(this).attr("name"))){
    				if(disabledFlagValue==true && !isDuplicateFieldPresent($(this).attr("name")+"_1")){
						createDuplicateHiddenField($(this).attr("name"),$(this).attr("value"));
						$(this).attr("name","");
					}
					$(this).attr("disabled",disabledFlagValue); 
				}
	 		});
			$("input[type='checkbox']").each(function(){
    			if(!isNameOfFieldToBeEnabled($(this).attr("name"))){
					if(disabledFlagValue==true && !isDuplicateFieldPresent($(this).attr("name")+"_1")){
						var checkedStatus = false;
						if($(this).is(':checked')){
							checkedStatus = true;
						}
						createDuplicateCheckbox($(this).attr("name"),$(this).attr("value"),checkedStatus);
						$(this).attr("name","");	
					}

					//$(this).attr("readonly",disabledFlagValue);
					$(this).attr("disabled",disabledFlagValue);
				}
			});
			$("input[type='radio']").each(function(){
    			if(!isNameOfFieldToBeEnabled($(this).attr("name"))){
					if(disabledFlagValue==true && !isDuplicateFieldPresent($(this).attr("name")+"_1")){
						var checkedStatus = false;
						if($(this).is(':checked')){
							checkedStatus = true;
						}
						createDuplicateRadioButton($(this).attr("name"),$(this).attr("value"));
						$(this).attr("name","");
					}
					$(this).attr("disabled",disabledFlagValue);
				}
			});		
		 	$("select").each(function(){
    			if(!isNameOfFieldToBeEnabled($(this).attr("name"))){
					if(disabledFlagValue==true && !isDuplicateFieldPresent($(this).attr("name")+"_1")){
						createDuplicateHiddenField($(this).attr("name"),$(this).attr("value"));
						$(this).attr("name","");
					}
					$(this).attr("disabled",disabledFlagValue);
				}
		 	});
		 	$("textarea").each(function(){
    			if(!isNameOfFieldToBeEnabled($(this).attr("name"))){
    				if(disabledFlagValue==true && !isDuplicateFieldPresent($(this).attr("name")+"_1")){
						createDuplicateHiddenField($(this).attr("name"),$(this).attr("value"));
						$(this).attr("name","");
					}
					$(this).attr("disabled",disabledFlagValue);
				}	
		 	});
		 	//BHALM00146565:End of code changes made by Arnab on 03/12/2012 to use the "readonly" attribute instead of "disabled" attribute
	    }
    	
    }
    function isDuplicateFieldPresent(idOfField){
    	var duplicateFieldPresent = false;
		var duplicateField = document.getElementById(idOfField);
		if(duplicateField!=null && duplicateField!=undefined){
			duplicateFieldPresent = true;
		}
	    return(duplicateFieldPresent);
    }
	
    function createDuplicateHiddenField(nameOfField,valueOfField){
    	var hdnFld = document.createElement("input");
		hdnFld.type="hidden";
		hdnFld.id=nameOfField+"_1";
		hdnFld.name=nameOfField;
		hdnFld.value=valueOfField;
		document.forms["order_positions"].appendChild(hdnFld);
    }

	
    function createDuplicateCheckbox(nameOfField,valueOfField,checkedStatus){
    	var chkbox = document.createElement("input");
		chkbox.type="checkbox";
		chkbox.id=nameOfField+"_1";
		chkbox.name=nameOfField;
		chkbox.value=valueOfField;
		if(checkedStatus==true){
			chkbox.setAttribute("checked","checked");
		}
		chkbox.style.visibility="hidden";
		document.forms["order_positions"].appendChild(chkbox);
    }	
   function createDuplicateRadioButton(nameOfField,valueOfField,checkedStatus){
    	var rdBtn = document.createElement("input");
		rdBtn.type="radio";
		rdBtn.id=nameOfField+"_1";
		rdBtn.name=nameOfField;
		rdBtn.value=valueOfField;
		if(checkedStatus==true){
			rdBtn.setAttribute("checked","checked");
		}
		rdBtn.style.visibility="hidden";
		document.forms["order_positions"].appendChild(rdBtn);
    }	
    //BHALM00146565:Start of javascript function added by Arnab on 22/11/2012 to check if the value of the name attribute matches with any of the names of the fields to be enabled which were disabled as a part of CR 127749 for "ZFIP" and "ZIOC" types of carts
    function isNameOfFieldToBeEnabled(nameOfField){
		var nameOfEnabledFieldEncountered = false;
		//BHALM00188853:Start of inclusion by Arnab on 10/06/2013 of some more names of the fields that are needed to be enabled in case of ZIFP or ZIOC types of carts
    	var namesOfFieldsToBeEnabled=["ZONA","ZECdummy","headerDescription","zdsm[","zsrlNum[","PO_ITEM[","PO_NO[","PO_DATE_SOLD","POSTING_DATE","reqdeliverydate[","ibm_deliveryinstructions_item[","comment[","SHIPTO[","ZZI[","ZLT[","Z9Bemail[","Z9Bname[","Z9Btel[","Z9Bfax[","BILLTO[","ZBCemail[","ZBCname[","ZBCtel[","ZBCfax[","WAVE_INDI[","REASON_CODE[",
    	"shipCond","headerReqDeliveryDate","com.ibm.bh.wc.b2b.quote.util.IBM_Constants.EXTENSION_CUSTOMERPONUMBER_H","ORDER_REASON","ZZYROCPS","paymentType","headerComment","z_deliveryinstructions_h","SHIPTO1","Z9Bemail1","Z9Bname1","Z9Btel1","Z9Bfax1","BILLTO1","ZBCemail1","ZBCname1","ZBCtel1","ZBCfax1","ZPA2","ibm_ponumber_header","PO_DATE_SOLD_COPY",
    	"ovr_name","ovr_address1","ovr_address2","ovr_city","ovr_state","ovr_country","ovr_zip","ibm_customerfor","name_english","name_native","vatid","alanguage","country","state","street","city","postalCode","bpname","bptype"];
    	//BHALM00188853:End of inclusion by Arnab on 10/06/2013 of some more names of the fields that are needed to be enabled in case of ZIFP or ZIOC types of carts
    	for(var nameIndex=0;nameIndex<namesOfFieldsToBeEnabled.length;nameIndex++){
    		if(nameOfField.indexOf(namesOfFieldsToBeEnabled[nameIndex])!=-1){
    			nameOfEnabledFieldEncountered = true;
    			break;
    		}
    	}
    	return(nameOfEnabledFieldEncountered);
    }
    //BHALM00146565:End of javascript function added by Arnab on 22/11/2012 to check if the value of the name attribute matches with any of the names of the fields to be enabled which were disabled as a part of CR 127749 for "ZFIP" and "ZIOC" types of carts
 
	</script> 
	<script type="text/javascript">
		/****************************************************************************/
/* File     : IBM_QuoteButtons.js											*/
/* Author   : Srini Sandaka													*/
/* Created  : July 21 2010													*/
/* Modified : July 21 2010													*/
/* Version  : 0.1															*/
/****************************************************************************/
/*                               HISTORY								  	*/
/****************************************************************************/
/****************************************************************************/
/*																			*/
/* Copyright @ 2009 This document has been prepared and written by 			*/
/* IBM Global Services on behalf of <Customer name>, and is copyright 		*/
/*	of <Customer name>														*/
/*																			*/
/****************************************************************************/
/****************************************************************************/
/* Check user existence with email id.										*/
/* @author Srini Sandaka													*/
/* @version 1.1																*/
/****************************************************************************/

function request_quote(){
	$("#order_positions :input[name='statusbutton']").val("requestquote");
    save_quote();
}

function open_cartpricelocked_popup(){
	var url = rewriteURL("b2b/ibm/quotation/IBM_LockCartPricePopup.jsp");
	var quotewindow = window.open(url, 'selection', 'width=500,height=350,menubar=no,locationbar=no,scrolling=auto,resizable=yes,toolbar=no,dependent=yes,hotkeys=no');
	quotewindow.moveBy(200,200);
    quotewindow.focus(); 
}

function open_email_popup(){
	var url = rewriteURL("b2b/ibm/quotation/IBM_SubmitInternalApproval.jsp");
	var quotewindow = window.open(url, 'selection', 'width=500,height=350,menubar=no,locationbar=no,scrolling=auto,resizable=yes,toolbar=no,dependent=yes,hotkeys=no');
	quotewindow.moveBy(200,200);
    quotewindow.focus(); 
}

function open_email_popup(pagefrom){
	var url = rewriteURL("b2b/ibm/quotation/IBM_SubmitInternalApproval.jsp?pagefrom="+pagefrom);
	var quotewindow = window.open(url, 'selection', 'width=500,height=350,menubar=no,locationbar=no,scrolling=auto,resizable=yes,toolbar=no,dependent=yes,hotkeys=no');
	quotewindow.moveBy(200,200);
    quotewindow.focus(); 
}

function open_download_popup(){
	var url = rewriteURL("appbase/ibm/quotation/IBM_DownloadQuote.jsp");
	var quotewindow = window.open(url, 'selection', 'width=500,height=350,menubar=no,locationbar=no,scrolling=auto,resizable=yes,toolbar=no,dependent=yes,hotkeys=no');
	quotewindow.moveBy(200,200);
    quotewindow.focus(); 
}

function open_download_popup(pagefrom){
	var url = rewriteURL("appbase/ibm/quotation/IBM_DownloadQuote.jsp?pagefrom="+pagefrom);
	var quotewindow = window.open(url, 'selection', 'width=500,height=350,menubar=no,locationbar=no,scrolling=auto,resizable=yes,toolbar=no,dependent=yes,hotkeys=no');
	quotewindow.moveBy(200,200);
    quotewindow.focus(); 
}

function open_message_popup(){
	var url = rewriteURL("/appbase/ibm/igf/IBM_RequestIGF_B2B.jsp");
	var quotewindow = window.open(this.href, 'requestIGFrates', 'height=450,width=470,screenX=30,screenY=20,top=20,left=30,status=no,location=no,toolbar=no,directories=no,menubar=no,resizable=yes,scrollbars=auto')
	quotewindow.moveBy(200,200);
   quotewindow.focus(); 
}

function show_firmrateconf()
{
	var name=prompt("Please enter your comment.","Harry Potter");
	if (name!=null && name!="")
	{
		get_firmrates();
	}
}

function send_planningrates(){
    $("#order_positions :input[name='showplanrates']").val("true");
	submit_refresh();
}

function reset_to_default(){
    $("#order_positions :input[name='resetdefault']").val("true");
	submit_refresh();
}

function accept_firmrates(){
    alert('accept firm rates');
    $("#order_positions :input[name='acceptfirmrates']").val("true");
	submit_refresh();
}

function get_firmrates(){
	$("#order_positions :input[name='statusbutton']").val("sgetfirmrates");
	submit_refresh();
}

function lock_firmrates(){
	$("#order_positions :input[name='statusbutton']").val("slockfirmrates");
	submit_refresh();
}

function open_emailrecipient_popup(){
	//lock_firmrates(); //Commented by Pat
	var url = rewriteURL("appbase/ibm/quotation/IBM_EmailQuote.jsp");
	var quotewindow = window.open(url, 'selection', 'width=550,height=550,menubar=no,locationbar=no,scrolling=auto,resizable=yes,toolbar=no,dependent=yes,hotkeys=no');
	quotewindow.moveBy(200,200);
    quotewindow.focus(); 
}

// Add by Yuki for EDD27 CR48349_2(GOP store): start
function open_emailrecipient_popup_pagefrom(pagefrom){
	var url = rewriteURL("appbase/ibm/quotation/IBM_EmailQuote.jsp")+"?pagefrom="+pagefrom;
	var quotewindow = window.open(url, 'selection', 'width=550,height=550,menubar=no,locationbar=no,scrolling=auto,resizable=yes,toolbar=no,dependent=yes,hotkeys=no');
	quotewindow.moveBy(200,200);
    quotewindow.focus(); 
} 
// Add by Yuki for EDD27 CR48349_2(GOP store): end

function lock_freeze(){
	$("#order_positions").attr("action", "/b2b_ibm/b2b/ibm/maintainorder.do");
	$("#order_positions :input[name='statusbutton']").val("lockfreeze");
	save_quote();
} 

function save_quote1(){
	$("#order_positions :input[name='statusbutton']").val("savequote");
	save_quote();
} 

function print_quote(){	
	$("#order_positions :input[name='statusbutton']").val("savequote");
	$("#order_positions :input[name='printquote']").val("print");
	save_quote();
} 

function print_quotedisplay(){
	$("#orderdownload :input[name='printquote']").val("print");
	$("#orderdownload").submit();
}

function save_quote(){
    if ( ! miSetStatusUpdateRunning()) return false;	
	$("#order_positions :input[name='sendpressed']").val("true");
	disableEmptyInputFields();
	$("#order_positions").submit();
	miSetStatusUpdateRunning(true); // note 908052
}

/* EDD#03 Pat changes start here  */
function return_quote(){
	$("#order_positions :input[name='returnpressed']").val("true");
	save_quote();
}

/* for order change screen */
function return_quote1(){
	$("#order_positions :input[name='returnpressed']").val("true");
	save_quote1();
}
/* EDD#03 Pat changes ends here  */

function close_cart(){
    if ( ! miSetStatusUpdateRunning()) return false;	
	check = confirm("Changes that are not saved will be lost");
	if(check) {
	  $("#order_positions :input[name='cancelpressed']").val("true");
	  $("#order_positions").submit();
      miSetStatusUpdateRunning(true);
	}		
	return check;
}


function distributor_inventory(){
		var url = rewriteURL("b2b/ibm/bpinventory.do");
		var quotewindow = window.open(url, 'selection', 'width=600,height=400,menubar=no,locationbar=no,scrolling=auto,resizable=yes,toolbar=no,dependent=yes,hotkeys=no');
		quotewindow.moveBy(200,200);
	    quotewindow.focus(); 
}

function submit_promotion()
{
	if ($("#order_positions :input[name='promotion_id']").val() == "")
	{
		alert('Please enter a valid Promotion.');
	}
	else
	{
		$("#order_positions :input[name='action_id']").val("APPLY");
		submit_refresh();
	}
}

function delete_promotion(promotionId)
{
	$("#order_positions :input[name='action_id']").val("DELETE");
	$("#order_positions :input[name='promotion_id']").val(promotionId);
	submit_refresh();
}

function submit_promotion_orderstatusdetail()
{
	if (document.getElementById('promotion_id').value == '')
	{
		alert('Please enter a valid Promotion.');
	}
	else
	{
		document.getElementById('action_id').value ="APPLY";
		$("#order_positions").submit();
		return true;		
	}
} 

function delete_promotion_orderstatusdetail(promotionId)
{
	document.getElementById('action_id').value="DELETE";
	document.getElementById('promotion_id').value=promotionId;	
	$("#order_positions").submit();
	return true;		
}

function toggleHeaderPromotion() {
    if (navigator.userAgent.indexOf("MSIE") != -1) {
    // the world of the IEs
        //alert("IE - Modus");
        icon = document.all("promotionicon");
		target = document.all("addpromotion");
		if (target.style.display == "none") {
			target.style.display = "block";
            iconpath = icon.src.substring(0, icon.src.lastIndexOf("open.gif"));
			icon.src=iconpath+"close.gif";
		}else {
			target.style.display = "none";
            iconpath = icon.src.substring(0, icon.src.lastIndexOf("close.gif"));
			icon.src=iconpath+"open.gif";
		}
	} 
	else {
	  // the world of W3C
	    //alert("W3C - Modus");
        icon = document.getElementById("promotionicon");
		target = document.getElementById("addpromotion");
		if (target.style.display == "none") {
			target.style.display = "block";
            iconpath = icon.src.substring(0, icon.src.lastIndexOf("open.gif"));
			icon.src=iconpath+"close.gif";
		}else {
			target.style.display = "none";
            iconpath = icon.src.substring(0, icon.src.lastIndexOf("close.gif"));
			icon.src=iconpath+"open.gif";
		}
	} 
} 

  	
/* add for cr73887 */
function checkUsedItem(){
    $('input[id^="usedItem"]').each(function() {
        if($(this).is("input:checked")) {
            $("#specialBidUsedMachineIncluded").attr("checked", "checked");
            $("#specialBid4Price").attr("checked", "checked");
        }
    });
}
  	
		  function special_bid_request(){
			if ( ! miSetStatusUpdateRunning(true)) return false;
			document.forms['order_positions'].elements['refresh'].value="true";
			disableEmptyInputFields();
			document.forms['order_positions'].action='/b2b_ibm/b2b/ibm/maintainbasket.do';
			document.forms['order_positions'].submit();
			return true;  	
		  }
	</script>





<script>
	
	var partnerId=''; 
	var details=new Array() ;
	var invalidPoNumberFlag='' ;
	var errormessage='' ;
	var podrivenflag='';
	var  driveninfodetailList = new Array();
	var iscreate = true;
	
	var isCustomerBlackList = false;
	var firstInputItemsKeyNull="";
	var _contextPONumber = "";
	var _contextWaiver = "";
	var _contextOTP = "";
	var _contextReasonCode = "";
    $(function(){ 
	 		var isuserblacklist = $("#PriceHeaderblacklist").val();
	 		if(isuserblacklist =="true"){
	 			isCustomerBlackList =true;
	 		}
	 		firstInputItemsKeyNull=$("#PriceHeaderfirstInputItemsKeyNull").val();
			var dataStr =$(".isoldPoNumberList").text();
			var data ;
			if(dataStr!=''){
				data = JSON.parse(dataStr);
			}
			
			var newInputDataStr=$(".isNewUpdatePoNumberList").text();
			var newInputData;
			if(newInputDataStr!=''){
				newInputData=JSON.parse(newInputDataStr);
			}
			
			var selectedPoNumber = $("input[name='PO_NO']").val();
			var iscreateFlag=$(".is_create_or_update").val();
			if($.trim(iscreateFlag)=='true'){
				iscreate =false;
			}
			
			if(!isSessionDataNull(data)){
				if(typeof(data.partnerID)!='undefined'){
					partnerId = data.partnerID;
				}
				if(typeof(data.invalidPOnumberFlag)!='undefined'){
					invalidPoNumberFlag = data.invalidPOnumberFlag;
				}
				if(typeof(data.poDrivenDetailList)!='undefined'){
					details = data.poDrivenDetailList;
				}
				if(typeof(data.poDrivenFlag)!='undefined'){
					podrivenflag = data.poDrivenFlag;
				}
				if(typeof(data.message)!='undefined'){
					errormessage = data.message;
				}
				if(podrivenflag=='Y' && details.length==0){
					if(typeof(data.message)!='undefined'){
						$(".podriven_nopo_error").attr("style","display: block;");
						$(".podriven_nopo_error_text").text(data.message);
						$(".any_lever_PO").append("<option value='' selected='selected'>"+'Select a PO Number'+"</option>");
						var podrivndetailinfofirst = new IBM_PODriveDetailInfo_JS('false','','','No','','','','','N','','','',"true","false");
						driveninfodetailList.push(podrivndetailinfofirst);					
					}
				}
				if(podrivenflag=='Y' && details.length>0){
					$(".any_lever_PO").append("<option value='' selected='selected'>"+'Select a PO Number'+"</option>");
					var podrivndetailinfofirst = new IBM_PODriveDetailInfo_JS('false','','','No','','','','','N','','','',"true","false");
					driveninfodetailList.push(podrivndetailinfofirst);
					parseSessionData(details,selectedPoNumber);
				}
			}
			
			if(!isSessionDataNull(newInputData)){
				var sessionTeckKey = newInputData.techkey;
				var guid = $("input[name='headerGuid']").val();
				if(typeof(sessionTeckKey)!='undefined'&&sessionTeckKey==guid){
					parseSessionData(newInputData.poDrivenDetailList,selectedPoNumber);
				}
			}
			processHeaderHistoryRecord();
			if(firstInputItemsKeyNull=="false"){
				processItemHistoryRecord();
			}
			
			//message tab error  control
			if(!iscreate){
				checkAllErrorStyleToRemoveAndAddTableError();
			}
			var transactionMessageList = $(".ibm-ind-caution").find("strong");
			$.each(transactionMessageList,function(i){
					var message =$(this).text();
					if(message =="Transaction is incomplete: Enter Ext. Reference"){
					$(".ibm-ind-caution").find("strong").parent().attr("style","display:none;");
				}
			});
			//if user is black list  display black list message 
			if(isCustomerBlackList){
				$(".podriven_BlackList_error").show();
			}
			
			if(!iscreate){
				checkMessages6277();
			}			
		});
		
	function checkMessages6277(){
		
		var itemSeq = 1;
	    
	    $("tr[id^='rowdetail_']").each(function(){
	      if(typeof $(".itemleverPoFlag", $(this)).val() != 'undefined'){
			
			if($(".any_lever_wave_indi", $(this)).is(":checked")){
				$("p.headerEnter_POError", $(this)).hide();
				$("p.podriven_Waiversel_error", $(this)).show();
				
			}
			if($(".any_lever_onetime_po", $(this)).is(":checked")){
				$("p.headerEnter_POError", $(this)).hide();
				$("p.podriven_Onetimersel_error", $(this)).show();
				
			}
			if(( !$(".any_lever_wave_indi", $(this)).is(":checked") ) && ( ! $(".any_lever_onetime_po", $(this)).is(":checked") ) && ( $("#"+itemSeq+"_PO_NO").val() == "" || $("#"+itemSeq+"_PO_NO").val() == "__NONE__" )){
            	$(".headerEnter_POError", $(this)).show();
	            
            }else{
              $(".headerEnter_POError", $(this)).hide();
            }
            if( $("#"+itemSeq+"_PO_NO").val() != "" && $("#"+itemSeq+"_PO_NO").val() != "__NONE__" ){
	          $(".headerEnter_POError", $(this)).hide();
              $(".headerEnterWaiver_POError", $(this)).hide();
              $(".headerEnterOneTime_POError", $(this)).hide();
            }else{
              if($(".any_lever_wave_indi", $(this)).is(":checked")){
		          $(".headerEnter_POError", $(this)).hide();
	              $(".headerEnterWaiver_POError", $(this)).show();
	              $(".headerEnterOneTime_POError", $(this)).hide();
	          }else if($(".any_lever_onetime_po", $(this)).is(":checked")){
		          $(".headerEnter_POError", $(this)).hide();
	              $(".headerEnterWaiver_POError", $(this)).hide();
	              $(".headerEnterOneTime_POError", $(this)).show();
              }else{
		          $(".headerEnter_POError", $(this)).show();
	              $(".headerEnterWaiver_POError", $(this)).hide();
	              $(".headerEnterOneTime_POError", $(this)).hide();
              }
            }
            if( $(".any_lever_reason_code", $(this)).val() == "" || $(".any_lever_reason_code", $(this)).val() == "__NONE__" ){
            	$(".ReasonCode_POError", $(this)).show();
            }else{
            	$(".ReasonCode_POError", $(this)).hide();
			}            
	        
		    var hasError = false;
			$("p.ibm-ind-error", $(this)).each(function(){
		      if($(this).is(":visible")){
		        hasError = true;
		      }
		    });
		    if(hasError){
		      $("span.PO_NONSELECT_FLAG", $(this)).show();
		    }else{
		      $("span.PO_NONSELECT_FLAG", $(this)).hide();
		    }
	      }
	      itemSeq++;
	    });
	}		
	
function setWaiverIndicatorAndOnetimeWhenClose(poleverFlag){
              
                var leverFlagControl="";
        
                if(!isHeaderLever(poleverFlag)){
                        leverFlagControl = poleverFlag;
                }
                var isWaiverIndicatorChecked = false; 
                
                
                if(!isCustomerBlackList){
                        isWaiverIndicatorChecked = $("#"+poleverFlag+"waiverIndicator").is(":checked");
                }
                var isonetimechecked = $("#"+poleverFlag+"onetime_po").is(":checked");
                
          
                if(!isWaiverIndicatorChecked&&!isonetimechecked){
                        $(".any_lever_wave_indi_hidden"+leverFlagControl).val("No");
                        $(".any_lever_onetime_po_hidden"+leverFlagControl).val("No");
                        $(".any_lever_wave_indi"+leverFlagControl).attr("checked","");
                        $(".any_lever_onetime_po"+leverFlagControl).attr("checked","");
                        
                }else if(isWaiverIndicatorChecked){
                        $(".any_lever_wave_indi_hidden"+leverFlagControl).val("Yes");
                         $(".any_lever_wave_indi"+leverFlagControl).attr("checked",true);
                         $(".any_lever_onetime_po_hidden"+leverFlagControl).val("No");
                         $(".any_lever_onetime_po"+leverFlagControl).attr("checked","");
                        
                }else if(isonetimechecked){
                        $(".any_lever_onetime_po_hidden"+leverFlagControl).val("Yes");
                        $(".any_lever_onetime_po"+leverFlagControl).attr("checked",true);
                        $(".any_lever_wave_indi_hidden"+leverFlagControl).val("No");
                        $(".any_lever_wave_indi"+leverFlagControl).attr("checked","");
                        
                }
                if(isCustomerBlackList){
                        $(".any_lever_wave_indi_hidden"+leverFlagControl).val("");
                        
                }
              
        }
        
        function setHeaderWaiverAndOnetime(headerwaiverindicatorcheched,headerOneTimeChecked){
              
                        if(isCustomerBlackList){
                                headerwaiverindicatorcheched = false;
                        }
                        
                        if(!headerwaiverindicatorcheched&&!headerOneTimeChecked){
                                $(".headerwaiverindicator_hidden").val("No");
                                $(".headeronetimepo_hidden").val("No");
                                 $(".headerwaiverindicator").attr("checked","");
                                 $(".headeronetimepo").attr("checked","");
                        
                        }else if (headerwaiverindicatorcheched){
                                $(".headerwaiverindicator_hidden").val("Yes");
                                $(".headeronetimepo_hidden").val("No");
                                $(".headerwaiverindicator").attr("checked",true);
                                $(".headeronetimepo").attr("checked","");
		                        
                        }else if (headerOneTimeChecked){
                                $(".headerwaiverindicator_hidden").val("No");
                                $(".headeronetimepo_hidden").val("Yes");
                                $(".headerwaiverindicator").attr("checked","");
                                $(".headeronetimepo").attr("checked",true);
                                
                        }
              
        }
		
	function headerPoChangedProcess(levelFlag,selectDetailInfo,currentPoNumber,resonIdValue){
		 
		var leverFlagControl = "";
		
		if(!isHeaderLever(levelFlag)){
			leverFlagControl =levelFlag;
		}
		var headerwaiverindicatorcheched=false;
		if(!isCustomerBlackList){
			headerwaiverindicatorcheched=$("#"+levelFlag+"waiverIndicator").is(":checked");
		}
		
		var headerOneTimeChecked = $("#"+levelFlag+"onetime_po").is(":checked");
		
		if(!isHeaderChanged(levelFlag)){
		
			$(".headerReasonCode").val(resonIdValue);
			$(".headerReasonCode_hidden").val(resonIdValue);
            
			if(resonIdValue==''){
				$(".Item_User_ReasonCode").attr("style","display:block;");
			}else{
				$(".Item_User_ReasonCode").attr("style","display:none;");
			}
			if(headerwaiverindicatorcheched){
				$(".waiverSelMsg").show();
			}else{
				$(".waiverSelMsg").hide();
			}
			if(headerOneTimeChecked){
				$(".onetimeSelMsg").show();
				
			}else{
				$(".onetimeSelMsg").hide();
			}
			
			
			setHeaderWaiverAndOnetime(headerwaiverindicatorcheched,headerOneTimeChecked);
			
			$.each($(".itemleverPoFlag"),function(){
				var currentItemponumber =$(this).val();
				var itemleverId = $(this).attr("id");
				var itemLever = itemleverId.substring(0,itemleverId.indexOf("po_number"));
				var itemwaiverchecked =false;
				if(!isCustomerBlackList){
					itemwaiverchecked= $(".any_lever_wave_indi"+itemLever).is(":checked");
				}
				
				var itemonetimepochecked = $(".any_lever_onetime_po"+itemLever).is(":checked");
				
				if(currentItemponumber == currentPoNumber&&itemonetimepochecked==headerOneTimeChecked&&itemwaiverchecked==headerwaiverindicatorcheched){
					
						$(".any_lever_reason_code"+itemLever).val(resonIdValue);
						$(".any_lever_reason_code_hidden"+itemLever).val(resonIdValue);
						$(".any_lever_po_no"+itemLever).val(currentPoNumber);
						$(".any_lever_PO"+itemLever).val(currentPoNumber);
						$(".any_lever_po_cps_id"+itemLever).val(selectDetailInfo.CPSNumber);
			            
						
						//process message 4.9
						controlReasonCodeMsg(itemLever,resonIdValue);
  					    controlWaiverSelectExceptionMsg(itemLever,itemwaiverchecked);
						controlOnetimeSelectExceptionMsg(itemLever,itemonetimepochecked);
						setWaiverIndicatorAndOnetimeWhenClose(itemLever);
				}
			});
		}else{
		 
				$(".any_lever_reason_code"+leverFlagControl).val(resonIdValue);
				$(".any_lever_reason_code_hidden"+leverFlagControl).val(resonIdValue);
				$(".any_lever_po_no"+leverFlagControl).val(currentPoNumber);
				$(".any_lever_PO"+leverFlagControl).val(currentPoNumber);
				$(".any_lever_po_cps_id"+leverFlagControl).val(selectDetailInfo.CPSNumber);
	            
			
				 controlWaiverSelectExceptionMsg(levelFlag,headerwaiverindicatorcheched);
				 controlOnetimeSelectExceptionMsg(levelFlag,headerOneTimeChecked);
				 
				setWaiverIndicatorAndOnetimeWhenClose(levelFlag);
				
				
				//process message 4.9
				controlReasonCodeMsg(levelFlag,resonIdValue);
			
		}
		
		 
	}
	
	function isHeaderChanged(leverFlag){
		
		 
		var headerPoNumber = $("#"+leverFlag+"po_number").val();
		var headerOldPoNumber = $("#"+leverFlag+"_PO_NO").val();
		
		var headerOldWaiver = $("#"+leverFlag+"_waiverIndicator").val();
		
		var headerOldWaiverChecked = false;
		if(headerOldWaiver=="Yes"){
			headerOldWaiverChecked = true;
		}
		
		var headerWaiver = $("#"+leverFlag+"waiverIndicator").is(":checked");
		
		var headerOldOnetimePO = $("#"+leverFlag+"_onetimepo").val();
		
		var headerOldOneTimePOchecked = false;
		if(headerOldOnetimePO =="Yes"){
			headerOldOneTimePOchecked = true;
		}
		
		var headerOnetimePO = $("#"+leverFlag+"onetime_po").is(":checked");
		
		
		 
		 
		 var ischanged = false;
		if(headerPoNumber != headerOldPoNumber){
			return true;
		}else if(headerWaiver!=headerOldWaiverChecked){
			return true;
		}else if (headerOnetimePO!=headerOldOneTimePOchecked){
			return true;
		}else{
			return false;
		}
		
	}
	function isItemPoNumberEqualHeaderPoNumber(itemPoNumber, levelFlag){
		
		var headerPoNumber = $(".headerprice_POnumber").val();
	    var headerWI = $("input[id='PriceHeaderwaiverIndicator']").is(":checked");
	    var headerOneTimePO = $("input[id='PriceHeaderonetime_po']").is(":checked");
	    var itemWI = $("input[id='" + levelFlag + "waiverIndicator']").is(":checked");
	    var itemOneTimePO = $("input[id='" + levelFlag + "onetime_po']").is(":checked");
		if(itemPoNumber == headerPoNumber && headerWI == itemWI && headerOneTimePO == itemOneTimePO){
		    
			return true;
		}else{
			return false;
		}
	    
	}
	
	function itemPoChangeProcess(levelFlag,selectDetailInfo,currentPoNumber,resonIdValue){
		 
		 	var leverFlagControl = "";
		 	if(!isHeaderLever(levelFlag)){
		 		leverFlagControl = levelFlag;
		 	}
			var headerPoNumber = $(".headerprice_POnumber").val();
			var isWaiverIndicatorChecked = false;
			
			if(!isCustomerBlackList){
				isWaiverIndicatorChecked=$(".any_lever_wave_indi"+leverFlagControl).is(":checked");
			}
			var isOnetimePOChecked = $(".any_lever_onetime_po"+leverFlagControl).is(":checked");
			
			$(".any_lever_reason_code"+leverFlagControl).val(resonIdValue);
			$(".any_lever_reason_code_hidden"+leverFlagControl).val(resonIdValue);	
            
			
		    controlWaiverSelectExceptionMsg(levelFlag,isWaiverIndicatorChecked);
            controlOnetimeSelectExceptionMsg(levelFlag,isOnetimePOChecked);	
			setWaiverIndicatorAndOnetimeWhenClose(levelFlag);
			
			$(".any_lever_po_no"+leverFlagControl).val(currentPoNumber);
			$(".any_lever_PO"+leverFlagControl).val(currentPoNumber);
			$(".any_lever_po_cps_id"+leverFlagControl).val(selectDetailInfo.CPSNumber);
            
			controlReasonCodeMsg(leverFlagControl,resonIdValue);
			
		    if(isItemPoNumberEqualHeaderPoNumber(currentPoNumber, levelFlag)){          
                $(".headerReasonCode").val(resonIdValue);
                $(".headerReasonCode_hidden").val(resonIdValue);
	            
				var isheaderwaiverchecked = $("#PriceHeaderwaiverIndicator").is(":checked");
				var isHeaderOnetimechecked = $("#PriceHeaderonetime_po").is(":checked");
                
				if((isheaderwaiverchecked==isWaiverIndicatorChecked)&&(isHeaderOnetimechecked==isOnetimePOChecked)){
				 
					if(resonIdValue ==''){
                        $(".Item_User_ReasonCode").attr("style","display:block;");
					}else{
                        $(".Item_User_ReasonCode").attr("style","display:none;");
                        
					}
					if(isHeaderOnetimechecked){
						$(".onetimeSelMsg").show();
					}else{
						$(".onetimeSelMsg").hide();
					}
					if(isheaderwaiverchecked){
						$(".waiverSelMsg").show();
					}else{
						$(".waiverSelMsg").hide();
					}
				    processErrorIcon("Header");
				}
             }
		 	 
	    }
		function isscenariochanged(poleverFlag){
		
				var currentponumber = $("#"+poleverFlag+"po_number").val();
				
				var oldponumber = $("#"+poleverFlag+"_PO_NO").val();
				
                var oldwaiver = $("#"+poleverFlag+"_waiverIndicator").val();
                var oldwwaiverchecked = false;
                if(oldwaiver=="Yes"){
                        oldwwaiverchecked = true;
                }
                var newWaiverchecked = $("#"+poleverFlag+"waiverIndicator").is(":checked");
                
                var oldonetime = $("#"+poleverFlag+"_onetimepo").val();
                var oldonetimechecked = false;
                if(oldonetime =="Yes"){
                        oldonetimechecked =true;
                }
                var newonetimechecked = $("#"+poleverFlag+"onetime_po").is(":checked");
                 
                if((newonetimechecked!=oldonetimechecked||oldwwaiverchecked!=newWaiverchecked)&&(currentponumber==oldponumber)){
                        return true;
                }
                return false;
        }
		
	function validateFieldAndClose(poleverFlag,comp){
    	
	    
	   	var isScenarioChangedFlag = isscenariochanged(poleverFlag);
	    var isHeaderLeverFlag= isHeaderLever(poleverFlag);
	    var leverFlagControl="";
		if(!isHeaderLeverFlag){
			leverFlagControl=poleverFlag;
		}
		var resonIdValue=$("#"+poleverFlag+'reasonCode').val();
		
		var isWaiverIndicatorChecked = false;
		if(!isCustomerBlackList){
			isWaiverIndicatorChecked = $("#"+poleverFlag+"waiverIndicator").is(":checked");
		}
		
		
		var isOneTimePoChecked =  $("#"+poleverFlag+"onetime_po").is(":checked");
		
		var currentPoNumber = $("#"+poleverFlag+'po_number').val();

		var selectDetailInfo=getPoDrivenInfobyPoNumber(currentPoNumber);
		
		 
	   
		if(isHeaderLeverFlag){
			headerPoChangedProcess(poleverFlag,selectDetailInfo,currentPoNumber,resonIdValue,false);
		}else{
			itemPoChangeProcess(poleverFlag,selectDetailInfo,currentPoNumber,resonIdValue);
		}
		var waiverindicatorvalue = "";
		if(isWaiverIndicatorChecked){
			waiverindicatorvalue="Yes";
		}else{
			waiverindicatorvalue="No";
		}
		
		if(isWaiverIndicatorChecked||isOneTimePoChecked){
			displayNotaValidPoNumberMessage(poleverFlag,"Yes",selectDetailInfo);
		}else{
			displayNotaValidPoNumberMessage(poleverFlag,"No",selectDetailInfo);
		}
		
		//controlWaiverSelectExceptionMsg(poleverFlag,isWaiverIndicatorChecked);
		
		//controlOnetimeSelectExceptionMsg(poleverFlag,isOneTimePoChecked);
		
		if((isOneTimePoChecked||isWaiverIndicatorChecked)&&currentPoNumber==""){
			processEnterPoNumberMessage(poleverFlag,"waiver");
		}
	    if(!isOneTimePoChecked&&!isWaiverIndicatorChecked&&currentPoNumber==""){
			processEnterPoNumberMessage(poleverFlag,currentPoNumber);
		}
	    if(currentPoNumber!=""){
			processEnterPoNumberMessage(poleverFlag,currentPoNumber);
		}

		//message 4.6  4.11
   		displayWaiverAssociateHeaderMsg2();//caishu added

   		//process message 4.7
		//controlBlackListErrorMsg(poleverFlag,selectDetailInfo);
		
		
		 if(isScenarioChangedFlag){
		 
		 	 $(".any_lever_PO"+leverFlagControl).val("");
		 	$(".any_lever_po_no"+leverFlagControl).val("");
		 	$(".any_lever_po_cps_id"+leverFlagControl).val("");
		 	$(".any_lever_reason_code_hidden"+leverFlagControl).val(resonIdValue);
			 
			if(isWaiverIndicatorChecked){
				$(".any_lever_wave_indi"+leverFlagControl).attr("checked",true);
				$(".any_lever_wave_indi_hidden"+leverFlagControl).val("Yes");
				$(".any_lever_onetime_po_hidden"+leverFlagControl).val("No");
	            
			}
			if(isOneTimePoChecked){
				$(".any_lever_onetime_po"+leverFlagControl).attr("checked",true);
				$(".any_lever_onetime_po_hidden"+leverFlagControl).val("Yes");
				$(".any_lever_wave_indi_hidden"+leverFlagControl).val("No");
	            
			}
			
		 	$(".any_lever_reason_code"+leverFlagControl).val(resonIdValue);
            
		 	displayWaiverAssociateHeaderMsg(poleverFlag,"");
			processEnterPoNumberMessage(poleverFlag,"PO");
			controlReasonCodeMsg(poleverFlag,resonIdValue);
			
			controlWaiverSelectExceptionMsg(poleverFlag,isWaiverIndicatorChecked);
			
			controlOnetimeSelectExceptionMsg(poleverFlag,isOneTimePoChecked);
			
			displayWaiverAssociateHeaderMsg2();
		 }
		 processErrorIcon(poleverFlag);
 		 checkAllErrorStyleToRemoveAndAddTableError();
		 checkMessages6277();
		 
     
		 if((_contextWaiver != $("#"+poleverFlag+"_waiverIndicator").val()) || (_contextOTP != $("#"+poleverFlag+"_onetimepo").val())){
		   
		   if(! ($("#"+poleverFlag+"_waiverIndicator").val() == "No" && $("#"+poleverFlag+"_onetimepo").val() == "No")){
	           
	           $("select[id="+poleverFlag+"po_number] > option").each(function(){
		          $(this).removeAttr("selected");
		       });
		       $("select[id="+poleverFlag+"po_number] > option:first").attr("selected", "selected");
		       $("select[id="+poleverFlag+"po_number]").val("");
		       $("#"+poleverFlag+"_PO_NO").val("");
		   }
		 }
		 
				  
		 window.ibmCommon.Overlays.close(comp);
	}
  
  function displayWaiverAssociateHeaderMsg2(){
    
    var headerPO = $("select[id='PriceHeaderpo_number']").val();
    var headerWI = $("input[id='PriceHeaderwaiverIndicator']").is(":checked");
    var headerOneTimePO = $("input[id='PriceHeaderonetime_po']").is(":checked");
    var isNotEqualPO = true;
    var isNotEqualWI = true;
    var isNotEqualOneTimePO = true;
    var isMatchHeader = false;
	var iscreate = true;    
    var iscreateFlag=$(".is_create_or_update").val();
	if($.trim(iscreateFlag)=='true'){
		iscreate = false;
	}
    
    
    
    if(headerWI||headerOneTimePO){
      if($("select[id='PriceHeaderpo_number'] option:selected").hasClass("otherPOOption")){
      	if(headerWI){
      		$(".headerEnterWaiver_POError").hide();
      	}
      	if(headerOneTimePO){
      		$(".headerEnterOneTime_POError").hide();
      	}
      }else{
      	if(headerWI){
      		$(".headerEnterWaiver_POError").show();
      		$(".headerEnterOneTime_POError").hide();
      	}
      	if(headerOneTimePO){
      		$(".headerEnterOneTime_POError").show();
      		$(".headerEnterWaiver_POError").hide();
      	}
      }
    }else{
      $(".headerEnterWaiver_POError").hide();
      $(".headerEnterOneTime_POError").hide();
    }
    var itemSeq = 1;
    $("tr[id^='rowdetail_']").each(function(){
      if(typeof $(".itemleverPoFlag", $(this)).val() != 'undefined'){
        var currentItemWaiverChecked = $(".any_lever_wave_indi", $(this)).is(":checked");
        var currentItemOnetimeChecked =$(".any_lever_onetime_po", $(this)).is(":checked");
          
        if(currentItemWaiverChecked||currentItemOnetimeChecked){
          if($("select[id='"+itemSeq+"po_number'] option:selected").hasClass("otherPOOption")){
           	if(currentItemWaiverChecked){
           		 $(".headerEnterWaiver_POError", $(this)).hide();
           	}
           	if(currentItemOnetimeChecked){
           		$(".headerEnterOneTime_POError",$(this)).hide();
           	}
          }else{
          	if(currentItemWaiverChecked){
          		$(".headerEnterWaiver_POError", $(this)).show();
          		$(".headerEnterOneTime_POError",$(this)).hide();
          	}
          	if(currentItemOnetimeChecked){
          		$(".headerEnterOneTime_POError",$(this)).show();
          		$(".headerEnterWaiver_POError", $(this)).hide();
          	}
          }
        }else if(typeof $(".itemleverPoFlag", $(this)).val() != 'undefined'){
          $(".headerEnterWaiver_POError", $(this)).hide();
          $(".headerEnterOneTime_POError",$(this)).hide();
        }
      
        
        if(headerWI){//check waiver
          isNotEqualPO = false;
          isNotEqualOneTimePO = false;
          
          if(currentItemWaiverChecked&&$(".any_lever_PO", $(this)).val()==headerPO){
            isNotEqualWI = false;
          	if(! isMatchHeader){
		        
          		isMatchHeader = true;
          	}  
          }
        }else if(headerOneTimePO){
          isNotEqualPO = false;
          isNotEqualWI = false;
	    	
	      if(currentItemOnetimeChecked&&$(".any_lever_PO", $(this)).val()==headerPO){
	       	isNotEqualOneTimePO = false;
          	if(! isMatchHeader){
		        
          		isMatchHeader = true;
          	}  
	      }
        }else if (!currentItemWaiverChecked&&!currentItemOnetimeChecked){//check po
          isNotEqualWI = false;
          isNotEqualOneTimePO = false;
          if(headerPO == $(".itemleverPoFlag", $(this)).val()){
	        isNotEqualPO = false;
	        if(! isMatchHeader){
		        
	        	isMatchHeader = true;
	        }  
		  }
        }
        
        itemSeq++;
      }
    });
    

	    
	if(itemSeq > 0){
    	    if(iscreate || isMatchHeader){//for new quote, do not display any 'at least..' message
		    	isNotEqualWI = false;
		    	isNotEqualPO = false;
		    	isNotEqualOneTimePO = false;
		    }else{
		        if(headerWI){
			    	isNotEqualWI = true;
			    	isNotEqualPO = false;
			    	isNotEqualOneTimePO = false;
		        }else if(headerOneTimePO){
			    	isNotEqualWI = false;
			    	isNotEqualPO = false;
			    	isNotEqualOneTimePO = true;
		        }else{
			    	isNotEqualWI = false;
			    	isNotEqualPO = true;
			    	isNotEqualOneTimePO = false;
			    }
		    }
    }
 
      
    
    if(isNotEqualWI){
      $(".poaccociatewaiver_POError").show();
      $(".poaccociate_POError").hide();
      $(".poaccociateonetime_POError").hide();
    }else if(isNotEqualOneTimePO){
      $(".poaccociateonetime_POError").show();
      $(".poaccociate_POError").hide();
      $(".poaccociatewaiver_POError").hide();
    }else if(isNotEqualPO){
      $(".poaccociate_POError").show();
      $(".poaccociatewaiver_POError").hide();
      $(".poaccociateonetime_POError").hide();
    }else{
      $(".poaccociatewaiver_POError").hide();
      $(".poaccociate_POError").hide();
      $(".poaccociateonetime_POError").hide();
    }
    
    
    var hasHeaderError = false;
    $this = $("div#errormessage");
	$("p.ibm-ind-error", $this).each(function(){
    	if($(this).is(":visible")){
     		hasHeaderError = true;
		      
     	}
    });
    if(! hasHeaderError){
     	$("span.Header_PO_NONSELECT_FLAG").hide();
	      
    }
  }
	
	function isSessionDataNull(data){
			if(typeof(data)=='undefined'||data==null||data==''){
				return true;
			}
			return false;
		}
		function parseSessionData(data,selectedPoNumber){
			
			$.each(data,function(i){  
					var podrivndetailinfo = autoSetDrivenInfoFromBackEnd(data[i]);
					var poNumber = changeSingeQuotaToDoubleQuota(podrivndetailinfo.poNumber);
					if(podrivndetailinfo.isOtherPo=="undefined"){
					
					}
					if(selectedPoNumber==poNumber){
						$("select.any_lever_PO > option").each(function(){
							$(this).removeAttr("selected");
						});
						if(podrivndetailinfo.isOtherPo=="true"){
							$(".any_lever_PO").append("<option value='"+poNumber+"'  selected='selected' class='otherPOOption' >"+poNumber+"</option>");
						}else{
							$(".any_lever_PO").append("<option value='"+poNumber+"'  selected='selected' >"+poNumber+"</option>");
						}
						
					}else{
						if(podrivndetailinfo.isOtherPo=="true"){
							$(".any_lever_PO").append("<option value='"+poNumber+"' class='otherPOOption' >"+poNumber+"</option>");
						}else{
							$(".any_lever_PO").append("<option value='"+poNumber+"'>"+poNumber+"</option>");
						}
					}
					driveninfodetailList.push(podrivndetailinfo);
			}) ;  
		}
		
		
		// message 4.1 message display and do not display
		function processEnterPoNumberMessage(leverFlag,currentNumber){
            
			if(isHeaderLever(leverFlag)){
				// it use to controle display, when is header lever the css will no index number
				leverFlag="";
			}
			if(currentNumber==''){
				$("."+leverFlag+"headerEnter_POError").attr("style","display: block;");
	            
			}else{
				$("."+leverFlag+"headerEnter_POError").attr("style","display: none;");
	            
			}
            
		}
		

		
		//check is header lever of  item lever
		function isHeaderLever(leverFlag){
			if(leverFlag.indexOf("Header")!=-1){
				return true;
			}else{
				return false;
			
			}
			
		}
		
		//automatically loading header lever after click update cart
		function processHeaderHistoryRecord(){
            
			var ponumber =$("input[name='PO_NO']").val();
			var podrivndetailinfo= getPoDrivenInfobyPoNumber(ponumber);
			var reasoncode=$("input[name='REASON_CODE']").val();
			var waveindi=$("input[name='WAVE_INDI']").val();
			var onetimepoval = $("#PriceHeader_onetimepo").val();
			var isOnetimePOSelected = false;
			
			if(onetimepoval =="Y"){
				isOnetimePOSelected = true;
				$(".any_lever_onetime_po").attr("checked",true);
				$(".any_lever_onetime_po_hidden").val("Yes");
	            
			}else{
				$(".any_lever_onetime_po").attr("checked","");
				$(".any_lever_onetime_po_hidden").val("No");
	            
			}
			
			
			var poCpsID =$("input[name='PO_CPS_ID']").val();
			$(".any_lever_PO").val(ponumber);
			$(".any_lever_po_cps_id").val(poCpsID);
			$(".any_lever_wave_indi_hidden").val(waveindi);
			$(".any_lever_reason_code_hidden").val(reasoncode);
            
			
			if(typeof(podrivndetailinfo)!='undefined'){
				$(".any_lever_po_cps_id").val(podrivndetailinfo.CPSNumber);
	            
			}
			$(".any_lever_reason_code").val(reasoncode);
            
			var isWaiverindicatorchecked=false;
			if(waveindi=="Yes"){
				$(".any_lever_wave_indi").attr("checked",true);
	            
				isWaiverindicatorchecked =true;
			}else{
				$(".any_lever_wave_indi").attr("checked","");
	            
				isWaiverindicatorchecked=false;
			}
			if(!iscreate){
				if(waveindi !="Yes"&&onetimepoval!="Y"){
					processEnterPoNumberMessage("Header",ponumber);
				}
				if(typeof(podrivndetailinfo)!='undefined'){
					if(isOnetimePOSelected||waveindi=="Yes"){
						displayNotaValidPoNumberMessage("Header","Yes",podrivndetailinfo);
					}else{
						displayNotaValidPoNumberMessage("Header","No",podrivndetailinfo);
					}
				}
				controlWaiverSelectExceptionMsg("Header",isWaiverindicatorchecked);
				controlOnetimeSelectExceptionMsg("Header",isOnetimePOSelected);
				if(waveindi=="Yes"||onetimepoval=="Y"){
         			 displayWaiverAssociateHeaderMsg2();
				}
				if(typeof(podrivndetailinfo)!='undefined'){
					controlReasonCodeMsg("Header",reasoncode);
				}
		        processErrorIcon("Header");
			}
            
		}
		//automatically loading item lever after click update cart
		function processItemHistoryRecord(){
            
		
			//process  item po number
			var headerPoNumber = $(".headerprice_POnumber").val();
			var headerselectDetailInfo=getPoDrivenInfobyPoNumber(headerPoNumber);
		
			$.each($(".any_history_Po_no"),function(i){
				var id =$(this).attr("id");
				var updatedPoNumber = $(this).val();
				var arrayTemp = id.split("_");
				var index = arrayTemp[0];
				$("#"+index+'po_number').val(updatedPoNumber);
	            
				var updatedWaiverIndicator=$("#"+index+'_historyWaiverIndicator').val();
				$("#"+index+'_waiverIndicator').val(updatedWaiverIndicator);
	            
				
				var updatedOnetimepo= $("#"+index+'_historyonetimepo').val();
				
				
				//process item exemption code 
				var updatedExemptionReasonCode=$("#"+index+"_historyExemptionReasonCode").val();
				$("#"+index+'_reasonCode').val(updatedExemptionReasonCode);
	            
				var selectDetailInfo=getPoDrivenInfobyPoNumber(updatedPoNumber);
				if(typeof(selectDetailInfo)!='undefined'){
					$("#"+index+'_CP_SID').val(selectDetailInfo.CPSNumber);
		            
				}
				var iscurrentitemwaiverchecked = false;
				if(updatedWaiverIndicator=="Yes"){
					iscurrentitemwaiverchecked =true;
					$(".any_lever_wave_indi"+index).attr("checked",true);
		            
				}else{
					iscurrentitemwaiverchecked=false;
					$(".any_lever_wave_indi"+index).attr("checked","");
		            
				}
				var isonetimeposelected = false;
				if(updatedOnetimepo=="Y"){
					$(".any_lever_onetime_po"+index).attr("checked",true);
					$("#"+index+"_onetimepo").val("Yes");
		            
					isonetimeposelected = true;
				}else{
					$(".any_lever_onetime_po"+index).attr("checked","");
					$("#"+index+"_onetimepo").val("No");
		            
				}
				
				$(".any_lever_reason_code"+index).val(updatedExemptionReasonCode);
	            
				if(!iscreate){
					//process message 4.1
					if(updatedWaiverIndicator !="Yes"&&!isonetimeposelected){
						processEnterPoNumberMessage(index,updatedPoNumber);
					}
					
					//process message 4.4
					if(typeof(selectDetailInfo)!='undefined'){
						if(isonetimeposelected||updatedWaiverIndicator=="Yes"){
							displayNotaValidPoNumberMessage(index,"Yes",selectDetailInfo);
						}else{
							displayNotaValidPoNumberMessage(index,"No",selectDetailInfo);
						}
						
					}
					//process message 4.5
					controlWaiverSelectExceptionMsg(index,iscurrentitemwaiverchecked);
					
					controlOnetimeSelectExceptionMsg(index,isonetimeposelected);
					
					//process message 4.6
					
						//displayWaiverAssociateHeaderMsg(index,updatedPoNumber);
            			displayWaiverAssociateHeaderMsg2();
					
					//process message 4.7
					if(typeof(selectDetailInfo)!='undefined'){
						//controlBlackListErrorMsg(index,selectDetailInfo);
						//process message 4.9
						controlReasonCodeMsg(index,updatedExemptionReasonCode);
					}
				
					 //po total error flag message control
					  processErrorIcon(index);
				}
				  
    		});
            
		 }
	//add by Rocky @20112111 begin message 4.6
	function displayWaiverAssociateHeaderMsg(leverFlag,currentPoNumber){
		if(isHeaderLever(leverFlag)){
			leverFlag="";
		}
		if(currentPoNumber==''){
			$("."+leverFlag+"headerEnterWaiver_POError").attr("style","display: block;");
		}else{
			$("."+leverFlag+"headerEnterWaiver_POError").attr("style","display: none;");
		}
		
		
	}
	//add by Rocky @20111211 end message 4.6
		//if the customer is purchase order when click drop down this method will be called 
		function dropDownClickErrorMessage(){
			if(typeof(details)=='undefined'&&details.length==0){
					alert("Select a PO Number");
					return false;
			}
		}
		
		
		//process header lever select error 
		function processErrorIcon(leverFlag){
			
			var isHeaderRemovable= true;
			var isItemRemovable= true;
			if(isHeaderLever(leverFlag)){
			
				$.each($(".POERRORHeader"),function(){
					var displayAttribute =$(this).attr("style");
					if(isStyleDisplay(displayAttribute)){
						isHeaderRemovable=false;
					}
				});
				
				if(isHeaderRemovable){
					$(".PO_NONSELECT_FLAG").attr("style","display:none");
					
				}else{
					$(".PO_NONSELECT_FLAG").attr("style","display:inline-block");
				}
			}
			
			if(!isHeaderLever(leverFlag)){
				
				$.each($("."+leverFlag+"ITEMERRORPO"),function(){
					if(isStyleDisplay($(this).attr("style"))){
						isItemRemovable=false;
					}
				});
				
				if(isItemRemovable){
					$("."+leverFlag+"PO_NONSELECT_FLAG").attr("style","display:none");
				}else{
					$("."+leverFlag+"PO_NONSELECT_FLAG").attr("style","display:inline-block");
				}
				var isheaderneedRemoved = true;
				$.each($(".POERRORHeader"),function(){
					var displayAttribute =$(this).attr("style");
					if(isStyleDisplay(displayAttribute)){
						isheaderneedRemoved=false;
					}
				});
				
				if(isheaderneedRemoved){
					$(".POFieldIndicatorIcon").attr("style","display:none");
				}else{
					$(".POFieldIndicatorIcon").attr("style","display:inline-block");
				}
				
				
				
			}
			
		}
		
		
		//query all the error  check whether style display:none
		function checkAllErrorStyleToRemoveAndAddTableError(){
			//if sold-to customer is not an po driven customer just remove error messag on tab part
			if(podrivenflag!='Y'){
				$(".tabError").attr("style","display:none");
			}else{
				var removable=true;
				$.each($("p[class$='_POError']"),function(){
					if(isStyleDisplay($(this).attr("style"))){
						removable=false;
					}
				});
				if(removable){
					$(".tabError").attr("style","display:none;");
					
				}else{
					$(".tabError").attr("style","display:inline-block");
					
				}
				
				var ischechouttabicon = true;
				$.each($(".POERRORHeader"),function(){
					if(isStyleDisplay($(this).attr("style"))){
						ischechouttabicon=false;
					}
				});
				if(ischechouttabicon){
					$(".checkouttabError").attr("style","display:none;");
					
				}else{
					$(".checkouttabError").attr("style","display:inline-block");
				}
			}
		}

		function diplayNonPoNumberMessage(poleverFlag,waiverIndicatorFlag){
			if(isHeaderLever(poleverFlag)){
				if(waiverIndicatorFlag=='Yes'&&typeof(details)!='undefined'&&details.length==0){
					$(".podriven_nopo_error").attr("style","display:none");
				}
				if(waiverIndicatorFlag!="Yes"&&typeof(details)!='undefined'&&details.length==0){
					$(".podriven_nopo_error").attr("style","display: block;");
				}
			}
		}	
		
		function displayNotaValidPoNumberMessage(leverFlag,waiverOronetimepo,poDrivenInfo){
			var displayFlag = false;
			if(typeof(poDrivenInfo)=='undefined'||poDrivenInfo.validFlag=="false"){
				displayFlag = true;
			}
			var noponumberMsg='Not a valid PO number for this sold-to customer number';
			var headerFlag = isHeaderLever(leverFlag);
			if(isHeaderLever(leverFlag)){
				leverFlag="";
			}
			if(displayFlag){
				if((waiverOronetimepo=="No"||isCustomerBlackList)&&poDrivenInfo.isWaiverIndicatorSelected=="false"){
					$("."+leverFlag+"podriven_novalidpo_error_text").text(noponumberMsg);
					$("."+leverFlag+"podriven_novalidpo_error").attr("style","display: block;");
	                
	                     if(headerFlag){
	                      	 $("#PriceHeaderisInvalidPONumber").val("true");
	                      	  
	                     }
				}else{
				  
                       if(headerFlag){
                       		 $("#PriceHeaderisInvalidPONumber").val("false");
                       		  
                       }
					$("."+leverFlag+"podriven_novalidpo_error_text").text('');
					$("."+leverFlag+"podriven_novalidpo_error").attr("style","display: none;");
				}
			}else{
				  
                       if(headerFlag){
                       		 $("#PriceHeaderisInvalidPONumber").val("false");
                       		  
                       }
					$("."+leverFlag+"podriven_novalidpo_error_text").text('');
					$("."+leverFlag+"podriven_novalidpo_error").attr("style","display: none;");
			}
		}
		function isBlackList(currentPoNumber){
			var ispoblacklist = false;
			var  selectedPoDrivenInfo= getPoDrivenInfobyPoNumber(currentPoNumber);
			
			if(typeof(selectedPoDrivenInfo)!='undefined'){
				if(selectedPoDrivenInfo.WaiverBlackList=='Y'){
					ispoblacklist = true;
				}
			}
			return ispoblacklist;
		}
		function getPoDrivenInfobyPoNumber(currentPoNumber){
			var selectedPoDrivenInfo;
			$.each(driveninfodetailList,function(i){
					var selectDetailInfotemp= driveninfodetailList[i];
					if(selectDetailInfotemp.poNumber==currentPoNumber){
						selectedPoDrivenInfo=selectDetailInfotemp;
						
						return selectedPoDrivenInfo;
					}
			});
			
			return selectedPoDrivenInfo;
		
		}
		function controlReasonCodeMsg(leverFlag,reasonCode){
			if(isHeaderLever(leverFlag)){
				leverFlag="";
			}
			if(reasonCode==''){
				$("."+leverFlag+"ReasonCode_POError").attr("style","display: block;");
			}else{
				$("."+leverFlag+"ReasonCode_POError").attr("style","display: none;");
			}
		}
		function controlponumberaccociateMsg(){
			var currentHeaderPoNumber = $(".headerprice_POnumber").val();
			var count=0;
			var haveItem = false;
			$.each($("select[id$='po_number']"),function(){
				if(!isHeaderLever($(this).attr("id"))){
					haveItem=true;
					if($(this).val()==currentHeaderPoNumber){
						count++;
						return false;
					}
				}		
			});
			if(count==0&&haveItem){
				$(".poaccociate_POError").attr("style","display: block;");
			}else{
				$(".poaccociate_POError").attr("style","display: none;");
			}
			
			
		}
		function controlWaiverIndicatoraccociateMsg(){
			var headerWaiverIndicator = $("input[name='WAVE_INDI']").val();
			var count=0;
			var haveItem=false;
			$.each($("input[id$='_waiverIndicator']"),function(){
				var currentWaiverIndicator =$(this).val();
				if(!isHeaderLever($(this).attr("id"))){
					haveItem=true;
					if(currentWaiverIndicator==headerWaiverIndicator){
						count++;
						return false;
					}
				}
			});
			
			if(count==0&&haveItem){
				$(".poaccociatewaiver_POError").attr("style","display: block;");				
			}else{
				$(".poaccociatewaiver_POError").attr("style","display: none;");	
			}
		}
		function isValidPoNumber(currentPonumber){
			var invalidPonumberFlag=true;
			var selectDetailInfo = getPoDrivenInfobyPoNumber(currentPoNumber);
			if(selectDetailInfo.validFlag=="false"){
				invalidPonumberFlag=false;
			}
			return invalidPonumberFlag;
		}
		
		
		function displayDetail(podetailID,comp,poleverFlag,autoMaticFlag){
				//get po info according to the po number
				_contextPONumber = $("#"+poleverFlag+"_PO_NO").val();
				_contextWaiver = $("#"+poleverFlag+"_waiverIndicator").val();
		        if(_contextWaiver == ""){
		          $("#"+poleverFlag+"_waiverIndicator").val("No");
		          _contextWaiver = "No";
		        }
				_contextOTP = $("#"+poleverFlag+"_onetimepo").val();
				_contextReasonCode = $("#"+poleverFlag+"_reasonCode").val();
		        

				 var currentPoNumber = $("#"+poleverFlag+'po_number').val();
				 var selectDetailInfo = getPoDrivenInfobyPoNumber(currentPoNumber);
				 var originalLeverFlag=poleverFlag;
				 if(isHeaderLever(poleverFlag)){
				    	poleverFlag="";
				 }
			    
			    if(autoMaticFlag){
			    	 $(".any_lever_wave_indi"+poleverFlag).attr("checked","");
			    	 $(".any_lever_reason_code"+poleverFlag).val("");
			    	 $(".any_lever_onetime_po"+poleverFlag).attr("checked","");
		            
			    }
			     $("."+'po_PONumber'+poleverFlag).text(selectDetailInfo.poNumber);
			     $("."+'po_CPSNumber'+poleverFlag).text(selectDetailInfo.CPSNumber);
				 $("."+'LOB_CODE'+poleverFlag).text(selectDetailInfo.lobCode);
				 $("."+'LOB_DESC'+poleverFlag).text(selectDetailInfo.lobDesc);
				 $("."+'APPROVAL_AMOUT'+poleverFlag).text(selectDetailInfo.approvedAmout);
		
				 $("."+'Po_Driven_Comment'+poleverFlag).text(selectDetailInfo.poDrivenClientComment);
				 $("."+'po_valid_date'+poleverFlag).text(selectDetailInfo.validDate);
				setWaiverBlackListDefautValue(poleverFlag,selectDetailInfo,currentPoNumber);
				clearPoFields(originalLeverFlag,true);
				
				ibmCommon.Overlays.show(podetailID, comp);
		}
		
		function isStyleDisplay(displayAttribute){
			if(displayAttribute!="display: none;"&&displayAttribute!="DISPLAY: none"){
				return true;
			}else{
				return false;
			}
		
		}
		function validandDisplayMessage(poleverFlag,reasoncodValue){
			var controlLever;
			if(isHeaderLever(poleverFlag)){
				controlLever = "";
			}else{
				controlLever=poleverFlag;
			}
			var currentPoNumber = $(".any_lever_PO"+controlLever).val();
			var poDrivenInfo = getPoDrivenInfobyPoNumber(currentPoNumber);
			controlReasonCodeMsg(poleverFlag,reasoncodValue);
		}
		
		 function clearPoFields(poleverFlag,viewFlag,iswaiverclick){
		 	var leverFlag = poleverFlag;
		  	if(isHeaderLever(poleverFlag)){
			 		poleverFlag="";
			 }
		 	var waiverchecked= false;
		 	var onetimePoChecked= false;
		 	if(!isCustomerBlackList||iswaiverclick==true){
		 		waiverchecked=$("#"+leverFlag+"waiverIndicator").is(":checked");
		 		onetimePoChecked =false;
		 	}
		 	
		 	if(iswaiverclick ==false){
		 		onetimePoChecked=$("#"+leverFlag+"onetime_po").is(":checked");
		 		waiverchecked=false;
		 	}
		 	var ponumber = $("#"+leverFlag+"po_number").val();
		 	var selectDetailInfo = getPoDrivenInfobyPoNumber(ponumber);
		 	if(isCustomerBlackList){
		 		$(".any_lever_reason_code"+poleverFlag).val("No");
		 		$(".any_lever_reason_code"+poleverFlag).attr("disabled","disabled");
	            
		 	}
		 	if(waiverchecked||onetimePoChecked){
		 		diplayNonPoNumberMessage(leverFlag,"Yes");
			 	if(selectDetailInfo.validFlag=="true"){
					$("."+'po_PONumber'+poleverFlag).text("");
				}
			 	$("."+'po_valid_date'+poleverFlag).text("");
			    $("."+'po_CPSNumber'+poleverFlag).text("");
			 	$(".WAIVER_BLACK_LIST"+poleverFlag).text("");
			 	$(".VALUE_BASE_INDICTOR"+poleverFlag).text("");
			 	$("."+'LOB_CODE'+poleverFlag).text("");
			 	$("."+'LOB_DESC'+poleverFlag).text("");
			 	$("."+'APPROVAL_AMOUT'+poleverFlag).text("");
			 	$("."+'Po_Driven_Comment'+poleverFlag).text("");
			 	if(!isCustomerBlackList){
			 		if(!viewFlag){
			 			$("."+"any_lever_reason_code"+poleverFlag).val("");
			 		}
			 	}
			 	if(waiverchecked){
			 		$("."+"any_lever_onetime_po"+poleverFlag).attr("checked","");
			 	}	
			 	if(onetimePoChecked){
			 		$("."+"any_lever_wave_indi"+poleverFlag).attr("checked","");
			 	}
			 	displayNotaValidPoNumberMessage(leverFlag,"Yes",selectDetailInfo);
		 	}else{
		 		diplayNonPoNumberMessage(leverFlag,"No");
				controlWaiverSelectExceptionMsg(leverFlag,false);
			     
				 if(!viewFlag){
				 	$("."+"any_lever_reason_code"+poleverFlag).val("");
				 }
				 displayNotaValidPoNumberMessage(leverFlag,"No",selectDetailInfo);
				setWaiverBlackListDefautValue(leverFlag,selectDetailInfo,ponumber);
		 	}
		 }
		
		function setWaiverBlackListDefautValue(poleverFlag,selectDetailInfo,currentPoNumber){
				if(isHeaderLever(poleverFlag)){
					poleverFlag="";
				}
				if(currentPoNumber==''){
					$("."+'WAIVER_BLACK_LIST'+poleverFlag).text("");
					$("."+'VALUE_BASE_INDICTOR'+poleverFlag).text("");
				}else{
					if(selectDetailInfo.validFlag=="true"&&selectDetailInfo.WaiverBlackList==''){
						$("."+'WAIVER_BLACK_LIST'+poleverFlag).text("No");
					}else if(selectDetailInfo.validFlag=="true"&&selectDetailInfo.WaiverBlackList=='N'){
						$("."+'WAIVER_BLACK_LIST'+poleverFlag).text("No");
					}else if(selectDetailInfo.validFlag=="true"&&selectDetailInfo.WaiverBlackList=='Y'){
						$("."+'WAIVER_BLACK_LIST'+poleverFlag).text("Yes");
					}else if (selectDetailInfo.validFlag=="false"){
						$("."+'WAIVER_BLACK_LIST'+poleverFlag).text("");
					}
					if(selectDetailInfo.validFlag=="true"&&selectDetailInfo.valueBasedIndictor==''){
						$("."+'VALUE_BASE_INDICTOR'+poleverFlag).text('N');
					}else if (selectDetailInfo.validFlag=="true"&&selectDetailInfo.valueBasedIndictor=='N'){
						$("."+'VALUE_BASE_INDICTOR'+poleverFlag).text('N');
					}else if(selectDetailInfo.validFlag=="true"&&selectDetailInfo.valueBasedIndictor!='N'&&selectDetailInfo.valueBasedIndictor!=""){
						$("."+'VALUE_BASE_INDICTOR'+poleverFlag).text('Y');
					}else if (selectDetailInfo.validFlag=="false"){
						$("."+'VALUE_BASE_INDICTOR'+poleverFlag).text("");
					}
				}
		}
		function clearWaiverIndicatorAndOnetimepo(poleverFlag){
			if(isHeaderLever(poleverFlag)){
				poleverFlag="";
			}
			$(".any_lever_wave_indi"+poleverFlag).attr("checked","");
			$(".any_lever_onetime_po"+poleverFlag).attr("checked","");
			$(".any_lever_wave_indi_hidden"+poleverFlag).val("No");
			$(".any_lever_onetime_po_hidden"+poleverFlag).val("No");
            
		}
		function isWaiverIndicatorSelected(poleverFlag){
			if(isHeaderLever(poleverFlag)){
				poleverFlag="";
			}
			var flag = $(".any_lever_wave_indi"+poleverFlag).attr("checked");
			if(flag){
				return true;
			}
			return false;
		}
		function isOneTimePOSelected(poleverFlag){
			if(isHeaderLever(poleverFlag)){
				poleverFlag="";
			}
			var flag = $(".any_lever_onetime_po"+poleverFlag).attr("checked");
			if(flag){
				return true;
			}
			return false;
		}
		function getCurrentSelectedExemptionReasonCode(poleverFlag){
			
			if(isHeaderLever(poleverFlag)){
				poleverFlag="";
			}
			var reasonCode = $(".any_lever_reason_code"+poleverFlag).val();
			
			
			return reasonCode;
		}
		
		function haveSpecicalCh(s){
			var pattern = new RegExp("[\"`~!@#$^&*()=|{}':;',\\[\\].<>/?~]");
			return pattern.test(s);
		} 
		
		function displayOtherPoInputErrMsg(poleverFlag,needDisplay){
			if(isHeaderLever(poleverFlag)){
				poleverFlag = "";
			}
			if(needDisplay){
				$(".otherPO_Invalid_message"+poleverFlag).attr("style","display:block;");
				$(".otherPO_Invalid_message"+poleverFlag).find("strong").text("have special charactor");
			}else{
				$(".otherPO_Invalid_message"+poleverFlag).attr("style","display:none;");
			}
			
		}	
		function isinputnumberchanged(polevelFlag,otherInputPoNumber){
			var levelcontrol = "";
			if(isHeaderLever(polevelFlag)){
				levelcontrol = polevelFlag;
			}
			if(otherInputPoNumber==$(".any_lever_po_no"+polevelFlag).val()){
				return false
			}
			return true;
		}
		function validateOtherPoNumber(poleverFlag){
	     
	      
	      
	       var isheaderleverFlag = isHeaderLever(poleverFlag);
			var otherInputPoNumber = $("#"+poleverFlag+"_otherPoNumber").val();
		   var iscurrenPonumberChanged = isinputnumberchanged(poleverFlag,otherInputPoNumber);
			if(haveSpecicalCh(otherInputPoNumber)){
				displayOtherPoInputErrMsg(poleverFlag,true);
				return false;
			}else{
				displayOtherPoInputErrMsg(poleverFlag,false);
			}
			
			var closebuttonId =poleverFlag+'_otherPoCloseButton';
			if(otherInputPoNumber==''){
				alert("please input other PO number");
				return false;
			}
			var podrivndetailinfo;
			//check whether entered po number has exist in dropdown list
			var iswaiverindicatorSelected = isWaiverIndicatorSelected(poleverFlag);
			var isonetimepoChecked=isOneTimePOSelected(poleverFlag);
			 
			var currentreasonCode = getCurrentSelectedExemptionReasonCode(poleverFlag);
			if(isExist(otherInputPoNumber)){
				automaticAppendPoFieldAndSelected(poleverFlag,otherInputPoNumber,false);
				podrivndetailinfo=getPoDrivenInfobyPoNumber(otherInputPoNumber);
				controlReasonCodeMsg(poleverFlag,currentreasonCode);
				if(iswaiverindicatorSelected||isonetimepoChecked){
					displayNotaValidPoNumberMessage(poleverFlag,"Yes",podrivndetailinfo);
				}else{
					displayNotaValidPoNumberMessage(poleverFlag,"No",podrivndetailinfo);
				}
			}else{
				var currentpoNumber = $("#"+poleverFlag+"po_number").val();
				var teckkey = $("input[name='headerGuid']").val();
				
				var ctxPath = "";
				var pattern = /w1c/gi;
				if(window.location.hostname.match(pattern) || window.location.hostname == "localhost"){
					ctxPath = "/b2b_ibm";
				}else{
					ctxPath = "/shop/b2b";
				}
				$.ajaxSetup({async:false});
				$.ajax(
				{
					url: ctxPath + "/b2b/inputOtherPoNumber.do",
					type:'post',
					async:false,
					timeout:300000,
					data:{partnerId:partnerId,otherPoNumber:otherInputPoNumber,isBlackList:isCustomerBlackList,iswaiverselected:iswaiverindicatorSelected,header_guid:teckkey},
					dataType:'json',
					error:function(XMLHttpRequest, textStatus, errorThrown){
					alert("AJAX error : " + textStatus);
					
					},
					success:function(data){
						 
							if(isCustomerBlackList&&!isonetimepoChecked){
								podrivndetailinfo = new IBM_PODriveDetailInfo_JS("true",otherInputPoNumber,'','No','','','','','N','','N','',"false","false");
								driveninfodetailList.push(podrivndetailinfo);
								displayNotaValidPoNumberMessage(poleverFlag,"No",podrivndetailinfo);
							}else if(iswaiverindicatorSelected||isonetimepoChecked){
								podrivndetailinfo = new IBM_PODriveDetailInfo_JS("true",otherInputPoNumber,'','No','','','','','N','','N','',"false","true");
								driveninfodetailList.push(podrivndetailinfo);
								displayNotaValidPoNumberMessage(poleverFlag,"Yes",podrivndetailinfo);
							}else{
								if(data.invalidPOnumberFlag=='Y'){
									podrivndetailinfo = new IBM_PODriveDetailInfo_JS("false",otherInputPoNumber,'','No','','','','','N','','N','',"false","false");
									driveninfodetailList.push(podrivndetailinfo);	
									
								 }else if(data.invalidPOnumberFlag!='Y'){
									var validotherPoInfoList =data.poDrivenDetailList;
									podrivndetailinfo = autoSetDrivenInfoFromBackEnd(validotherPoInfoList[0]);
								 }
								 displayNotaValidPoNumberMessage(poleverFlag,"No",podrivndetailinfo);
							 }
							 automaticAppendPoFieldAndSelected(poleverFlag,otherInputPoNumber,true);
						}
				}
				)
			}
			processEnterPoNumberMessage(poleverFlag,otherInputPoNumber);		
			controlWaiverSelectExceptionMsg(poleverFlag,iswaiverindicatorSelected);
			controlOnetimeSelectExceptionMsg(poleverFlag,isonetimepoChecked);
			if(isHeaderLever(poleverFlag)){
                        headerPoChangedProcess(poleverFlag,podrivndetailinfo,otherInputPoNumber,currentreasonCode,iscurrenPonumberChanged);
             }else{
                        itemPoChangeProcess(poleverFlag,podrivndetailinfo,otherInputPoNumber,currentreasonCode);
            }
			if(typeof(podrivndetailinfo)!='undefined'){
				controlReasonCodeMsg(poleverFlag,currentreasonCode);
			}
			var headerWaiverCheckFlag = $(".headerwaiverindicator").is(":checked");
			displayWaiverAssociateHeaderMsg2();
			processErrorIcon(poleverFlag);
			if(!iswaiverindicatorSelected&&!isonetimepoChecked){
				clearWaiverIndicatorAndOnetimepo(poleverFlag);
			}
			clearCPSnumber(poleverFlag);
			checkAllErrorStyleToRemoveAndAddTableError();
			checkMessages6277();
			$("#"+closebuttonId).click();
		}
		
		function clearCPSnumber(leverFlag){
			if(isHeaderLever(leverFlag)){
				leverFlag="";
			}
			$(".any_lever_po_cps_id"+leverFlag).val("");
            
		}
		
		
		function autoSetDrivenInfoFromBackEnd(currentPoDrivenInfo){
			var poNumber= currentPoDrivenInfo.poNumber;
			var CPSNumber= currentPoDrivenInfo.CPSNumber;
			if(currentPoDrivenInfo.waiverIndicator==''){
				currentPoDrivenInfo.waiverIndicator="No";
			}
			var waiverIndicator= currentPoDrivenInfo.waiverIndicator;
			var exemptionReasonCode= currentPoDrivenInfo.exemptionReasonCode;
			var lobCode= currentPoDrivenInfo.lobCode;
			var lobDesc= currentPoDrivenInfo.lobDesc;
			var approvedAmout= currentPoDrivenInfo.approvedAmout;
			var WaiverBlackList= currentPoDrivenInfo.WaiverBlackList;
			var poDrivenClientComment= currentPoDrivenInfo.poDrivenClientComment;
			if(currentPoDrivenInfo.valueBasedIndictor==''){
				currentPoDrivenInfo.valueBasedIndictor="N";
			}
			var valueBasedIndictor=currentPoDrivenInfo.valueBasedIndictor;
			var validDate=currentPoDrivenInfo.validDate;
			var validFlag=currentPoDrivenInfo.validFlag;
			var isWaiverIndicatorSelected = currentPoDrivenInfo.iswaiverindicatorselected;
			var isOtherPo = currentPoDrivenInfo.isOtherPo;
			var podrivndetailinfo = new IBM_PODriveDetailInfo_JS(isOtherPo,poNumber,CPSNumber,waiverIndicator,exemptionReasonCode,lobCode,lobDesc,approvedAmout,WaiverBlackList,poDrivenClientComment,valueBasedIndictor,validDate,validFlag,isWaiverIndicatorSelected);
								
			return 	podrivndetailinfo;
		}
		
		function automaticAppendPoFieldAndSelected(leverFlag,enteredPoNumber,isNeedAppend){
			var enteredPoNumberchanged = changeSingeQuotaToDoubleQuota(enteredPoNumber);
			if(isNeedAppend){
				$(".any_lever_PO").append("<option class='otherPOOption' value='"+enteredPoNumberchanged+"'>"+enteredPoNumberchanged+"</option>");
			}
			if(isHeaderLever(leverFlag)){
				$(".any_lever_PO").val(enteredPoNumberchanged);
				$(".any_lever_po_no").val(enteredPoNumberchanged);
				$("select.any_lever_PO > option").each(function(){
					if($(this).attr("value") == enteredPoNumberchanged){
						$(this).attr("selected", "selected");
			            
					}else{
						$(this).removeAttr("selected");
					}
				});				
	            
			}else{
				$("#"+leverFlag+"po_number").val(enteredPoNumberchanged);
				$("#"+leverFlag+"_PO_NO").val(enteredPoNumberchanged);
				$("select[id='" + leverFlag + "po_number'] > option").each(function(){
					if($(this).attr("value") == enteredPoNumberchanged){
						$(this).attr("selected", "selected");
			            
					}else{
						$(this).removeAttr("selected");
					}
				});				
	            
			}
		}
		
	function changeSingeQuotaToDoubleQuota(Str){
		return Str.replace(/\'/g,"\"");
	}

	function isExist(currentPoNumber){
    
		var isexist = false;
		$.each(driveninfodetailList,function(i){
					var selectDetailInfotemp= driveninfodetailList[i];
					if(selectDetailInfotemp.poNumber==currentPoNumber){
						
						isexist = true;
						return false;
					}
		});
		return isexist;
	}	
		
	function IBM_PODriveDetailInfo_JS(isOtherPo,poNumber,CPSNumber,waiverIndicator,exemptionReasonCode,lobCode,lobDesc,approvedAmout,WaiverBlackList,poDrivenClientComment,valueBasedIndictor,validDate,validFlag,isWaiverIndicatorSelected){
		this.isOtherPo = isOtherPo;
		this.poNumber = poNumber;
		this.CPSNumber = CPSNumber;
		this.waiverIndicator=waiverIndicator;
		this.exemptionReasonCode=exemptionReasonCode;
		this.lobCode=lobCode;
		this.lobDesc=lobDesc;
		this.approvedAmout = approvedAmout;
		this.WaiverBlackList =WaiverBlackList;
		this.poDrivenClientComment =poDrivenClientComment;
		this.valueBasedIndictor=valueBasedIndictor;
		this.validDate =validDate;
		this.validFlag= validFlag;
		this.isWaiverIndicatorSelected=isWaiverIndicatorSelected;
	}		
	
	
	function displayOtherPo(otherPoId,comp){
    
		$("#"+otherPoId+'_otherPoNumber').val('');
		var podrivenLever = otherPoId;
		if(isHeaderLever(podrivenLever)){
			podrivenLever ="";
		}
		$(".otherPO_Invalid_message"+podrivenLever).attr("style","display:none;");
		ibmCommon.Overlays.show(otherPoId+'POother', comp);
		
	}
	function displayErrorMessage(){
    
		if(typeof(podrivenflag)=='undefined'||podrivenflag!='Y'){
			alert('this partner is not po driven customer');
		}
		if(details.length==0&&podrivenflag=='Y'){
			if(typeof(errormessage)!='undefined'&&errormessage!=''){
				alert(errormessage);
			} 
		}
	}
	
	function controlWaiverSelectExceptionMsg(poleverFlag,iswaiverIndicatorchecked){
    
		if(isHeaderLever(poleverFlag)){
			poleverFlag="";
		}
		if(iswaiverIndicatorchecked){
			$("."+poleverFlag+"podriven_Waiversel_error").attr("style","display: block;");
			
		}else{
			$("."+poleverFlag+"podriven_Waiversel_error").attr("style","display: none;");
			
		}
	} 
	
	function controlOnetimeSelectExceptionMsg(poleverFlag,isOnetimePOSelected){
    
		if(isHeaderLever(poleverFlag)){
			poleverFlag="";
		}
		if(isOnetimePOSelected){
			$("."+poleverFlag+"podriven_Onetimersel_error").show();
			
		}else{
			$("."+poleverFlag+"podriven_Onetimersel_error").hide();
		}
	} 
	
	function controlBlackListErrorMsg(poleverFlag,poDrivenInfo){
    
  
		if(isHeaderLever(poleverFlag)){
			poleverFlag="";
		}
		var waiverBlackList = poDrivenInfo.WaiverBlackList;
		if(waiverBlackList=='Y'){
			$("."+poleverFlag+"podriven_BlackList_error").attr("style","display: block;");
			$("."+poleverFlag+"podriven_BlackList_error_text").text('This PO Driven customer is labeled as "Waiver Exclusion List"');
		}else{
			$("."+poleverFlag+"podriven_BlackList_error").attr("style","display: none;");
			$("."+poleverFlag+"podriven_BlackList_error_text").text("");
		}
		
	}
	function autoViewDetail(leverFlag){
	    
	    if(leverFlag.toString().search(/^[0-9]+$/) == 0){
	      displayWaiverAssociateHeaderMsg(leverFlag, 'X');
	    }
		var comp = $("#"+leverFlag+'viw_button').get(0);
		displayDetail(leverFlag+'PO',comp,leverFlag,true);
	}
	function selectOrderTable(tableid){
	    
		$("#"+tableid).click();
	}
	function validate_ponumber_selected(checkoutFlag){
	    
		var passValidate = true;
		var hasitmes = $(".1ITEMERRORPO").size();
		if(hasitmes==0){
			
			var headerponumber = $(".headerprice_POnumber").val();
			
			var headerWaiverIndicatorchecked = $("#PriceHeaderwaiverIndicator").is(":checked");
			var headerWaiverIndicatorchecked = $("#PriceHeaderonetime_po").is(":checked");
			
			var reasoncode = $("#PriceHeaderreasonCode").val();
			if(headerponumber==""&&!headerWaiverIndicatorchecked&&!headerWaiverIndicatorchecked){
				controlReasonCodeMsg("Header",reasoncode);
				processEnterPoNumberMessage("Header","");
			}
		}
		if(isCurrentElementshaveError("headerEnter_POError")||isCurrentElementshaveError("podriven_nopo_error")
		||isCurrentElementshaveError("podriven_novalidpo_error")||isCurrentElementshaveError("headerEnterWaiver_POError")
		||isCurrentElementshaveError("ReasonCode_POError")||isCurrentElementshaveError("poaccociate_POError")
		||isCurrentElementshaveError("poaccociatewaiver_POError")){
			passValidate = false;
		}
		return passValidate;
	}
	
	function isCurrentElementshaveError(className){
	    
		var isErrorExist = false;
		$("."+className).each(function(){
			if(isStyleDisplay($(this).attr("style"))){
				isErrorExist = true;
				return false;
			}
		});
		
		return isErrorExist;
	}
</script>
 
 

<script type="text/javascript">
	function createCustomer1(bptype, comp,bpfieldname,siteid) {
		var url = '/b2b_ibm/b2b/IBM_preparebusinesspartnercustomercreate.do';
		url += '?SOURCE=order_positions.'+bpfieldname;
		url += '&BPTYPE='+bptype;
		url += '&FROM_LEFTNAV=';    	
		url += '&SiteId='+siteid;
    	
		var sat = window.open(url, 'sat_details', 'width=600,height=450,menubar=no,locationbar=no,scrollbars=yes,resizable=yes');
		sat.focus();
	}        
    
	/**
	 * this is for IGF related droplist value to parameter
	 **/
	function fillIGFParameters() {
		if($("#tab5").length){
			document.getElementById("IGF_Firm_Rate_offering_type").value = document.getElementById("IGF_Firm_Rate_offering_type_disp").value;
			document.getElementById("IGF_Firm_Rate_payment_term").value = document.getElementById("IGF_Firm_Rate_payment_term_disp").value;
			document.getElementById("IGF_Firm_Rate_credit_rating").value = document.getElementById("IGF_Firm_Rate_credit_rating_disp").value;
			document.getElementById("IGF_Firm_Rate_payment_frequency").value = document.getElementById("IGF_Firm_Rate_payment_frequency_disp").value;
			document.getElementById("IGF_Firm_Rate_payment_profile").value = document.getElementById("IGF_Firm_Rate_payment_profile_disp").value;
		}
	}
    
	function getHelpValuesPopupCustomer(formName, index, bptype, bpfieldname, bpfieldvalue) {
		  
			ibmPartnerSearchP(formName, index, bptype, bpfieldname, bpfieldvalue, 'P000154007', '/b2b_ibm/b2b/customersearch.do');
		 
	}
  
	function getHelpValuesPopupCustomerItem(formName, index, bptype, bpfieldname, itemNum) {
		
		   ibmPartnerSearchPItem(formName, index, bptype, bpfieldname, itemNum, 'P000154007', '/b2b_ibm/b2b/customersearch.do');
		
	}

	function readItemGuid(itemGuid, item) {
		 document.forms['order_positions'].elements['dsmItemGuid'].value = itemGuid;
		 document.forms['order_positions'].elements['dsmItem'].value = item;		 
		 return true;
	}

  var jq=$.noConflict();
  var $ = jQuery;
  // prepare the form when the DOM is ready 
  $(document).ready(function() { 
  	tabs_top = ($('#tab_nav').offset().top);
	footer_top = ($('#ibm-footer').offset().top);
	cart_loc = ($('#cart').offset().top + $('#cart').height());
	page_height = ($(window).height());
	$(window).scroll(function () {
    	document_height = $(document).height();
		moveTab();
	});
	
	$(window).resize(function () {
		document_height = $(document).height();
		moveTab();
	});
  	
	jq('#emaillink').click(function() { 
		document.forms['order_positions'].elements['refresh'].value="true";
		document.forms.order_positions.email.value="email";
		
		jq('#order_positions').ajaxSubmit(function() {
			jq('#email').clearForm();
			jq("#emailResult").empty();
			jq("input[name='r1']").get(0).checked=true;  
			ibmCommon.Overlays.show('email', this);
			});
		return false; 
	}); 
	jq('#downloadlink').click(function() { 
		document.forms['order_positions'].elements['refresh'].value="true";
		document.forms.order_positions.email.value="download";
	
		jq('#order_positions').ajaxSubmit(function() { 
				jq("#downloadResult").empty();
				jq("input[name='down']").get(0).checked=true;  
				ibmCommon.Overlays.show('download', this);
			});
		return false; 
	}); 
	jq('#printlink').click(function() { 
		document.forms['order_positions'].elements['refresh'].value="true";
		document.forms.order_positions.email.value="print";
		
		jq('#order_positions').ajaxSubmit(function() { 
				
				document.getElementById("print").style.display = 'none';
				submit_printdisplay();
			});
		return false; 
	}); 
	jq('#emaillinkSpe').click(function() { 
		document.forms['order_positions'].elements['refresh'].value="true";
		document.forms.order_positions.email.value="email";
		
		jq('#order_positions').ajaxSubmit(function() { 
				jq('#email').clearForm();
				jq("#emailResult").empty();
				jq("input[name='r1']").get(0).checked=true;  
				ibmCommon.Overlays.show('email', this);
			});
		return false; 
	}); 
	jq('#downloadlinkSpe').click(function() { 
		document.forms['order_positions'].elements['refresh'].value="true";
		document.forms.order_positions.email.value="download";
        
		jq('#order_positions').ajaxSubmit(function() { 
				jq("#downloadResult").empty();
				jq("input[name='down']").get(0).checked=true;  
				ibmCommon.Overlays.show('download', this);
			});
		return false; 
	}); 
	jq('#printlinkSpe').click(function() { 
		document.forms['order_positions'].elements['refresh'].value="true";
		document.forms.order_positions.email.value="print";
		jq('#order_positions').ajaxSubmit(function() { 
				document.getElementById("print").style.display = 'none';
				submit_printdisplay();
			});
		return false; 
	}); 
	
  }); 
</script> 

  
  <script type="text/javascript">
  var $ = jQuery;
  $(document).ready(function() {
	miRegisterObjects();
	iconfig();	
  });
  </script>
    









	 
	   <script type="text/javascript">
		     
			 function submit_downloadedpdisplay(){
					
				$("#downloadResult").empty();			
				var download = "download";
				var downloadformat = "";
				var r1Val = document.getElementsByName("down");
				for( i = 0; i < r1Val.length; i++ ){
	 				if(r1Val[i].checked){
	 					downloadformat = r1Val[i].value;
 					}
 				}		
				
				
				window.location.target="_ablank";
				window.location.href = '/b2b_ibm/b2b/ibm/downloadquote.do' + '?download=' + download + '&downloadformat=' + downloadformat;
				
				var count=0;
				int_refresh = setInterval(function() {
					
					count++;

					$.post("/b2b_ibm/appbase/ibm/quotation/IBM_DownloadResult.jsp",function(data){
						if (data=="success")
						{
							$("#downloadResult").html("Download success.");
							clearInterval(int_refresh);
						} else {
							if (count==60)
							{
								$("#downloadResult").html("Download failed.");
								clearInterval(int_refresh);
							}
						}
					});

					
				}, 1000);
			}

		</script>	

		<div id="download" class="ibm-common-overlay" style="display: none; top: 722.5px; left: 59.5px;">
			<div class="ibm-head">
			<p><a href="#close" class="ibm-common-overlay-close">Close [x]</a></p>
			</div>
			<div class="ibm-body">
                    <div class="ibm-main">
				<table class="message">
					<tr> 
						<td id = "downloadResult" class="identifier" align="left" colspan="2"></td>
						
					</tr>
				</table>
						<a class="ibm-access"><!-- Accessibility anchor --></a>
						<!--INSERT OVERLAY CONTENT HERE -->
						<h2>Download cart</h2>
						<p>Select format of file</p>
						<p id ="downradio">
						<input type="radio" value="XLS" name="down" checked> XLS &nbsp;
						<input type="radio" value="CSV" name="down"> CSV &nbsp;
						<input type="radio" value="XML" name="down"> XML &nbsp;
						<input type="radio" value="PDF" name="down"> PDF &nbsp;
						<!--<input type="radio" value="TXT" name="down"> Text-->
						</p>
						<div class="ibm-rule"><hr></div>
						<div class="ibm-buttons-row">
						<p><input type="button" onclick="submit_downloadedpdisplay();" class="ibm-btn-arrow-pri" name="ibm-submit" value="Download"><span class="ibm-sep">&nbsp;</span>
						
						<input type="button" onclick="window.ibmCommon.Overlays.close(this)" class="ibm-btn-cancel-sec" name="ibm-cancel" value="Cancel"></p>
						</div>
                    </div>
            </div>
            <div class="ibm-footer"></div>
            </div>















	   <script type="text/javascript">
		     
			 function submit_printdisplay(){
				
				document.getElementById("print").style.display = 'none';
				var printquote = "print";
				
				
				window.location.target="_ablank";
				window.location.href = '/b2b_ibm/b2b/ibm/downloadquote.do' + '?printquote=' + printquote;
				
				var count = 0;
				int_refresh = setInterval(function() {
					count++;
					$.post("/b2b_ibm/appbase/ibm/quotation/IBM_DownloadResult.jsp",function(data){
						if (data=="success")
						{
							clearInterval(int_refresh);
						} else {
							if (count==60)
							{
								ibmCommon.Overlays.show('print', this);
								clearInterval(int_refresh);
							}
						}
					});
					
				}, 1000);
			}
			
		</script>	

	
		<div id="print" class="ibm-common-overlay" style="display: none; top: 722.5px; left: 59.5px;">
			<div class="ibm-head">
			<p><a href="#close" class="ibm-common-overlay-close">Close [x]</a></p>
			</div>
			<div class="ibm-body">
					<div class="ibm-main">
				<table class="message">
					<tr> 
						<td id = "downloadResult" class="identifier" align="left" colspan="2">You print has been failed.</td>
						
					</tr>
				</table>
						<a class="ibm-access"><!-- Accessibility anchor --></a>
						<!--INSERT OVERLAY CONTENT HERE -->
						
						
						<div class="ibm-rule"><hr></div>
						
					</div>
			</div>
			<div class="ibm-footer"></div>
			</div>























	   <script type="text/javascript">
		var $ = jQuery;
		   
			function submit_emailedpdisplay(){
				$("#emailResult").empty();
				var formatErr = false; 
				var emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;
				var radioErr = false
			    $(".ibm-b2b-required-email").each(function(){
					$(this).nextAll().remove();
					if($(this).val().trim() != "" && (! emailPattern.test($(this).val().trim()))){
					
					  $(this).after("<p style='display:inline' class='ibm-ind-error'>Email address is in wrong format.</p>");
					  formatErr = true; 

					} 
				 }

				 );
				
				 if (formatErr)
					 {
						 return false;
					 }
				
		   		var email = "email";
		   	
				var emailrecipients=""; 
				
				$('input[name="recipients"]').each(function(){   
					if ($(this).val()!="")
					{
						emailrecipients=emailrecipients+$(this).val();
						emailrecipients=emailrecipients+","
					}
					
				});   
		   		var r1Val = document.getElementsByName("r1");
		   		var emailformat = "";
		   		for( i = 0; i < r1Val.length; i++ ){
	 				if(r1Val[i].checked){
	 					emailformat = r1Val[i].value;
 					}
 				}
				var mailList="";
 				
				
				$.post("/b2b_ibm/b2b/ibm/emailrecipients.do", "email=" + email + "&emailrecipients=" + emailrecipients + "&emailformat=" + emailformat + "&mailList=" + mailList, function(data){
					 $("#emailResult").html(data);});
				
			}  
		</script>	
                
<div id="email" class="ibm-common-overlay ibm-overlay-alt">
  <div class="ibm-head">
    <p><a href="#close" class="ibm-common-overlay-close">Close [x]</a></p>
  </div>
  <div class="ibm-body">
    <div class="ibm-main"> 
        <table class="message">
			<tr> 
				<td id = "emailResult" class="identifier" align="left" colspan="2"></td>
				
			</tr>
		</table>
    <a class="ibm-access">
      <!-- Accessibility anchor -->
      </a>
      <div class="ibm-overlay-conetent">
        <h1>E-mail this cart</h1>
        
		
        
		<form id="email"
			name="email"
			method="post"
			 accept-charset="UTF-8" class="ibm-column-form">
		
				
				
				<input type="hidden" name="documentkey" value="">
				
				<input type="hidden" name="b2bQuoteDisplay" value="">
				
					  
				
						  
						  

          <div class="ibm-rule">
           <hr />
          </div>
          <p><strong>Other Recipients</strong></p>
          <p><label>email:</label>
				<span> <input class="ibm-b2b-required-email" type="text" name="recipients" /></span>
		  </p>
		  <p><label>email:</label>
				<span> <input class="ibm-b2b-required-email" type="text" name="recipients" /></span>
		  </p>
		  <p><label>email:</label>
				<span> <input class="ibm-b2b-required-email" type="text" name="recipients" /></span>
		  </p>
		  <p><label>email:</label>
				<span> <input class="ibm-b2b-required-email" type="text" name="recipients" /></span>
		  </p>
		  <p><label>email:</label>
				<span> <input class="ibm-b2b-required-email" type="text" name="recipients" /></span>
		  </p>
		  <p>
            <label for="from_last_name">Format of email<span class="ibm-required">*</span></label>
            <span class="ibm-input-group">
            <input type="radio" name="r1" value="HTM" checked="true">HTML
			<input type="radio" name="r1" value="PDF" checked="false">PDF
			
			<input type="radio" name="r1" value="XLS" checked="false">Excel
			<input type="radio" name="r1" value="XML" checked="false">XMLT
				</span></p>
          <div id="etpProcessing" style="display:none; position:absolute; top:200px; left:150px; width:54px; height:55px;"><img src="//www.ibm.com/images/account/profile/animation.gif"></div>
          <div class="ibm-rule">
            <hr />
          </div>
        </form>
        <div class="ibm-buttons-row">
		<p>
						<input type="button" class="ibm-btn-arrow-pri" name="ibm-submit" value='Submit' onclick="javascript:submit_emailedpdisplay();">
						<span class="ibm-sep">&nbsp;</span>
						<input type="button" onclick="window.ibmCommon.Overlays.close(this)" class="ibm-btn-cancel-sec" name="ibm-cancel" value='Cancel'>
					
        </p>
        </div>
        <div class="ibm-rule">
          <hr />
        </div>
        <div class="ibm-overlay-legal">
          <p>Note: IBM will not use information collected here for marketing or promotional purposes beyond the scope of this transaction.</p>
        </div>
      </div>
    </div>
  </div>
  <div class="ibm-footer"></div>
</div>
 
  <div class="module-name">b2b/order.jsp</div>
 
  <a id="access-header" href="#access-items" title="Document header. Click on this link to get to the items." accesskey="h"></a>
	<script type="text/javascript">
		document.getElementById("orderPageTitle").innerHTML='Build cart'+': '+'Standard';
	</script>
  <div id="loading" name="loading" style="position: absolute; top: 100px; left: 190px; display: none;">
	<center>
	<img src='/b2b_ibm/b2b/mimes/images/busy.gif'/>
	<br><b>Please wait while we launch Product Configuration Page.</b>
	</center>
</div> 
	
 
	<form action="/b2b_ibm/b2b/maintainbasket.do"
		  id="order_positions"
		  name="order_positions"
		  method="post">		  
		<input type="hidden" name="xsrfid" value="UoQM2RfaHcaFZwbSPA39vPMPDzWb1LvNQAE"/>
		<input type="hidden" name="last_show_tab_index" >   
		<input type="hidden" id="cartTypeCode" value="ZQT1"/>       
	  <div>
		<input type="hidden" name="requestserial" value="3"/> 
		<input type="hidden" name="businessPartnerRole[1]" value="RESELLER"/>
<input type="hidden" name="businessPartnerTechKey[1]" value="4FBB3BDB051B0760E1008000093F8410"/>
<input type="hidden" name="businessPartnerId[1]" value="BP10AIL4ST"/>
<input type="hidden" name="businessPartnerRole[2]" value="SHIPTO"/>
<input type="hidden" name="businessPartnerTechKey[2]" value="4FBB3BDB051B0760E1008000093F8410"/>
<input type="hidden" name="businessPartnerId[2]" value="BP10AIL4ST"/>
<input type="hidden" name="businessPartnerRole[3]" value="PAYER"/>
<input type="hidden" name="businessPartnerTechKey[3]" value="4FBB3BDB051B0760E1008000093F8410"/>
<input type="hidden" name="businessPartnerId[3]" value="BP10AIL4ST"/>
<input type="hidden" name="businessPartnerRole[4]" value="BILLTO"/>
<input type="hidden" name="businessPartnerTechKey[4]" value="4FBB3BDB051B0760E1008000093F8410"/>
<input type="hidden" name="businessPartnerId[4]" value="BP10AIL4ST"/>

	  </div>
	  
	  <div class="ibm-first" style="text-align:left;">
	   
		<div class="ibm-container">
		  <h2><a>Cart data</a></h2>
		  <div class="ibm-container-body">
			<table  border="0" cellpadding="0" cellspacing="8" role="presentation">     
							        
					<tr>
					  <td>
						<label for="customer number2" style="font-weight:bold;">Cart number:</label>
					  </td>
					  <td>
					  </td>
					</tr>
										
					<tr>
					  <td>
						<label for="customer number2" style="font-weight:bold;">Cart type:</label>
					  </td>
					  <td>
					  Standard
					  </td>
					</tr>
											
	

					
						<tr>
						  <td>
							<label style="font-weight:bold;">Usage indicator:</label>
						  </td>
						  <td>
							<span>
							  Resell
							  <input type="hidden" 
									 name="USAGE_IND" 
									value="BP1"/>
							</span>
						  </td>
						</tr>
						
						<tr>
						  <td>
							<label style="font-weight:bold;">Business relationship:</label>
						  </td>
						  <td>
							<span>
							  T1 Reseller
							  <input type="hidden"
									 name="BUSREL_DESC" 
									value="07"/>
							</span>
						  </td>
						</tr>
						
					
											
					<tr>
						   
								<td style="font-weight:bold;">
									
										<label for="headerDescription">Cart description:</label>
									
								</td>
							
					
							<td class="value">
							   
								   
										  
											 <input type="text" class="textinput-large" maxlength="70"
													name="headerDescription" id="headerDescription"
													value=""/>
										  
									    
							   
							</td>
						</tr>	
				
	
						<tr> 
						  <td class="identifier" > 
							<label style="font-weight:bold;">End user site ID:</label>
						  </td> 
						  <td class="value">
							<input type="text" disabled class="textinput-large"  maxlength="15" size="15" 
								   name="ZECdummy"  
								   value="S00000JMP9"/>
							<span id="endUserSiteLabelDummy">黄山市供电公司...黄山市屯溪区黄山东路...黄山</span>
						  </td>
						</tr> 
		

	 
					
			
			<tr> 
			<td class="identifier"> 
			<label for="ZONA" style="font-weight:bold;">Opportunity number:</label>
			</td> 
			<td class="value">
			<input type="text" maxlength="40" name="ZONA" id="ZONA" value=""/>
			</td>
			</tr> 
			
			 

			<tr>
			  <td>
				<label style="font-weight:bold;">Status:</label>
			  </td>
			  <td>
				<span>                                                
				  <input type="hidden" name="ZZWC_STATUS" value="05"/>
				  Draft
				</span>
			  </td>
			</tr> 			
		

<div style="display:none">
	EDD-WW-OTOWC21-CR38041--caishu-20110919
</div> 


  


<tr> 
<td class="identifier"> 
</td> 
<td class="value">  
<input type="hidden" class="textinput-large" maxlength="40" name="ZCBL" id="ZCBL" value=""  />
</td>
</tr> 
 
 
 


<tr> 
<td class="identifier"> 
</td> 
<td class="value" >
<input type="hidden" class="textinput-large" maxlength="40" name="ZDSP" id="ZDSP" value="0000000000" /> 
</td>
</tr> 


	<input type="hidden" 	name="ZZYCONTENT_TYPE" 
	value=""/>


	<input type="hidden" 	name="ZZYWS_SOURCE" 
	value="0000000023"/>

	<input type="hidden" 	name="ACTIVITY_CATEGORY" 
	value="WEB"/>

		

 





<div style="display:none"><isa:moduleName name="b2b/customize/quote/IBM_PSurl.jsp" />
https://sapw1cdb.portsmouth.uk.ibm.com:52500/b2b_ibm/appbase/ibm/css/IBM_creditcard.css||https://sapw1cdb.portsmouth.uk.ibm.com:52500/b2b_ibm/b2b/paymentSuccess.do||https://sapw1cdb.portsmouth.uk.ibm.com:52500/b2b_ibm/b2b/paymentCancel.do||https://sapw1cdb.portsmouth.uk.ibm.com:52500/b2b_ibm/b2b/paymentFailed.do
</div>
		
			           			            
					 
				         
					     		            	            	            
				
		</table> 
			    
		<div class="header-additional">   
			<div class="area" id="addheader" style="display: none">
				 
	            
				
				 
				


           
               	            
 
				 
			</div>  
		</div>  
		                          
		
		 

		</div>  
			<br/>
			  






    
   
<div class="ibm-container">
	<h2>Messages and errors</h2>
	<div class="ibm-container-body" id="errormessage" style="height:250px; overflow:auto">
	   
      	<!--
@ Copyright IBM Corp. 2012
 -->





 


	
  

<div class="module-name">b2b/customize/quote/IBM_PODrivenErrMsg.inc.jsp</div>	

  


  
         
   
   
       	<!--
@ Copyright IBM Corp. 2012
 -->



    


<div class="module-name"><isa:moduleName name="b2b/customize/quote/IBM_PODrivenWarnMsg.inc.jsp" /></div>	






         
  
       	<!--
@ Copyright IBM Corp. 2012
 -->



 


    


<div class="module-name">b2b/customize/quote/IBM_PODrivenInfoMsg.inc.jsp</div>	






       
       
   		<!--
@ Copyright IBM Corp. 2012
 -->



 





<div class="module-name">b2b/customize/quote/IBM_GPSDrivenInfoMsg.inc.jsp</div>



   
    </div>
</div>



			</div>            
		  </div>

			<div class="ibm-column ibm-second">
			  <div class="ibm-container ibm-portrait-module">

			  </div>
			</div>
          
<br/><br/>
				<!--
@ Copyright IBM Corp. 2012
 -->

<div class="ibm-common-overlay  ibm-overlay-alt" id="message">
  <div class="ibm-head">
    <p><a class="ibm-common-overlay-close" href="#close">Close [x]</a></p>
  </div>
  <div class="ibm-body">
    <div class="ibm-main"> 
      <div class="ibm-sb-message">
        message:null<br/>
      </div>
      <div class="ibm-buttons-row">
        <p>
          <input value="Ok" type="button" name="ibm-cancel" class="ibm-btn-arrow-pri" onclick="window.ibmCommon.Overlays.close(this)" />
        </p>
      </div>
    </div>
  </div>
  <div class="ibm-footer"></div>
</div>  

		  <div class="ibm-container ibm-graphic-tabs" style="text-align:left;width:700px;">
			<div id="tab_nav">
			<div class="ibm-tab-section" role="toolbar" aria-label="Cart areas">
			  <ul class="ibm-tabs">
				

	
 				 	 
				<li id="tab0" class="tabLink ibm-first-tab ibm-highlight-tab"><a tabindex="0" id="tablink0" role="button" aria-pressed="true" href="javascript:void(0)" onclick="disableFieldsBasedOnTab('0');switchTab('0','5');setCurrentStatus('zero');">Cart</a></li>
			 
				<li id="tab1" class="tabLink"><a tabindex="-1" id="tablink1" role="button" aria-pressed="false" href="javascript:void(0)" onclick="disableFieldsBasedOnTab('1');switchTab('1','5');priceAndPromotesInit(this);setCurrentStatus('one');"><span class="tabError" style="display:none;"><img height="11" align="top" width="16" alt="Error" src="/b2b_ibm/b2b/mimes/images/error.gif" /></span>Prices and Promos</a></li>
			
				<li id="tab2" class="tabLink"><a tabindex="-1" id="tablink2" role="button" aria-pressed="false" href="javascript:void(0)" onclick="disableFieldsBasedOnTab('2');switchTab('2','5');setCurrentStatus('two');">Attachments</a></li>
				<li id="tab3" class="tabLink"><a tabindex="-1" id="tablink3" role="button" aria-pressed="false" href="javascript:void(0)" onclick="disableFieldsBasedOnTab('3');switchTab('3','5');setCurrentStatus('three');">Addresses</a></li>
			
				 <li id="tab4" class="tabLink"><a tabindex="-1" id="tablink4" role="button" aria-pressed="false" href="javascript:void(0)" onclick="disableFieldsBasedOnTab('4');switchTab('4','5');specialBidCodeSelecterInit();setCurrentStatus('four');">Special pricing</a></li>
			
			 
				<li id="tab5" class="tabLink"><a tabindex="-1" id="tablink5" role="button" aria-pressed="false" href="javascript:void(0)" onclick="disableFieldsBasedOnTab('5');switchTab('5','5');showigf();setCurrentStatus('five');">Financing</a></li>
			
			 
				<li id="tab6" class="tabLink ibm-last-tab"><a tabindex="-1" id="tablink6" role="button" aria-pressed="false" href="javascript:void(0)" onclick="disableFieldsBasedOnTab('6');switchTab('6','5');validateTab('Y');checkoutInit(this);setCurrentStatus('checkout');"><span class="checkouttabError" style="display:none;"><img height="11" align="top" width="16" alt="Error" src="/b2b_ibm/b2b/mimes/images/error.gif" /> </span>Checkout</a></li>
			
			   </ul>
			</div>  
			</div>
<script>
$(function(){			
	$(".tabLink a").keydown(function(event) { 
		tabWithArrowKey(event.keyCode,$(this).attr("id"),new Array('tablink0','tablink1','tablink2','tablink3','tablink4','tablink5','tablink6')); 
		document_height = $(document).height();
		moveTab();
	});
	$(".tabLink a").click(function(event) { 
		document_height = $(document).height();
		moveTab();
	});
});
</script>
			
			<div class="ibm-common-overlay  ibm-overlay-alt" id="VAddress" left="4" top="3">
			</div>
						
			<div class="ibm-container" >
			
			  <div class="ibm-container-body ibm-inner-data-table-last" style="display: none;" id="tabbody1">
				<!--
@ Copyright IBM Corp. 2012
 -->


  





 






 







 











 







<script type="text/javascript"> 
function selectedContract(contractnum,level){
//alert("Hi"+contractnum);
//document.forms.order_positions.prefcontract.value=contractnum; 
$("input[name='prefcontract']").val(contractnum);
//document.forms.order_positions.contractaction.value="APPLY_PREF_CONTRACT";
if(level=='apply_on_Header'){
//document.forms.order_positions.applyonheader.value="APPLY_ON_HEADER";
//document.forms.order_positions.contractaction.value="APPLY_CONTRACT";
$("input[name='contractaction']").val("APPLY_CONTRACT");
//document.forms.order_positions.newcontractaction.value="APPLY_ON_HEADER";
$("input[name='newcontractaction']").val("APPLY_ON_HEADER");
}
if(level=='apply_on_Item'){
//document.forms.order_positions.applyonitem.value="APPLY_ON_ITEM";
//document.forms.order_positions.contractaction.value="APPLY_CONTRACT";
$("input[name='contractaction']").val("APPLY_CONTRACT");
//document.forms.order_positions.newcontractaction.value="APPLY_ON_ITEM";
$("input[name='newcontractaction']").val("APPLY_ON_ITEM");
}
if(contractnum){
submit_refresh();
}
}

function checkUnresovedItems(){

return true;
}

//function contractapplylevel(level){
//alert("contract apply level"+level);
//if(level=='apply_on_Header'){
//document.forms.order_positions.applyonheader.value="APPLY_ON_HEADER";
//document.forms.order_positions.contractaction.value="APPLY_PREF_CONTRACT";
//}
//if(level=='apply_on_Item'){
//document.forms.order_positions.applyonitem.value="APPLY_ON_ITEM";
//document.forms.order_positions.contractaction.value="CHANGE_ITM_CONTRACT";
//}
//}
//function  itemlevlecontractdisplay(){
//var url = '<isa:webappsURL name="/b2b/ibm/quote/selectedcontract.do"/>';
//document.forms.order_positions.action=url
//document.forms.order_positions.submit();
//document.forms.order_positions.applyonitem.value="APPLY_ON_ITEM";
//var sat = window.open(url, 'sat_details', 'width=600,height=450,menubar=no,locationbar=no,scrollbars=yes,resizable=yes');
//sat.focus();
//}

//function  itemlevlecontractorderchange(){
//var url = '<isa:webappsURL name="/b2b/ibm/quote/selectedcontractorderchange.do"/>';
//document.forms.order_positions.action=url
//document.forms.order_positions.submit();
//document.forms.order_positions.applyonitem.value="APPLY_ON_ITEM";
//var sat = window.open(url, 'sat_details', 'width=600,height=450,menubar=no,locationbar=no,scrollbars=yes,resizable=yes');
//sat.focus();
//}
</script>












<script type="text/javascript">
function removeContractAtHeader(contractnum,action){

//document.forms.order_positions.contractaction.value=action; 
$("input[name='contractaction']").val(action);
//document.forms.order_positions.prefcontract.value=contractnum;
$("input[name='prefcontract']").val(contractnum);
submit_refresh(); 
//alert(str);
return true;
}

function removeContractAtLine(contractnum,action,lineitemguid){

//document.forms.order_positions.contractaction.value=action; 
$("input[name='contractaction']").val(action);
//document.forms.order_positions.prefcontract.value=contractnum;
$("input[name='prefcontract']").val(contractnum);
$("input[name='lineitemguid']").val(lineitemguid);
submit_refresh(); 
//alert(str);
return true;
}

</script>

 
 
<div class="module-name">b2b/ibm/quotation/IBM_PricesPromos.inc.jsp</div>	


  <div class="ibm-container ibm-inner-data-table-last">
    <div class="ibm-container-body">
      <p>
        <input name="promotion_id" type="text" id="promotion_id" value="" size="20" />
        <input class="ibm-btn-arrow-pri" name="ibm-buy-now3" value="Add promotion" type="button" onclick="submit_promotion();" />
      </p>
      <table border="0" cellpadding="4" cellspacing="0" class="ibm-data-table" aria-label="Promotions">
        <tr>
			                    <th width="16%">Promo code</th>
			                    <th width="16%" scope="col">Description</th>
			                    <th width="14%">Value</th>
			                    <th width="18%">Line items applied</th>
                                <th width="16%">Validity period</th>                    
			                    <th width="20%">Remove</th>
        </tr>
        <tr>
          <td colspan="2">Automatically applied promotions</td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
          <td align="center"></td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td colspan="2">Additional promotions</td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
          <td align="center">&nbsp;</td>
          <td>&nbsp;</td>
        </tr>
        
      </table>
    </div>
  </div>
  <div class="ibm-container  ibm-inner-data-table-last">
    <h2 id="prefContract" class="ibm-inner-subhead">Preferred contract</h2>
      <table border="0" cellpadding="4" cellspacing="0" class="ibm-data-table">

    </table>
    <div class="ibm-container-body">
      <p id="prefContractNote">Some products may have several prices associated with them.  If you would like to select a default contract to use for pricing purposes, select one here.</p>


	<p class="ibm-ind-link" style="display:inline; float:left"><a href="javascript:void(0);" class="ibm-forward-em-link" onclick="selectedContract('','apply_on_Header');ibmCommon.Overlays.show('contract', this);return false;">Add preferred contract</a></p>


	<table class="ibm-data-table ibm-alternating" border="0" cellpadding="0" cellspacing="0" aria-labelledby="prefContract" aria-describedby="prefContractNote">
<thead>
          <tr>
            <th width="66" scope="col"d="d">Contract</th>
            <th width="75" nowrap="nowrap" scope="col">Master Quote ID / <br />
              type</th>
            <th width="128" scope="col">Description / <br />
              End user</th>
            <th scope="col">Relationship type /<br />
              Usage indicator</th>
            <th width="80" nowrap="nowrap" scope="col">Valid until</th>
          </tr>
        </thead>
        <tbody>
           
        	
									
			
		 
		
									     
			        

        </tbody>
      </table>
    </div>
  </div>
  
  
    
	<script src="/b2b_ibm/b2b/ibm/quotation/preferredContracts/UnresolvedContracts.js"
		type="text/javascript">
	</script>
	<p class="ibm-ind-link"><a class="ibm-forward-em-link" href="#overlay" onclick="initUnresolvedContracts({'element' : this, 'tabName' : 'unresolved'});"> 
  
  View items with unresolved contracts</a></p>
    
  
  


    <div class="ibm-container  ibm-inner-data-table-last">
    <h2 class="ibm-inner-subhead">Purchase orders</h2>
      <table border="0" cellpadding="4" cellspacing="0" class="ibm-data-table">

    </table>
    <div class="ibm-container-body">

      <table class="ibm-data-table" border="0" cellpadding="0" cellspacing="0">
   
<!--
@ Copyright IBM Corp. 2012
 -->




 



 
 











<tr>
  <td width="10%"><strong>P.O. date:</strong></td>
  <td>
    <input type="text"  value="" size="15" id="PO_DATE_SOLD_ID" name="PO_DATE_SOLD">
    <a title="Calendar link" href="javascript:void(0)" onclick="javascript:openCalendarWindow('dd.MM.yyyy', 'PO_DATE_SOLD_ID')" class="ibm-calendar-link"><img class="img-1" src="/b2b_ibm/b2b/ibm/Images/calendar.gif" alt="Calendar"/></a>
  </td>
</tr>

<tr>
  <td width="13%"><strong>Posting date:</strong></td>
  <td>
    <input type="text" value="30.08.2013" size="15" id="postingDateId" name="POSTING_DATE">
    <a title="Calendar link" href="javascript:void(0)" onclick="javascript:openCalendarWindow('dd.MM.yyyy', 'postingDateId')" class="ibm-calendar-link"><img class="img-1" src="/b2b_ibm/b2b/ibm/Images/calendar.gif" alt="Calendar"/></a>
  </td>
</tr>


<!-- Begin Overlay for PO driven customer -->
<div class="ibm-common-overlay  ibm-overlay-alt" id="PriceHeaderPO">
			<div class="ibm-head">
			  <p><a class="ibm-common-overlay-close" href="#close"></a></p>
			</div>
			<div class="ibm-body">
			
			  <div class="ibm-main"> 
			  <a class="ibm-access">PO details</a>
				<p>Please enter the waiver indicator and exemption reason code for this order in applicable.</p>
					<div class="ibm-rule"> <hr /></div>
						
						
							<p><label style="font-weight:bold; wid">BP PO number:</label><span style="margin-left:109px;" class="po_PONumber" ></span></p>
						
						
						<p><label style="font-weight:bold;">PO validity dates:</label><span class="po_valid_date" style="margin-left:97px;"></span></p>
						<p><label style="font-weight:bold;">CPS number:</label><span class="po_CPSNumber" style="margin-left:122px;"></span></p>
						<div class="ibm-rule"><hr /></div>
					 <p>
						 <label for="waiverIndicator" style="font-weight:bold;">Waiver indicator:<span class="ibm-required">*</span></label>
						 	
							 <span class='waiver_indicator_Select' style="display:inline-block;margin-left:90px;">
								<input class="any_lever_wave_indi headerwaiverindicator" id="PriceHeaderwaiverIndicator"  name="_WAVE_INDI" type="checkbox" value="Yes"  onclick="clearPoFields('PriceHeader',false,true);" /> Yes
							 </span>
							 
							 
						
						
					 </p>
					 <p>
						 <label for="onetimepo" style="font-weight:bold;">One-time PO:<span class="ibm-required">*</span></label>
					
						<span class='onetimepocheck' style="display:inline-block;margin-left:110px;">
								<input class="any_lever_onetime_po headeronetimepo" id="PriceHeaderonetime_po"  name="onetimepo" type="checkbox" value="Yes"  onclick="clearPoFields('PriceHeader',false,false);" /> Yes
						</span>
					
					 </p>
			
					 <p>
					 <label for="First_name2" style="font-weight:bold;">Exemption reason code:<span class="ibm-required"  >*</span></label>
					 <span style="margin-left:53px;" >
					  <select name="_REASON_CODE" class="any_lever_reason_code headerReasonCode" id="PriceHeaderreasonCode">
						<option selected="selected" value=''>Select one</option>
						<option value="No">No</option>
						<option value="PO">PO</option>
					  </select>
					 </span></p>
					 
					 <p>
					 <label for="First_name2" style="font-weight:bold;">Waiver Exclusion List:</label><span class="WAIVER_BLACK_LIST" style="margin-left:10px;" ></span>
					</p>
					
					<p>
					 <label for="First_name2" style="font-weight:bold;">Business Function/LOB</label><span class="LOB_CODE" style="margin-left:67px;"></span>
					<br />
					<label for="First_name2" style="font-weight:bold;">code:</label>
					</p>
					 <p>
					 <label for="First_name2" style="font-weight:bold;">Business Function/LOB</label><span class="LOB_DESC" style="margin-left:67px;"></span>
					<br/><label for="First_name2" style="font-weight:bold;">description:</label>
					</p>
				   <p>
					 <label for="First_name2" style="font-weight:bold;">Approved amount:</label><span class="APPROVAL_AMOUT" style="margin-left:96px;" ></span>
					</p>
					
					<p>
					 <label for="First_name2" style="font-weight:bold;">Non-value based indicator:</label><span class="VALUE_BASE_INDICTOR" style="margin-left:50px;" ></span>
					</p>
                                      
					<p>
					 <label for="First_name2" style="clear: left;display: block;float: left;width: 150px;font-weight:bold;">PO driven client comments:</label>
					
					 <textarea name="textarea3" cols="40" rows="4" disabled="disabled" class="Po_Driven_Comment" style="margin-left:50px;" ></textarea>
					
				
					</p>

				<div class="ibm-buttons-row">
				  <p>
					<input value="Close"  id="_otherPoCloseButton" type="button" name="ibm-cancel" class="ibm-btn-cancel-sec" onclick="validateFieldAndClose('PriceHeader',this);" />
				  </p>
				</div>
			  </div>
			</div>

			<div class="ibm-footer"></div>
		  </div>       

<div class="ibm-common-overlay" id="PriceHeaderPOother"> 
<div class="ibm-head"> 
<p><a class="ibm-common-overlay-close" href="#close"></a></p> 
</div> 
<div class="ibm-body"> 
<div class="ibm-main"> 
<a class="ibm-access"></a> 
<p>If the PO number is not listed in the drop down menu, please enter it here.</p>
<p class="ibm-ind-error otherPO_Invalid_message" style="display:none;"><strong></strong></p>
		<p><label for="First_name">Enter PO Number:<span class="ibm-required">*</span></label><span><input id="PriceHeader_otherPoNumber" name="PriceHeader_otherPoNumber" size="35" maxlength="35" type="text" value=""/></span></p>
		
	
	<div class="ibm-buttons-row">
		<p><input value='Submit' type="button"  name="ibm-submit" class="ibm-btn-arrow-pri" onclick="validateOtherPoNumber('PriceHeader');" /><span class="ibm-sep">&nbsp;</span>
        
		<input value="Cancel" id="PriceHeader_otherPoCloseButton" type="button" name="ibm-cancel" class="ibm-btn-cancel-sec" onclick="window.ibmCommon.Overlays.close(this)"/></p>
	</div>
</div>
</div> 
<div class="ibm-footer"></div> 
</div>   


     
      </table>
    </div>
  </div>
  
	  
	









<div class="ibm-common-overlay ibm-overlay-alt" id="contract"> 
            <div class="ibm-head"> 
            <p><a class="ibm-common-overlay-close" href="#close">Close [x]</a></p> 
            </div> 
            <div class="ibm-body"> 
            <div class="ibm-main"> 
            <a class="ibm-access"><!-- Accessibility anchor --></a> 
            <!--INSERT OVERLAY CONTENT HERE --> 
            <p>Select a contract below to use as a default contract when possible</p>
			<div style="height: 300px;overflow:auto;">
            <table class="ibm-data-table" border="0" cellpadding="0" cellspacing="0">
                <thead>
                  <tr>
                    <th width="66" scope="col"d="d">Contract</th>
                    <th width="75" nowrap="nowrap" scope="col">Master quote ID<br />
                      Type</th>
                    <th width="128" scope="col">Contract Description / <br />

                      End User</th>
                    <th scope="col">Relationship type /<br />
                      Usage indicator</th>
                    <th width="80" nowrap="nowrap" scope="col">Valid until</th>
                    </tr>
                </thead>
                <tbody>
					
                  
                </tbody>
              </table>
              </div>
                  <div class="ibm-buttons-row">
        			<p>
       			 	<input value="Cancel"  type="button" name="ibm-cancel" class="ibm-btn-cancel-sec" onclick="window.ibmCommon.Overlays.close(this)" /></p>
    			 </div>  
          
            </div>
            </div> 
            <div class="ibm-footer"></div> 
            </div>


	
 
     
			  </div>
			  
			  <div class="ibm-container-body ibm-inner-data-table-last" style="display: none;" id="tabbody2">
				


<script type="text/javascript">
	var mode = 'create';
    function validateAttachmentForm(){
    	var attachment = $("#importFile").val();
		if(attachment.length==0)
		{
			//alert("File is mandatory");
			document.getElementById('scriptMessage').innerHTML = "Please select a file for attach";
			$("#importFile").focus();
			return false;
		}
			
		var fileName = $("#filename").val();
		if(fileName == null || fileName.length == 0)
		{
			//alert("Name is mandatory");
			document.getElementById('scriptMessage').innerHTML = "Please enter name";
			$("#filename").focus();
			return false;
		}
		else if(fileName.replace(/[^\x00-\xff]/g,"**").length > 40){
			document.getElementById('scriptMessage').innerHTML = "File names are limited to 40 characters, please shorten the name to this limit.";
			$("#filename").focus();
			return false;
		}
		else if(fileName.match(/[^\x00-\xff]/g)!=null &&  fileName.match(/[^\x00-\xff]/g).length >16){
			document.getElementById('scriptMessage').innerHTML = "File names are limited to 40 characters, please shorten the name to this limit.";
			$("#filename").focus();
			return false;
		}
		else
		{
			if(fileName.indexOf(".")<0)
			{
				//alert("Name does not have extension");
				document.getElementById('scriptMessage').innerHTML = "Please enter valid extension for name";
				$("#filename").focus();
				return false;
			}
		}
		return true;
	}
	
	function confirmIfDeleteAttachment(){
	    return confirm("The attachment will be deleted")
	}
</script>

<div class="module-name">
	b2b/ibm/attachment/IBM_Attachment.jsp
</div>
<div class="ibm-container">
	<div class="ibm-container ibm-inner-data-table-last">
		<div class="ibm-container-body">
			<p class="ibm-ind-link">
			  
				<a href="#" class="ibm-forward-em-link" onclick="document.getElementById('scriptMessage').innerHTML='';ibmCommon.Overlays.show('attach', this);return false;">Add attachment</a>
			  
			</p>
			<p>
			<h2 id="qtAttachments">
				Attachments
			</h2>
			</p>
			<table border="0" id="attachment_table" cellpadding="4" cellspacing="0" class="ibm-data-table" aria-labelledby="qtAttachments">
				<thead>
					<tr valign="top">
						<th width="111">Filename</th>
						<th width="85">File type</th>
						<th width="97">Created on</th>
						<th width="81">Created by</th>
						<th width="62">Remove</th>
					</tr>
				</thead>
				<tbody>
				</tbody>
			</table>
		</div>
	</div>
</div>

<div class="ibm-common-overlay ibm-overlay-alt" id="attach">
	<div class="ibm-head">
		<p>
			<a class="ibm-common-overlay-close" href="#close" onclick="window.ibmCommon.Overlays.close(this)">Close [X]</a>
		</p>
	</div>
	<div class="ibm-body">
		<div class="ibm-main">
			<a class="ibm-access"> <!-- Accessibility anchor -->
			</a>
			<form action="/b2b_ibm/b2b/ibm/addAttachmentToQuote.do" class="ibm-row-form" enctype="multipart/form-data" name="attachmentForm" id="attachmentForm" method="post">
				<p>
					<label for="filename">Filename:<span class="ibm-required">*</span></label> <span> 
						<input name="filename" id="filename" size="40" maxlength="40" value="" type="text">
					</span>
				</p>
				<p>
					<label for="importFile">Filename:<span class="ibm-required">*</span></label> <span> 
						<input name="importFile" id="importFile" size="40" value="" type="file" onchange="getAttachmentFileName();">
					</span>
				</p>
				<input type="hidden" name="level" id="attachmentLevel" value="Header"> 
				<input type="hidden" name="itemnumber" id="itemnumber" value=""> 
				<input type="hidden" id="attachmentId" name="attachmentId" value=""> 
				<input type="hidden" id="deleteId" name="deleteId" value=""> 
				<input type="hidden" id="deleteGuid" name="deleteGuid" value=""> 
				<input type="hidden" name="headerGuid" id="attachmentHeaderGuid" value="521F2F6775B01580E1008000093FF40E">
				<input type="hidden" name="mode" id="mode" value="create">
			</form>
			<div class="ibm-buttons-row">
				<p>
					<input value="Attach" type="button" name="ibm-submit" class="ibm-btn-arrow-pri" onclick="addAttachment(this)" /> 
					<span class="ibm-sep">&nbsp;</span> 
					<input value="Cancel" type="button" name="ibm-cancel" class="ibm-btn-cancel-sec" onclick="window.ibmCommon.Overlays.close(this)" /> 
					<span class="ibm-sep">&nbsp;</span>
					<label id="scriptMessage" style="font-weight: bold; color: #f20"></label>
				</p>
			</div>
		</div>
	</div>
	<input type="hidden" name="currentAttachments" id="currentAttachments" value=""></input>
	<div class="ibm-footer"></div>
</div>

			  </div>
			  <div class="ibm-container-body ibm-inner-data-table-last" style="display: none;" id="tabbody3">
				




 
 
 
 


 
 


<script type="text/javascript">
var B2B_BP_ID = {
	"settings":{
		"fieldIsRequired":"  is required.",
		"invalidBP":"Invalid Account ID number"
	}
};
function initbpPage() { 
	 _application.requestData({
		url :  "/b2b/IBM_GetCountryState.do?init=" + "X",
		callback : displayPage
	});
	}
 

		function displayPage(returnString) { 
			var alanguage = (JSON.parse(returnString)).alanguage;
			$("#alanguage").empty();
			for ( var i = 0; i < alanguage.length; i++) {  
				var option = $("<option>").text(alanguage[i].name).val(alanguage[i].value); 
				if('DE' == "CN" && alanguage[i].value == "1"){
					option.attr("selected", true);
				} else if ('DE' == "GE" && alanguage[i].value == "D"){
					option.attr("selected", true);
				}
				$("#alanguage").append(option);
			}  
			var acountry = (JSON.parse(returnString)).acountry;
			$("#country").empty();
			for ( var i = 0; i < acountry.length; i++) {  
				var option = $("<option>").text(acountry[i].name).val(acountry[i].value);
				if('DE' == acountry[i].value){
					getState(acountry[i].value);
					option.attr("selected", true);
				}  
				$("#country").append(option);
			}  
		}
		function getState(country) { 
				_application.requestData({
					url :  "/b2b/IBM_GetCountryState.do?country=" + country, 
					callback : freshState
			});
		}

		function freshState(returnString) { 
			var states = (JSON.parse(returnString)).state;
			$("#state").empty();
			for ( var i = 0; i < states.length; i++) {  
				var option = $("<option>").text(states[i].name).val(states[i].value)
				$("#state").append(option);
			}  
		}
function createClick(obj,button){
	$("#errormessage2").empty();
	ibmCommon.Overlays.show('createAddress', this);
	$("#rBase").css('display','none');
	$("#partnerfunction_billtoR").attr("value",'');
	$("#partnerfunction_shiptoR").attr("value",'');
	$("#partnerfunction_installatR").attr("value",'');
	$("#partnerfunction_licensetoR").attr("value",'');  
	document.createform.reset();
	$("[name='bptype']").removeAttr("checked");
	$("[name='bptype'][disabled]").attr("disabled",false); 
	initbpPage();
	$("#button_name").attr("value",button); 
	if(obj.id == "SHIPTO" || obj.id == "SHIPTOA"){
		$("#partnerfunction_primary").attr("value","2");
		//$("#partnerfunction_shiptoR").attr("value",'P'); 
		$("#shiptoR").attr("checked",true);
		$("#shipto").attr("disabled",true);
	} else if(obj.id == "ZZI"){
		$("#partnerfunction_primary").attr("value","3");
		//$("#partnerfunction_installatR").attr("value",'P');
		$("#installatR").attr("checked",true);
		$("#installat").attr("disabled",true);
	} else if(obj.id == "ZLT"){
		$("#partnerfunction_primary").attr("value","4");
		//$("#partnerfunction_licensetoR").attr("value",'P');
		$("#licensetoR").attr("checked",true);
		$("#licenseto").attr("disabled",true); 
	} else if(obj.id == "BILLTO" || obj.id == "BILLTOA"){
		$("#partnerfunction_primary").attr("value","1");
		//$("#partnerfunction_billtoR").attr("value",'P');
		$("#billtoR").attr("checked",true);
		$("#billto").attr("disabled",true);
	}  
	return false;
	}


//BHALM00182316:Start of the javascript function added by Arnab on 19/03/2013
function isPartnerFunctionShipTo(partnerFunction){
	var partnerFunctionShipTo = false;
	var partnerFunctionPart = partnerFunction.substring(0,4).toUpperCase();
	if(partnerFunctionPart=="SHIP"){
		partnerFunctionShipTo = true;		
	}
	return(partnerFunctionShipTo);

}	

function viewDetails(bupaID, userType, comp){
  viewDetails(bupaID, userType, "undefine", comp);
} 
function viewDetails(bupaID, userType, ovrElmtID, comp){ 
  ibmCommon.Overlays.show('VAddress', comp);
  var url;
  url = '/b2b_ibm/b2b/businesspartnershowinline.do?inWindow=true&readOnly=true&partnerID=' + bupaID +'&pf='+userType+'&address_number='+'0000308594'+'&address_np='+''+'&address_type='+'1';
  if(isPartnerFunctionShipTo(userType)&& ovrElmtID!="undefine"){
	var ovrAddress = document.getElementById(ovrElmtID).value;
	var ovrAddressArr = ovrAddress.split(";");
	if(ovrAddressArr.length>1 && ovrAddressArr[0]== bupaID){
	  url = url + '&ovrAddress='+ ovrAddress;
	}
  }	
  document.getElementById("VAddress").innerHTML='<img src="/b2b_ibm/mimes/images/busy.gif" alt="" style="display: none;" />';
  var xmlhttp;
  if (window.XMLHttpRequest){// code for IE7+, Firefox, Chrome, Opera, Safari
	xmlhttp=new XMLHttpRequest();
  }
  else{// code for IE6, IE5
	 xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
  }
  xmlhttp.onreadystatechange=function(){
	if (xmlhttp.readyState==4 && xmlhttp.status==200){
	  document.getElementById("VAddress").innerHTML=xmlhttp.responseText.replace('<USERTYPE>',userType).replace('<USERTYPE>',userType);
	}
  }  
  xmlhttp.open("GET",url,true);
  xmlhttp.send();
}

	function addressOverrideClick(shiptoElmtID, ovrElmtID){
		var shipto = document.getElementById(shiptoElmtID).value;
		//BHALM00199689:Start of javascript code added by Arnab on 31/05/2013 to store the ShipTo Element ID in a hidden field
		document.getElementById("shiptoElmtIDHolder").value=shiptoElmtID;
		//BHALM00199689:End of javascript code added by Arnab on 31/05/2013 to store the ShipTo Element ID in a hidden field
		if(shipto == ""){
			alert("Please input valid Ship to firstly!");
			return false;
		} 
		initShiptoAddressPage(shipto, ovrElmtID);
		ibmCommon.Overlays.show('AddressOverride', this);
		return false;
	}

	function initShiptoAddressPage(shipto, ovrElmtID) { 
		var oldOvrAddressStr = document.getElementById(ovrElmtID).value;
		_application.requestData({
			url :  "/b2b/IBM_GetBPAddress.do?SHIPTO=" + shipto + "&BP_OVR_ELMT_ID=" + ovrElmtID + "&BP_OVR_ELMT_VALUE=" + encodeURIComponent(oldOvrAddressStr),
			callback : displayAddressPage
		});
	}

	function displayAddressPage(returnString) {
		var shipto = (JSON.parse(returnString)).shipto;
		$("#ovr_shipto").attr("value", shipto);
		
		var name = (JSON.parse(returnString)).name;
		$("#ovr_name").attr("value", name);
		
		var address1 = (JSON.parse(returnString)).address1;
		$("#ovr_address1").attr("value", address1);
		
		var address2 = (JSON.parse(returnString)).address2;
		$("#ovr_address2").attr("value", address2);
		
		var city = (JSON.parse(returnString)).city;
		$("#ovr_city").attr("value", city);
		
		var state = (JSON.parse(returnString)).state;
		
		var country = (JSON.parse(returnString)).country;
		
		var dist = (JSON.parse(returnString)).district;
		$("#ovr_dist").attr("value", dist);
		
		var zip = (JSON.parse(returnString)).zip;
		$("#ovr_zip").attr("value", zip);
		
		var elmtID = (JSON.parse(returnString)).elmtID;
		$("#ovr_elmtID").attr("value", elmtID);
		
		var acountry = (JSON.parse(returnString)).acountry;
		$("#ovr_country").empty();
		for ( var i = 0; i < acountry.length; i++) {  
			var option = $("<option>").text(acountry[i].name).val(acountry[i].value);
			if(country == acountry[i].value){
				option.attr("selected", true);
			}  
			$("#ovr_country").append(option);
		}
		
		var astates = (JSON.parse(returnString)).astate;
		if(astates.length > 0){
			$("#ovr_state").empty();
			for ( var i = 0; i < astates.length; i++) {  
				var option = $("<option>").text(astates[i].name).val(astates[i].value);
				if(state == astates[i].value){
					option.attr("selected", true);
				}  
				$("#ovr_state").append(option);
			}
		}		
	}
	function getOvrAddressState(country) { 
		_application.requestData({
			url :  "/b2b/IBM_GetCountryState.do?country=" + country, 
			callback : freshOvrAddressState
		});
	}
	function freshOvrAddressState(returnString) { 
		var states = (JSON.parse(returnString)).state;
		$("#ovr_state").empty();
		for ( var i = 0; i < states.length; i++) {
			var option = $("<option>").text(states[i].name).val(states[i].value);
			if(i == 0){
				option.attr("selected", true);
			} 
			$("#ovr_state").append(option);
		}  
	}
	function parseOverrideAddress(obj){
		var target = document.getElementById("ovr_elmtID").value;
		var shipto = document.getElementById("ovr_shipto").value;
		var name = document.getElementById("ovr_name").value;
		var address1 = document.getElementById("ovr_address1").value;
		var address2 = document.getElementById("ovr_address2").value;
		var city = document.getElementById("ovr_city").value;
		var state = document.getElementById("ovr_state").value;
		var country = document.getElementById("ovr_country").value;
		var countryTxt = document.getElementById("ovr_country").options[document.getElementById("ovr_country").options.selectedIndex].text;
		var dist = document.getElementById("ovr_dist").value;
		var zip = document.getElementById("ovr_zip").value;
		var address = shipto + ";" + name + ";" + address1 + ";" + address2 + ";" + city + ";" + state + ";" + country + ";" + zip + ";" + dist + ";" + countryTxt;
		//BHALM00199689:Start of javascript function call by Arnab on 31/05/2013 to change the ShipTo Short address
		overWriteShipToShortAddress(name,address1,city);
		//BHALM00199689:End of javascript function call by Arnab on 31/05/2013 to change the ShipTo Short address
		document.getElementById(target).value = address;
		window.ibmCommon.Overlays.close(obj);
	}
	//BHALM00199689:Start of the javascript function added by Arnab on 31/05/2013 to change ShipTo Short address as soon as the address is overriden
	function overWriteShipToShortAddress(name,address1,city){
		var ovrAddressShort = ((name.length>10)?name.substring(0,9):name)
				  +"..."+((address1.length>10)?address1.substring(0,9):address1)+"..."+city;
		var shipToElmtId = document.getElementById("shiptoElmtIDHolder").value;
		var shortAddressSpanId = shipToElmtId + "address";
		document.getElementById(shortAddressSpanId).innerHTML = ovrAddressShort;
		
	}
	//BHALM00199689:End of the javascript function added by Arnab on 31/05/2013 to change ShipTo Short address as soon as the address is overriden
	
	function initOvrdAddress(taget){
		eval('document.forms["order_positions"].'+taget).value = "";
	}  
</script>

<div class="module-name">b2b/ibm/quotation/IBM_Addresses.inc.jsp</div>
	<div class="ibm-container">
	

		<div class="ibm-container-body">

			<input type="hidden" id="shiptoElmtIDHolder" value=""/>
			<table border="0" cellpadding="0" cellspacing="8">

				<tr> 
					<td class="identifier" width="200px"> 
						<label style="font-weight:bold;" for="SHIPTO">Ship to:
						</label>
					</td> 
					<td class="value">

						<input type="text" class="ibm-b2b-bp-required textinput-large" maxlength="40" name="SHIPTO"  id="SHIPTO" onchange="initOvrdAddress('shipto_ovrd');if(validateInputBpID(this)) updateDuplicate(this, 'SHIPTO1');" value="BP10AIL4ST" alt="Ship to" />

						<span id="SHIPTOaddress" class="ibm-form-note" style="display:inline; margin-left:4px; margin-right:5px; color:#000;">
							K A P S K...Meisenweg...Emersacker
						</span>
						<br/>
						<span style="float: left; margin-left:2px; width:110px;">
							<p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
								<a href="javascript:void(0);" class="ibm-forward-link" onclick="viewDetails(document.getElementById('SHIPTO').value, 'Ship to','shipto_ovrd',this);">View address</a>
							</p>
						</span>
						<span style="float: left; margin-left:2px; width:80px;">
							<p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
								<a href="javascript:void(0);" class="ibm-forward-link"  onclick="getHelpValuesPopupCustomer('createdocument','', 'SHIPTO', document.forms.order_positions.SHIPTO.name, document.forms.order_positions.SHIPTO.value)">Search</a>
							</p>
						</span>

						<span style="float: left; margin-left:2px; width:80px;">
							<p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
								<a id="SHIPTO" href="javascript:void(0);" class="ibm-forward-link"  onclick="createClick(this,'SHIPTO');">Create</a>
							</p>

						</span>

						<span style="float: left; margin-left:2px; width:120px;">
							<p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
								<a href="javascript:void(0);" class="ibm-forward-link" onclick="addressOverrideClick('SHIPTO', 'shipto_ovrd');">Address override</a>
								<input type="hidden"  name="shipto_ovrd"  value="BP10AIL4ST;K A P S Kommerzielle Abrechnungs-;Meisenweg 4;Street 2;Emersacker;NW;DE;86494;District;Germany;;;;;;K A P S Kommerzielle Abrechnungs- name2 name3 name4" id="shipto_ovrd"/>
							</p>
						</span>

						<br/>
					</td>
				</tr> 

				<tr> 
					<td class="identifier" width="200px"> 
						<label style="font-weight:bold;" for="ZLT">License to:
						</label>
					</td> 
					<td class="value">

						<input type="text" class="textinput-large" maxlength="40" name="ZLT"  id="ZLT" value="BP10AIL4ST" onchange="validateInputBpID(this);" alt="License to" />

						<span id="ZLTaddress" class="ibm-form-note" style="display:inline; margin-left:4px; margin-right:5px; color:#000;">
							K A P S Ko...Meisenweg...Emersacker
						</span>
						<br/>
						<span style="float: left; margin-left:2px; width:110px;">
							<p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
								<a href="javascript:void(0);" class="ibm-forward-link" onclick="viewDetails(document.getElementById('ZLT').value, 'License to','shipto_ovrd',this);">View address</a>
							</p>
						</span>
						<span style="float: left; margin-left:2px; width:80px;">
							<p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
								<a href="javascript:void(0);" class="ibm-forward-link"  onclick="getHelpValuesPopupCustomer('createdocument','', 'ZLT', document.forms.order_positions.ZLT.name, document.forms.order_positions.ZLT.value)">Search</a>
							</p>
						</span>

						<span style="float: left; margin-left:2px; width:80px;">
							<p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
								<a id="ZLT" href="javascript:void(0);" class="ibm-forward-link"  onclick="createClick(this,'ZLT');">Create</a>
							</p>

						</span>

						<br/>
					</td>
				</tr> 

				<tr> 
					<td class="identifier" width="200px"> 
						<label style="font-weight:bold;" for="ZZI">Install at:
						</label>
					</td> 
					<td class="value">

						<input type="text" class="textinput-large" maxlength="40" name="ZZI"  id="ZZI" value="BP10AIL4ST" onchange="validateInputBpID(this);" alt="Install at" />

						<span id="ZZIaddress" class="ibm-form-note" style="display:inline; margin-left:4px; margin-right:5px; color:#000;">
							K A P S Ko...Meisenweg...Emersacker
						</span>
						<br/>
						<span style="float: left; margin-left:2px; width:110px;">
							<p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
								<a href="javascript:void(0);" class="ibm-forward-link" onclick="viewDetails(document.getElementById('ZZI').value, 'Install at','shipto_ovrd',this);">View address</a>
							</p>
						</span>
						<span style="float: left; margin-left:2px; width:80px;">
							<p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
								<a href="javascript:void(0);" class="ibm-forward-link"  onclick="getHelpValuesPopupCustomer('createdocument','', 'ZZI', document.forms.order_positions.ZZI.name, document.forms.order_positions.ZZI.value)">Search</a>
							</p>
						</span>

						<span style="float: left; margin-left:2px; width:80px;">
							<p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
								<a id="ZZI" href="javascript:void(0);" class="ibm-forward-link"  onclick="createClick(this,'ZZI');">Create</a>
							</p>

						</span>

						<br/>
					</td>
				</tr> 

				<tr> 
					<td class="identifier" width="200px"> 
						<label style="font-weight:bold;" for="BILLTO">Bill to:
						</label>
					</td> 
					<td class="value">

						<input type="text" class="textinput-large" maxlength="40" name="BILLTO"  id="BILLTO" onchange="if(validateInputBpID(this)) updateDuplicate(this, 'BILLTO1');"  value="BP10AIL4ST" alt="Bill to" />

						<span id="BILLTOaddress" class="ibm-form-note" style="display:inline; margin-left:4px; margin-right:5px; color:#000;">
							K A P S Ko...Meisenweg...Emersacker
						</span>
						<br/>
						<span style="float: left; margin-left:2px; width:110px;">
							<p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
								<a href="javascript:void(0);" class="ibm-forward-link" onclick="viewDetails(document.getElementById('BILLTO').value, 'Bill to','shipto_ovrd',this);">View address</a>
							</p>
						</span>
						<span style="float: left; margin-left:2px; width:80px;">
							<p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
								<a href="javascript:void(0);" class="ibm-forward-link"  onclick="getHelpValuesPopupCustomer('createdocument','', 'BILLTO', document.forms.order_positions.BILLTO.name, document.forms.order_positions.BILLTO.value)">Search</a>
							</p>
						</span>

						<span style="float: left; margin-left:2px; width:80px;">
							<p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
								<a id="BILLTO" href="javascript:void(0);" class="ibm-forward-link"  onclick="createClick(this,'BILLTO');">Create</a>
							</p>

						</span>

						<br/>
					</td>
				</tr> 

			</table>
		</div>

		<div class="ibm-container-body">

			<h2 class="ibm-inner-subhead">Partners</h2>

			<input type="hidden" id="shiptoElmtIDHolder" value=""/>
			<table border="0" cellpadding="0" cellspacing="8">

				<tr> 
					<td class="identifier" width="200px"> 
						<label style="font-weight:bold;" for="ZDB">Distributor:
						</label>
					</td> 
					<td class="value">
 
				<input type="hidden"  name="ZDB"  value=""/>
				<input type="text" disabled class="textinput-large" maxlength="40" id="ZDB"  value=""/>

						<span id="ZDBaddress" class="ibm-form-note" style="display:inline; margin-left:4px; margin-right:5px; color:#000;">
							
						</span>
						<br/>
						<span style="float: left; margin-left:2px; width:110px;">
							<p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
								<a href="javascript:void(0);" class="ibm-forward-link" onclick="viewDetails(document.getElementById('ZDB').value, 'Distributor','shipto_ovrd',this);">View address</a>
							</p>
						</span>
						<span style="float: left; margin-left:2px; width:80px;">
							<p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
								<a href="javascript:void(0);" class="ibm-forward-link"  onclick="getHelpValuesPopupCustomer('createdocument','', 'ZDB', document.forms.order_positions.ZDB.name, document.forms.order_positions.ZDB.value)">Search</a>
							</p>
						</span>

						<br/>
					</td>
				</tr> 

				<tr> 
					<td class="identifier" width="200px"> 
						<label style="font-weight:bold;" for="ZTC">Tier 2/Intermediate partner:
						</label>
					</td> 
					<td class="value">
 
				<input type="hidden"  name="ZTC"  value=""/>
				<input type="text" disabled class="textinput-large" maxlength="40" id="ZTC"  value=""/>

						<span id="ZTCaddress" class="ibm-form-note" style="display:inline; margin-left:4px; margin-right:5px; color:#000;">
							
						</span>
						<br/>
						<span style="float: left; margin-left:2px; width:110px;">
							<p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
								<a href="javascript:void(0);" class="ibm-forward-link" onclick="viewDetails(document.getElementById('ZTC').value, 'Tier 2/Intermediate partner:','shipto_ovrd',this);">View address</a>
							</p>
						</span>
						<span style="float: left; margin-left:2px; width:80px;">
							<p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
								<a href="javascript:void(0);" class="ibm-forward-link"  onclick="getHelpValuesPopupCustomer('createdocument','', 'ZTC', document.forms.order_positions.ZTC.name, document.forms.order_positions.ZTC.value)">Search</a>
							</p>
						</span>

						<br/>
					</td>
				</tr> 

				<tr> 
					<td class="identifier" width="200px"> 
						<label style="font-weight:bold;" for="ZCF">Customer facing:
						</label>
					</td> 
					<td class="value">

						<input type="text" class="textinput-large" maxlength="40" name="ZCF"  id="ZCF" value="" onchange="validateInputBpID(this);" alt="Customer facing" />

						<span id="ZCFaddress" class="ibm-form-note" style="display:inline; margin-left:4px; margin-right:5px; color:#000;">
							
						</span>
						<br/>
						<span style="float: left; margin-left:2px; width:110px;">
							<p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
								<a href="javascript:void(0);" class="ibm-forward-link" onclick="viewDetails(document.getElementById('ZCF').value, 'Customer facing','shipto_ovrd',this);">View address</a>
							</p>
						</span>
						<span style="float: left; margin-left:2px; width:80px;">
							<p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
								<a href="javascript:void(0);" class="ibm-forward-link"  onclick="getHelpValuesPopupCustomer('createdocument','', 'ZCF', document.forms.order_positions.ZCF.name, document.forms.order_positions.ZCF.value)">Search</a>
							</p>
						</span>

						<br/>
					</td>
				</tr> 

				<tr> 
					<td class="identifier" width="200px"> 
						<label style="font-weight:bold;" for="ZIV">ISV:
						</label>
					</td> 
					<td class="value">

						<input type="text" class="textinput-large" maxlength="40" name="ZIV"  id="ZIV" value="" onchange="validateInputBpID(this);" alt="ISV" />

						<span id="ZIVaddress" class="ibm-form-note" style="display:inline; margin-left:4px; margin-right:5px; color:#000;">
							
						</span>
						<br/>
						<span style="float: left; margin-left:2px; width:110px;">
							<p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
								<a href="javascript:void(0);" class="ibm-forward-link" onclick="viewDetails(document.getElementById('ZIV').value, 'ISV','shipto_ovrd',this);">View address</a>
							</p>
						</span>
						<span style="float: left; margin-left:2px; width:80px;">
							<p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
								<a href="javascript:void(0);" class="ibm-forward-link"  onclick="getHelpValuesPopupCustomer('createdocument','', 'ZIV', document.forms.order_positions.ZIV.name, document.forms.order_positions.ZIV.value)">Search</a>
							</p>
						</span>

						<br/>
					</td>
				</tr> 

				<tr> 
					<td class="identifier" width="200px"> 
						<label style="font-weight:bold;" for="ZIS">ISR:
						</label>
					</td> 
					<td class="value">
 
				<input type="hidden"  name="ZIS"  value=""/>
				<input type="text" disabled class="textinput-large" maxlength="40" id="ZIS"  value=""/>

						<span id="ZISaddress" class="ibm-form-note" style="display:inline; margin-left:4px; margin-right:5px; color:#000;">
							
						</span>
						<br/>
						<span style="float: left; margin-left:2px; width:110px;">
							<p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
								<a href="javascript:void(0);" class="ibm-forward-link" onclick="viewDetails(document.getElementById('ZIS').value, 'ISR','shipto_ovrd',this);">View address</a>
							</p>
						</span>
						<span style="float: left; margin-left:2px; width:80px;">
							<p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
								<a href="javascript:void(0);" class="ibm-forward-link"  onclick="getHelpValuesPopupCustomer('createdocument','', 'ZIS', document.forms.order_positions.ZIS.name, document.forms.order_positions.ZIS.value)">Search</a>
							</p>
						</span>

						<br/>
					</td>
				</tr> 

				<tr> 
					<td class="identifier" width="200px"> 
						<label style="font-weight:bold;" for="ZEC">End customer:
						</label>
					</td> 
					<td class="value">
 
				<input type="hidden"  name="ZEC"  value="S00000JMP9"/>
				<input type="text" disabled class="textinput-large" maxlength="40" id="ZEC"  value="S00000JMP9"/>

						<span id="ZECaddress" class="ibm-form-note" style="display:inline; margin-left:4px; margin-right:5px; color:#000;">
							黄山市供电公司...黄山市屯溪区黄山东路...黄山
						</span>
						<br/>
						<span style="float: left; margin-left:2px; width:110px;">
							<p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
								<a href="javascript:void(0);" class="ibm-forward-link" onclick="viewDetails(document.getElementById('ZEC').value, 'End customer:','shipto_ovrd',this);">View address</a>
							</p>
						</span>
						<span style="float: left; margin-left:2px; width:80px;">
							<p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
								<a href="javascript:void(0);" class="ibm-forward-link"  onclick="getHelpValuesPopupCustomer('createdocument','', 'ZEC', document.forms.order_positions.ZEC.name, document.forms.order_positions.ZEC.value)">Search</a>
							</p>
						</span>

						<br/>
					</td>
				</tr> 

				<tr> 
					<td class="identifier" width="200px"> 
						<label style="font-weight:bold;" for="ZIF">Influencer:
						</label>
					</td> 
					<td class="value">

						<input type="text" class="textinput-large" maxlength="40" name="ZIF"  id="ZIF" value="" onchange="validateInputBpID(this);" alt="Influencer" />

						<span id="ZIFaddress" class="ibm-form-note" style="display:inline; margin-left:4px; margin-right:5px; color:#000;">
							
						</span>
						<br/>
						<span style="float: left; margin-left:2px; width:110px;">
							<p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
								<a href="javascript:void(0);" class="ibm-forward-link" onclick="viewDetails(document.getElementById('ZIF').value, 'Influencer','shipto_ovrd',this);">View address</a>
							</p>
						</span>
						<span style="float: left; margin-left:2px; width:80px;">
							<p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
								<a href="javascript:void(0);" class="ibm-forward-link"  onclick="getHelpValuesPopupCustomer('createdocument','', 'ZIF', document.forms.order_positions.ZIF.name, document.forms.order_positions.ZIF.value)">Search</a>
							</p>
						</span>

						<br/>
					</td>
				</tr> 

				<tr> 
					<td class="identifier" width="200px"> 
						<label style="font-weight:bold;" for="SOLDTO">Sold to:
						</label>
					</td> 
					<td class="value">
 
				<input type="hidden"  name="SOLDTO"  value="BP10AIL4ST"/>
				<input type="text" disabled class="textinput-large" maxlength="40" id="SOLDTO"  value="BP10AIL4ST"/>

						<span id="SOLDTOaddress" class="ibm-form-note" style="display:inline; margin-left:4px; margin-right:5px; color:#000;">
							K A P S Ko...Meisenweg...Emersacker
						</span>
						<br/>
						<span style="float: left; margin-left:2px; width:110px;">
							<p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
								<a href="javascript:void(0);" class="ibm-forward-link" onclick="viewDetails(document.getElementById('SOLDTO').value, 'Sold to','shipto_ovrd',this);">View address</a>
							</p>
						</span>
						<span style="float: left; margin-left:2px; width:80px;">
							<p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
								<a href="javascript:void(0);" class="ibm-forward-link"  onclick="getHelpValuesPopupCustomer('createdocument','', 'SOLDTO', document.forms.order_positions.SOLDTO.name, document.forms.order_positions.SOLDTO.value)">Search</a>
							</p>
						</span>

						<br/>
					</td>
				</tr> 

				<tr> 
					<td class="identifier" width="200px"> 
						<label style="font-weight:bold;" for="ZPA">VNSP:
						</label>
					</td> 
					<td class="value">

						<input type="text" class="textinput-large" maxlength="40" name="ZPA"  id="ZPA" value="" onchange="validateInputBpID(this);" alt="VNSP" />

						<span id="ZPAaddress" class="ibm-form-note" style="display:inline; margin-left:4px; margin-right:5px; color:#000;">
							
						</span>
						<br/>
						<span style="float: left; margin-left:2px; width:110px;">
							<p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
								<a href="javascript:void(0);" class="ibm-forward-link" onclick="viewDetails(document.getElementById('ZPA').value, 'VNSP','shipto_ovrd',this);">View address</a>
							</p>
						</span>
						<span style="float: left; margin-left:2px; width:80px;">
							<p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
								<a href="javascript:void(0);" class="ibm-forward-link"  onclick="getHelpValuesPopupCustomer('createdocument','', 'ZPA', document.forms.order_positions.ZPA.name, document.forms.order_positions.ZPA.value)">Search</a>
							</p>
						</span>

						<br/>
					</td>
				</tr> 

			</table>
		</div>

	</div>
	<div class="ibm-container">

		<h2 class="ibm-inner-subhead">Sales team</h2>
		<div class="ibm-container-body ibm-inner-data-table-last">
			<p>Members of the sales team all have access to this quote</p>
			<div class="ibm-inner-subhead">
				<h2>Organizations on the team</h2>
			</div>
			<table border="0" cellpadding="4" cellspacing="0" class="ibm-data-table" id="channelPartnerTable">
				<tr>
					<th width="100">Company name</th>
					<th width="70">Site ID</th>
					<th width="70">Role</th>
					<th width="127">Address</th>
					<th width="70">City</th>
					<th width="46">Country</th>
					<th width="65">Remove</th>
				</tr>

				<tr id="channelPartnerRow4" style="display:table-row;" >
					<td></td>
					<td>
						BP10AIL4ST
						<input id="channelPartnerData4" value="BP10AIL4ST" type="hidden" name="00000024" />
					</td>
					<td>

						Primary Channel Partner
          
					</td>
					<td>Meisenweg 4 Emersacker NW 86494 DE</td>
					<td>Emersacker</td>
					<td>Germany</td>
					<td>

					</td>
				</tr>         
<input type="hidden" id="secondarypf_index" name="secondarypf_index" value="0"/>
			</table>
			<div class="ibm-buttons-row">
				<p>
					<input id="ADD_ZSC" value="" type="hidden" name="ADD_ZSC" />
					<input id="ADD_ZCP" value="" type="hidden" name="ADD_ZCP" />
					<input id="ADD_ZSS" value="" type="hidden" name="ADD_ZSS" />
					<input id="DELETE_ZCP" value="" type="hidden" name="DELETE_ZCP" />
					<input id="DELETE_ZSS" value="" type="hidden" name="DELETE_ZSS" />
					<input id="DELETE_ZSC" value="" type="hidden" name="DELETE_ZSC" />
					<input value="Add organization" type="button" name="ibm-submit" class="ibm-btn-view-sec" onclick="getHelpValuesPopupCustomer('createdocument','', 'ZCP', 'ZCP', '');"/>  
				</p>
			</div>
			<div class="ibm-rule"><hr /></div>
			<div class="ibm-inner-subhead">
				<h2>People on the team</h2>
			</div>
			<table border="0" cellpadding="4" cellspacing="0" class="ibm-data-table"  id="contactPersonTable">
				<tr>
					<th width="109">Name</th>
					<th width="131">Role</th>
					<th width="104">Phone</th>
					<th width="160">Email</th>
					<th width="83">Country</th>
					<th width="71">Remove</th>
				</tr>

				<tr  style="display:table-row;" >
					<td>
						TEST  TEST
						<input type="hidden" name="ZCO" value="P000154007"/>
					</td>
					<td>
						Primary Partner Contact
					</td>
					<td></td>
					<td>shaaloor@in.ibm.com</td>
					<td>Germany</td>
					<td></td>
				</tr>

			</table>
			<div class="ibm-buttons-row">
				<p>
					<input value="Add IBM contact" type="button" name="ibm-submit" class="ibm-btn-view-sec" onclick="getHelpValuesPopupCustomer('createdocument','', 'ZSS', 'ZSS', '');"/>
					<input value="Add Partner contact" type="button" name="ibm-submit" class="ibm-btn-view-sec" onclick="getHelpValuesPopupCustomer('createdocument','', 'ZSC', 'ZSC', '');"/>
				</p>
			</div>
		</div>


		<div class="ibm-container ibm-inner-data-table-last">
			<h2 class="ibm-inner-subhead">Contacts</h2>
			<div class="ibm-container-body">
 
				<p>Be aware of your customer's privacy preferences. Do not enter any personal identifiable information on this panel if your end user customer does not want this information shared outside of the European Economic Area (EEA).</p>

				<table width="100%" border="0" cellpadding="3" cellspacing="0" class="ibm-data-table">
					<tr>
						<th width="23%">Contact type</th>
						<th width="23%">Email<span class="ibm-required">*</span></th>
						<th width="24%">Name</th>
						<th width="16%">Phone</th>
						<th width="14%">Fax</th>
					</tr>

	




 

 



					<tr>
						
						<td>
							Delivery contact 
							<input type="hidden" name="Z9Bbpid" value="PGENERICPF" />
						</td>
						
						
						
						
						<td>
							<input name="Z9Bemail" onchange="updateDuplicate(this, 'Z9Bemail1');" type="text" value="" />
							
							<input type="hidden" name="oldZ9Bemail" value="" />
							

						</td>
						
							
							<td>
								<input size="18" name="Z9Bname" onchange="updateDuplicate(this, 'Z9Bname1');" type="text" value="" />  
								<input type="hidden" name="oldZ9Bname" value="" />   
							</td>
							  							  
						
						
						<td>
							<input size="12" name="Z9Btel" onchange="updateDuplicate(this, 'Z9Btel1');" type="text" value="" />
							<input type="hidden" name="oldZ9Btel" value="" />
						</td>
						<td>
							<input size="12" name="Z9Bfax" onchange="updateDuplicate(this, 'Z9Bfax1');" type="text" value="" />
							<input type="hidden" name="oldZ9Bfax" value="" />
						</td>
					</tr>

					<tr>
						
						<td>
							ServicePac BP Contact 
							<input type="hidden" name="ZS1bpid" value="PGENERICPF" />
						</td>
						
						
						
						
						<td>
							<input name="ZS1email"  type="text" value="dolarora@in.ibm.com" />
							
								<input type="hidden" name="oldZS1email" value="" />
							

						</td>
						
							
							<td>
								<input size="18" name="ZS1name"  type="text" value="" />  
								<input type="hidden" name="oldZS1name" value="TEST" />   
							</td>
							  							  
						
						
						<td>
							<input size="12" name="ZS1tel"  type="text" value="" />
							<input type="hidden" name="oldZS1tel" value="" />
						</td>
						<td>
							<input size="12" name="ZS1fax"  type="text" value="" />
							<input type="hidden" name="oldZS1fax" value="" />
						</td>
					</tr>

					<tr>
						
						<td>
							ServicePac End Customer Contact 
							<input type="hidden" name="ZS2bpid" value="PGENERICPF" />
						</td>
						
						
						
						
						<td>
							<input name="ZS2email"  type="text" value="dolarora@in.ibm.com" />
							
							<input type="hidden" name="oldZS2email" value="dolarora@in.ibm.com" />
							

						</td>
						
							
							<td>
								<input size="18" name="ZS2name"  type="text" value="" />  
								<input type="hidden" name="oldZS2name" value="TEST" />   
							</td>
							  							  
						
						
						<td>
							<input size="12" name="ZS2tel"  type="text" value="" />
							<input type="hidden" name="oldZS2tel" value="" />
						</td>
						<td>
							<input size="12" name="ZS2fax"  type="text" value="" />
							<input type="hidden" name="oldZS2fax" value="" />
						</td>
					</tr>

					<tr>
						
						<td>
							ServicePac T2 BP Contact 
							<input type="hidden" name="ZS3bpid" value="PGENERICPF" />
						</td>
						
						
						
						
						<td>
							<input name="ZS3email"  type="text" value="dolarora@in.ibm.com" />
							
							<input type="hidden" name="oldZS3email" value="dolarora@in.ibm.com" />
							

						</td>
						
							
							<td>
								<input size="18" name="ZS3name"  type="text" value="" />  
								<input type="hidden" name="oldZS3name" value="TEST" />   
							</td>
							  							  
						
						
						<td>
							<input size="12" name="ZS3tel"  type="text" value="" />
							<input type="hidden" name="oldZS3tel" value="" />
						</td>
						<td>
							<input size="12" name="ZS3fax"  type="text" value="" />
							<input type="hidden" name="oldZS3fax" value="" />
						</td>
					</tr>

					<tr>
						
						<td>
							ServicePac Service Delivery Contact 
							<input type="hidden" name="ZS4bpid" value="PGENERICPF" />
						</td>
						
						
						
						
						<td>
							<input name="ZS4email"  type="text" value="dolarora@in.ibm.com" />
							
							<input type="hidden" name="oldZS4email" value="dolarora@in.ibm.com" />
							

						</td>
						
							
							<td>
								<input size="18" name="ZS4name"  type="text" value="" />  
								<input type="hidden" name="oldZS4name" value="TEST" />   
							</td>
							  							  
						
						
						<td>
							<input size="12" name="ZS4tel"  type="text" value="" />
							<input type="hidden" name="oldZS4tel" value="" />
						</td>
						<td>
							<input size="12" name="ZS4fax"  type="text" value="" />
							<input type="hidden" name="oldZS4fax" value="" />
						</td>
					</tr>

					<tr>
						
						<td>
							Bill to Contact 
							<input type="hidden" name="ZBCbpid" value="PGENERICPF" />
						</td>
						
						
						
						
						<td>
							<input name="ZBCemail" onchange="updateDuplicate(this, 'ZBCemail1');" type="text" value="" />
							
							<input type="hidden" name="oldZBCemail" value="" />
							

						</td>
						
							
							<td>
								<input size="18" name="ZBCname" onchange="updateDuplicate(this, 'ZBCname1');" type="text" value="" />  
								<input type="hidden" name="oldZBCname" value="" />   
							</td>
							  							  
						
						
						<td>
							<input size="12" name="ZBCtel" onchange="updateDuplicate(this, 'ZBCtel1');" type="text" value="" />
							<input type="hidden" name="oldZBCtel" value="" />
						</td>
						<td>
							<input size="12" name="ZBCfax" onchange="updateDuplicate(this, 'ZBCfax1');" type="text" value="" />
							<input type="hidden" name="oldZBCfax" value="" />
						</td>
					</tr>

	
				</table>
			</div>
		</div>
</div>
   
			  </div>
              
			  
			  <div class="ibm-container-body ibm-inner-data-table-last" style="display: none;" id="tabbody4">
				<!--
@ Copyright IBM Corp. 2012
 --> 



 
 
 
 
 
 
 
 


    
    
 
<!--
@ Copyright IBM Corp. 2012
 -->




<!--
@ Copyright IBM Corp. 2012
 -->


<!--
@ Copyright IBM Corp. 2012
 -->







/b2b_ibm/b2b/customize/quote/specialBid.jsp 




<div class="ibm-container ibm-graphic-tabs">
  
  

  
  <div class="ibm-inner-data-table-last">
  
  
  
  
    <div style="padding: 3px 3px;">
      <p class="ibm-ind-information">
        <strong>The special bid is not yet submitted</strong>
      </p>
    </div>
  
    <table width="100%" border="0" cellspacing="0" cellpadding="4">           
	
	      
      <tr style='display:none' >
        <td colspan="3">
          <input type="checkbox" value="X" id="isSubmittedSpecialBid" 
                 name="SPEBID_TYPE" 
                  
                 onclick="return false" /> Request for special bid submitted
        </td>
      </tr>
      <tr style='display:none' >
        <td colspan="2">
          <strong>Submitted by: </strong>
        </td>
        <td>
          <strong>Submitted on: </strong>
        </td>
      </tr>
      <tr>
        <td colspan="3">
          <strong>Reasons for Special Bid:</strong><br />
          <input type="checkbox" value="Y" id="specialBid4Price" 
                 name="SB_SPECIAL_BID_PRICE_REQUIRED" 
                  
                 onclick="return false" />Special bid price required
          <input type="checkbox" id="specialBidRequiresAuthorization2Market"
                 name="REQ_AUTH_MKT" 
                  
                 onclick="return false" />Requires authorization to market
          <input type="checkbox" value="Y" id="specialBidUsedMachineIncluded"
                 name="ZZYREQ_GARS_H" 
                  
                 onclick="return false" />Used equipemnt included
          <input type="checkbox" value="Y" id="specialBidSpecialTnC"
                 name="REQ_SPL_TC" 
                  />Special Ts&Cs
          <br/>
          <input type="checkbox" id="headerCustomSeoRequest" name="headerCustomSeoRequest" disabled="disabled" />Custom SEO request
        </td>
      </tr>

      <tr>
        <td colspan="3"><div class="ibm-rule"><hr /></div></td>
      </tr>
      
      <tr style='' >
        <td colspan="3">
 	      <input type="checkbox" value="X" id="isBottomLineBid"
 	             name="BOTTOMLINE_BID" 
 	             
 	             onclick='checkShowAllPrice()' />
    	  <strong>Cart level price request</strong>
    	</td>
      </tr>
      
      
      <tr class="ibm-sb-bottom-line-visible">
        <td colspan="3">
          <table width="100%" border="0" cellspacing="0" cellpadding="4">
            <tr >
              <td width="20%" style="font-size:1em;"><strong>Total end user price: </strong></td>
              <td width="11%">
                <input alt='Total end user price' type="text" id="totalEndUserPrice" size="10"
                       name="CUST_PRICE_CALC" 
                       value=""
                       class="ibm-sb-bottom-line-enabled ibm-b2b-required-currency-number" />
                <input type="hidden" id="totalPrice" name="NETPRICE_HEADER_CALC" value="" />      
              </td>
              <!--BHALM00179587:Start of change made by Arnab on 29/04/2013 to add id attribute to td tag-->
              <td width="23%" id="totalDiscountLabelHolder" style='font-size:1em'>
                <strong>Total end user discount</strong> 
              </td>
              <!--BHALM00179587:End of change made by Arnab on 29/04/2013 to add id attribute to td tag-->
              <!--BHALM00179587:Start of change made by Arnab on 29/04/2013 to add id attribute to td tag-->
              <td width="13%" id="totalDiscountHolder" null>
                <input alt='Total end user discount' type="text" id="totalEndUserDiscount" size="2"
                       name="SB_EU_DISCOUNT" 
                       value=""
                       class="ibm-sb-bottom-line-enabled ibm-b2b-required-float ibm-b2b-required-percentage" />%
                 <input type="hidden" id="totalEndUserDiscount_hidden" name="totalEndUserDiscount_h"  />      
              </td>
              <!--BHALM00179587:End of change made by Arnab on 29/04/2013 to add id attribute to td tag-->
          	  <td width="22%" style='font-size:1em;visibility:hidden'>
          	    <strong>Total end user price</strong><br />
          	    <span class="ibm-item-note">(IBM counter proposal)</span>: 
          	  </td>
              <td width="11%" style='visibility:hidden'>
                <input alt='Total end user price ???en_US.ibm.b2b.specialbid.ibmcounterproposal???' 
                	type="text" id="totalEndUserIbmPrice" size="10" disabled="disabled"
                       name="TEUP_HEAD"
                       value="" 
                       class="ibm-sb-bottom-line-enabled" />
              </td>
            </tr>
          </table>
        </td>
      </tr>

      <tr>
        <td colspan="3"><div class="ibm-rule"><hr /></div></td>
      </tr>
      
      
      




<!--
@ Copyright IBM Corp. 2012
 -->




<!--
@ Copyright IBM Corp. 2012
 -->




<script type="text/javascript">
	var flagT1 = false;
	var flagT2 = false;
	var flagT3 = false;
	function t1change()
	{
		if ($("#ZDB").length > 0 && $("#ZDB").val().length>0 && $("#ZTC").val().length>0)
		{
			$('#tierMarginT1').removeAttr("readonly");
			flagT1 = true;
		}
		else
		{
			$('#tierMarginT1').attr("readonly","readonly");
			$('#tierMarginT1').val("0");
			flagT1 = false;
		}
		sumTotal();	  
	}
    
	function t2change()
	{
		if ($("#ZTC").length > 0 && $("#ZTC").val().length>0)
		{
			$('#tierMarginT2').removeAttr("readonly");
			flagT2 = true;
		}
		else
		{
			$('#tierMarginT2').attr("readonly","readonly");
			$('#tierMarginT1').attr("readonly","readonly");
			$('#tierMarginT2').val("0");
			flagT2 = false;
		}	  
		sumTotal();
	}
    
	function t3change()
	{
		if ($("#ZCF").length>0 && $("#ZCF").val().length>0)
		{
			$('#tierMarginT3').removeAttr("readonly");
			flagT3 = true;
		}
		else
		{
			$('#tierMarginT3').attr("readonly","readonly");
			$('#tierMarginT3').attr("value",'0');
			flagT3 = false;
		}
		sumTotal();
	}
	
	function t3changeZCF_COPY()
	{
		if ($("#ZCF_COPY").length>0 && $("#ZCF_COPY").val().length>0)
		{
			$('#tierMarginT3').removeAttr("readonly");
		}
		else
		{
			$('#tierMarginT3').attr("readonly","readonly");
		//	$('#tierMarginT3').attr("value",'');
		}
	}
	
  $(function(){
        
		t1change();
		t2change();
		t3change();
		$("#ZDB").change( function() {
			t1change();
		});
  
		$("#ZTC").change( function() {
			t2change();
		});

		$("#ZCF").change( function() {
			t3change();
		});	
		
		$("#ZCF_COPY").change( function() {
			t3changeZCF_COPY();
		});
		
		$("#tierMarginT1").change(function() {
			sumThreeMargin();
		});  
		$("#tierMarginT2").change(function() {
			sumThreeMargin();
		});  
		$("#tierMarginT3").change(function() {
			sumThreeMargin();
		});  
  });
  
  function checkVal123(v1,v2,v3)
  {
  
	if ($("#ZDB").length > 0 && $("#ZDB").val().length>0 && $("#ZTC").val().length>0)
	{
		if(isNaN(parseFloat(v1)))
		{
			$("#tierMarginErrorMsg").text('Distributor value is invalid');
			return false;
		}
		else if(v1<0)
		{
			$("#tierMarginErrorMsg").text('Distributor value should be greater than 0');
			return false;
		}
	}
  	
	 if($("#ZTC").length > 0 && $("#ZTC").val().length>0)
	 {
		if(isNaN(parseFloat(v2)))
		{
			$("#tierMarginErrorMsg").text('Intermediate partner value is invalid');
			return false;
		}
		else if(v2<0)
		{
			$("#tierMarginErrorMsg").text('Intermediate partner value should be greater than 0');
			return false;
		}
	 	
	 }
	 if ($("#ZCF").length > 0 && $("#ZCF").val().length>0)
	 {
		if(isNaN(parseFloat(v3)))
		{
			$("#tierMarginErrorMsg").text('Customer facing partner value is invalid');
			return false;
		}
		else if(v3<0)
		{
			$("#tierMarginErrorMsg").text('Customer facing partner value should be greater than 0');
			return false;
		}
	 }
	$("#tierMarginErrorMsg").text('');
	return true;
  }
  function showErrorMessageV123(str)
  {
		$("#tierMarginErrorMsg").text(str);
  }
  function sumTotal()
  {
  	var tt123 = (flagT1||flagT2||flagT3);
  	if(!tt123)
  	{
  		$("#tierMarginErrorMsg").text('');
  	}
  	
  }
  function sumThreeMargin()
  {
	var vt1 = $("#tierMarginT1").val();
	var vt2 = $("#tierMarginT2").val();
	var vt3 = $("#tierMarginT3").val();
	var cartType= $("#cartTypeCode").val();
	if(checkVal123(vt1,vt2,vt3))
	{
  		
		var sumV123 = Number(vt1)+Number(vt2)+Number(vt3);
		document.getElementById('tierMarginTotal').value = sumV123;
		if(sumV123==100)
		{
			$("#tierMarginErrorMsg").text('');
  			
		}else if(flagT1||flagT2||flagT3)
		{
			$("#tierMarginErrorMsg").text('total must be 100');
		}else if(cartType!="ZBPQ")
		{
			$("#tierMarginErrorMsg").text('total must be 100');
		}
	}
  }
  
  function checkSubmitForSpecialBid()
  {
  	var cartType= $("#cartTypeCode").val();
	//Modify for 127813: Add a exist checking for "#tierMarginT1", "#tierMarginT2" and "#tierMarginT3"
	if($("#tierMarginT1").length && $("#tierMarginT2").length && $("#tierMarginT3").length)
	{
		var vt1 = $("#tierMarginT1").val();
		var vt2 = $("#tierMarginT2").val();
		var vt3 = $("#tierMarginT3").val();
		if(checkVal123(vt1,vt2,vt3))
		{
	  		var t123 = (flagT1||flagT2||flagT3);
			var sumV123 = Number(vt1)+Number(vt2)+Number(vt3);
			document.getElementById('tierMarginTotal').value = sumV123;
			if(sumV123==100)
			{
				$("#tierMarginErrorMsg").text('');
				return true;
			}
			else if(cartType=="ZBPQ")
			{
				$("#tierMarginErrorMsg").text('');
				return true;
			}else if(!t123)
			{
				$("#tierMarginErrorMsg").text('');
				return true;
			}else
			{
				$("#tierMarginErrorMsg").text('total must be 100');
			}
		}
		return false;
	}
	else 
	{
		return true;  //Modify for 127813: for onshore stores, there isn't tier magin and related check
	}
  }
  
  

function checkOpenTender()
{ 
	var isOpenTender = document.getElementById('isOpenTender');
	var isOpenTenderHidden = document.getElementById('isOpenTenderHidden').value;
	var openTenderJustification = document.getElementById('openTenderJustification').value;
	
	if(isOpenTenderHidden == 'true' && isOpenTender.checked==false &&  openTenderJustification =="")
	{
		$("textarea[name='TEXT_ZOTJ']").addClass("ibm-b2b-required");
	}
	else if(isOpenTenderHidden == 'true' && isOpenTender.checked==true)
	{
		$("textarea[name='TEXT_ZOTJ']").removeClass("ibm-b2b-required");
	}
}


	function accAdd(arg1,arg2)
	{  
		var r1,r2,m;  
		try
		{
			r1=arg1.toString().split(".")[1].length
		}
		catch(e)
		{
			r1=0
		}  
		try
		{
			r2=arg2.toString().split(".")[1].length
		}
		catch(e)
		{
			r2=0
		}  
		m=Math.pow(10,Math.max(r1,r2));  
		return (arg1*m+arg2*m)/m;  
	}  
	
	function sum_tierMargin()
	{
		var sum1 = $("#tierMarginT1").val();
		var sum2 = $("#tierMarginT2").val();
		var sum3 = $("#tierMarginT3").val();
		 
		var v1 = 0;
		var v2 = 0;
		var v3 = 0;
		var sum=0;

		if(!isNaN(parseFloat(sum1)))
		{
			v1 = sum1;
		}
		if(!isNaN(parseFloat(sum2)))
		{
			v2 = sum2;
		}
		if(!isNaN(parseFloat(sum3)))
		{
			v3 = sum3;
		}
		sum = Number(v1)+Number(v2)+Number(v3);

		document.getElementById('tierMarginTotal').value = sum;

	} 
	  
	  
</script>





    </table>
    
       
      
      

      <div>
        <h2 class="ibm-inner-subhead">Special bid notifications:</h2>

			<p>Be aware of your customer's privacy preferences. Do not enter any personal identifiable information on this panel if your end user customer does not want this information shared outside of the European Economic Area (EEA).</p>
 
        <table width="100%" border="0" cellpadding="3" cellspacing="0" class="ibm-data-table">
          <tr>
            <th width="22%">Recipient</th>
            <th width="22%">Email</th>
            <th width="22%">Name</th>
            <th width="17%">Phone</th>
            <th width="17%">Fax</th>
          </tr>
          <tr>
            <td><b>Support letter (tier 2)</b>:</td>
            <td>
              <span class="ibm-required"></span><br/><input type="text" id="t2Email" alt='Tier 2 Email' 
              	class="ibm-b2b-required-email"
                     name="ZPC_EMAIL"
                    value=""
                    maxlength="80" size="20"/>
            </td>
            <td><br/>
              <input type="text" id="t2Name" 
                     name="ZPC_NAME"
                    value=""
                    maxlength="30" size="20" />
            </td>
            <td><br/>
              <input type="text" id="t2Phone" 
                     name="ZPC_TELNUM"
                    value=""
                    maxlength="30" size="14" />
            </td>
            <td><br/>
              <input type="text" id="t2Fax" 
                     name="ZPC_FAXNUM"
                    value=""
                    maxlength="30" size="14" />
            </td>
          </tr>
          <tr>
            <td><b>Addendum (tier 1):</b></td>
            <td>
              <span class="ibm-required">*</span><br/><input type="text" id="t1Email"  alt='Tier 1 Email' 
              	class="ibm-b2b-sb-required ibm-b2b-required-email"
                     name="ZTB_EMAIL"
                    value=""
                    maxlength="80" size="20"/>
            </td>
            <td>
            <br/>
              <input type="text" id="t1Name" 
                     name="ZTB_NAME"
                    value=""
                    maxlength="30" size="20" />
            </td>
            <td>
            <br/>
              <input type="text" id="t1Phone" 
                     name="ZTB_TELNUM"
                    value=""
                    maxlength="30" size="14" />
            </td>
            <td>
            <br/>
              <input type="text" id="t1Fax" 
                     name="ZTB_FAXNUM"
                    value=""
                    maxlength="30" size="14" />
            </td>
          </tr>
          
          
          
        </table>
        <p></p>
      </div>
 
    <table width="100%" border="0" cellspacing="0" cellpadding="4">
      <tr><td colspan="3"><div class="ibm-rule"><hr /></div></td></tr>
      <tr> 
        <td class="identifier" width="200px"> 
          <label style="font-weight:bold;" for="contact">Tier 2/Intermediate partner:</label>
        </td> 
        <td class="value">
          <input class="textinput-large" type="text" maxlength="40" 
                    id="ZTC_COPY" 
                  name="ZTC_COPY" 
                 value="" />
          <span id="ZTC_COPYaddress" class="ibm-form-note" style="display:inline; margin-left:4px; margin-right:5px; color:#000;"></span>
          <br/>
          <span style="float: left; margin-left:2px; width:110px;">
            <p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
              <a onclick="ibmCommon.Overlays.show('VAddress', this);return false;" class="ibm-forward-link" href="javascript:void(0)">View address</a>
            </p>
          </span>
          <span style="float: left; margin-left:2px; width:80px;">
            <p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
              <a onclick="getHelpValuesPopupCustomer('createdocument','', 'ZTC_COPY', document.forms.order_positions.ZTC_COPY.name, document.forms.order_positions.ZTC_COPY.value)" class="ibm-forward-link" href="javascript:void(0)">Search</a>
            </p>
          </span>
          <br/>
        </td>
      </tr>
      <tr> 
        <td class="identifier" width="200px"> 
          <label style="font-weight:bold;" for="contact">Customer facing:</label>
        </td> 
        <td class="value">
	      <input id="ZCF_COPY" 
               name="ZCF_COPY" 
              class="textinput-large" type="text" maxlength="40" 
              value="" />
          <span id="ZCF_COPYaddress" class="ibm-form-note" style="display:inline; margin-left:4px; margin-right:5px; color:#000;"></span>
          <br/>
          <span style="float: left; margin-left:2px; width:110px;">
            <p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
              <a onclick="ibmCommon.Overlays.show('VAddress', this);return false;" class="ibm-forward-link" href="javascript:void(0)">View address</a>
            </p>
          </span>
          <span style="float: left; margin-left:2px; width:80px;">
            <p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
              <a onclick="getHelpValuesPopupCustomer('createdocument','', 'ZCF_COPY', document.forms.order_positions.ZCF_COPY.name, document.forms.order_positions.ZCF_COPY.value)" class="ibm-forward-link" href="javascript:void(0)">Search</a>
            </p>
          </span>
          <br/>
        </td>
      </tr>
      
      <tr><td colspan="3"><div class="ibm-rule"><hr /></div></td></tr>
      <tr>
        <td>
          <strong>ISAT/CHIS proposal #:</strong> 
        </td>
        <td colspan="2">
          <input type="text" id="chis" 
                 name="CHIS_PROP_NUM" 
                 value="" />
        </td>
      </tr>
      <tr>
        <td>
          <strong>Customer value:</strong> 
        </td>
        <td colspan="2">
          <input name="ZZYVAE" id="customerValue" value="" type="text" />
        </td>
      </tr>
      <tr><td colspan="3"><div class="ibm-rule"><hr /></div></td></tr>

	  <tr>
	    <td><label><b>Solution owner:</b></label></td>
        <td colspan="2">
        	
               <select name="ZZYSOLOWNR" id="ZZYSOLOWNR" class="ibm-form-element-list" onchange="loadSolutionName();" style="width:170px"> 
               		<option value="">Select an owner</option>
	            
			            <option  title="IBM" value="0">
			                IBM
			            </option>
	
			    
	        	</select> 
        </td></tr>
 	  <tr>
 	    <td><label><b>Solution name:</b></label></td>
        <td colspan="2">
	        
	        <select name="ZZYSOLNAME" id="ZZYSOLNAME" class="ibm-form-element-list" style="width:170px">
	
	            <option value="">Select a name</option>
	
	            
	        </select>
        </td></tr>
</table>

<div class="ibm-rule"><hr /></div>	
    
		
		<textarea rows="5" cols="30" id="testout" style="display:none"></textarea>
		
		
		
	    <h2 class="ibm-inner-subhead">Special bid codes</h2>
	    
			<table border="0" cellpadding="4" cellspacing="0">
				<tbody>
					<tr>
						<td colspan="3"><div class="ibm-rule"><hr></div>
						</td>
					</tr>
	            	<tr>
						<td valign="top" width="28%">
							<label><strong>Special bid codes:</strong><br>
								<select name="select2" id="select2" style="width:170px"></select>
							</label>
	  					</td>
	  					<td width="21%">
	  						<label><strong>Authorization code:<br></strong>
								<input id="authorizationcode" name="authorizationcode" type="text">
							</label>
						</td>
						<td valign="bottom" width="51%">
							<input value="Add special bid code to line items" name="ibm-undo" class="ibm-btn-arrow-sec" type="button" onclick="javascript:setTimeout('addHeadLevelSpecialBidCode();',2000);"></input>
	                        <input value="Delete (Reset)" name="ibm-undo" class="ibm-btn-arrow-sec" type="button" onclick="emptyHeadLevelSpecialBidCodes();"></input><br>
						</td>
					</tr>
				</tbody>
			</table>
			
	    	<div class="ibm-container-body">   
				<table class="ibm-data-table" cellspacing="0" id="headLevelSpecialBidCodes">
					<thead>
						<tr>
			            	<th>Code</th>
			                <th>Description</th>
			                <th>Authorization code</th>
			                
			            </tr>  
			        </thead>
			        <tbody>  
			        	
	               </tbody>
	           </table>
			</div>
			<textarea rows="5" cols="30" id="needSaveSBCodes" name="needSaveSBCodes" style="display:none">null</textarea>
			<input type="hidden" name="modeType" id="modeType" value="null"></input>
			
			        
 
    
    <div class="ibm-rule"><hr /></div>
  </div>
  <br />
  
  <div class="ibm-inner-data-table-last">
  
    <div><h2 class="ibm-inner-subhead">Cart items</h2></div>
    
    <div id="cartItemsToolBar">
    <p style="display:inline; float:left"> </p>
    <p style="display:inline; float:right;"><strong>| &nbsp;&nbsp;Currency:&nbsp;EUR</strong></p> 
    
	<p class="ibm-ind-link" title='Download cart' style="display:inline; float:right;">
	<a id="downloadlinkSpe" class="ibm-download-link" href="#">&nbsp;</a>
	</p>

	<p class="ibm-ind-link" title='Print cart' style="display:inline; float:right;">
	<a id="printlinkSpe" class="ibm-print-link" href="#">&nbsp;</a>
	</p>

	<p class="ibm-ind-link" title='Email cart' style="display:inline; float:right;">
	<a id="emaillinkSpe" class="ibm-email-link" href="#">&nbsp;</a>
	</p>
	
    <p style="display:inline; float:right;" title='Remove selected'>
    	<a href="#"><img src="/b2b_ibm/b2b/customize/images/icn_trash.gif" 
    	alt='Remove item' width="13" height="13" border="0" title='Remove item' /></a></p>
    </div>
    
    <div id="cartItemsList">
    
    






 
  

 



<!--
@ Copyright IBM Corp. 2012
 -->




<!--
@ Copyright IBM Corp. 2012
 -->






<table width="100%" id="shopCart" class="ibm-data-table" style="clear:left;">
  <thead>
	  <tr valign="top">
	   	<th width="11">&nbsp;</th>
		<th width="30">&nbsp;</th>
		<th width="44" nowrap="nowrap">Item #</th>
		<th width="28">Qty</th>
		<th width="115">Product ID</th>
		<th width="324">Description</th>
	<!--BHALM00194342:Start of condition added by Arnab on 14/07/2013 to show/hide the price header based on APLI status check-->		

        <th width="131" class="ibm-numeric">Your price</th>

	<!--BHALM00194342:End of condition added by Arnab on 14/07/2013 to show/hide the price header based on APLI status check-->	
		<th width="12" align="center"  title='Update cart to complete removal'>&nbsp;</th>
		<th>
		  Remove<br />                        
		  <input type="checkbox" name="checkbox3" id="checkbox3"  title='Update cart to complete removal'/>
		</th>
	  </tr>
  </thead>

  <tbody>
  
  
  </tbody>
</table>
    </div>    
    
    <p>
    <strong>Deal registration info:</strong>
    <br />
    <label>
      <textarea name="TEXT_ZDRG" id="realerRegistration" cols="100" rows="5"></textarea>
    </label>
    </p>
    
    <p>
    <strong>Business justification:</strong>
    <span class="ibm-required">*</span>
    <br />
    <label>
      <textarea id="justification" cols="100" rows="5" class="ibm-b2b-sb-required" 
      	       alt='Business justification'
      	      name="TEXT_ZSPB"></textarea>
    </label>
    </p>
    
    <p>
    <strong>Partner comments to IBM:</strong>
    <br />
    <label>
      <textarea name="TEXT_ZIM1" id="partnerComment2IBM" cols="100" rows="5"></textarea>
    </label>
    </p>
    
    <p>
    <strong>IBM comments to partner:</strong>
    <br />
    <label>
      <textarea name="TEXT_TEXT_ZIM2" id="IBMComment2Partner" cols="100" rows="5" disabled="disabled"></textarea>
    </label>
    </p>
    
    <p>
      <span class="ibm-required">*</span>
      <input type="checkbox" class="sb_form sb_form_header ibm-b2b-sb-required" 
      		  alt='Accept Business Partner Certification Requirements'
               id="acceptCertificationRequirement"
             name="BP_CERT_REQ" 
             checked='checked' />
      Accept <a href="#" onclick="MM_openBrWindow('http://ibm.com/','BPCert','toolbar=yes,location=yes,scrollbars=yes,resizable=yes')">Business Partner Certification Requirements</a>
    </p>
    
    
    
  </div>
</div>






<script type="text/javascript"> 
var B2B_SP_BID = {
  "settings":{
    "fieldIsRequired":"  is required.",
    "pleaseCorrectFormError":"Pay attention to below element(s).",
    "illegalEmailAddress":" is not a legal email address.",
    "illegalFloat":" is not a legal float.",
    "illegalNumber":" is not a legal number.",
    "not100":" is not 100.",
    "illegalPercentageLT0":" is not a legal percentage value, it should not be less than 0.",
    "illegalPercentageGT100":" is not a legal percentage value, it should not be greater than 100.",
    "correctPriceFormat":" Please input a correct price format: x,xxx,xxx.xx (e.g. 9,999,999.99)",
    "Exchangeratewitht2Format":" The exchange rate with T2 is not a legal float. Please input a correct format: xxxx.xxxxx (e.g. 9999.99999)."
  }
};


//disable all submit fields on the special bid tab
function disableAllSbFields(){
    $("#tabbody4 input,#tabbody4 select,#tabbody4 textarea,#tabbody4 button,").each(function(){
        $(this).attr("disabled", "disabled");
    });
    $("#submit_sp_bid_button").attr("class", "ibm-btn-arrow-dis");
}


function checkQuoteLevelPriceRequest(){
    if($("#isBottomLineBid").is("input:checked")){
        disableSbItemPrice()
    }
    else {
        disableSbHeaderPrice();
    }
}


function disableSbHeaderPrice(){
    $("#totalEndUserPrice").attr("disabled", "disabled");
    $("#totalEndUserDiscount").attr("disabled", "disabled");
    $("#totalEndUserPrice").val("");
    //modify for defect197965  $("#totalEndUserDiscount").val("0.0");
    $("#totalEndUserDiscount").val("");
    $(".sb_item_price").each(function(){
          $(this).removeAttr("disabled");
      });
    $(".div_sb_item_price").each(function(){
          $(this).show();
      });
}


function disableSbItemPrice(){
    $("#totalEndUserPrice").removeAttr("disabled");
    $("#totalEndUserDiscount").removeAttr("disabled");
    $(".sb_item_price").each(function(){
        $(this).attr("disabled", "disabled");
      });
    $(".div_sb_item_price").each(function(){
          $(this).hide();
      });
}

//check Custom SEO Request
function checkCustomSeoRequest(isSubmittedSpecialBid){
    $("#headerCustomSeoRequest").removeAttr("checked");
    $(".ibm-sb-custom_seo-check").each(function(){
        if($(this).is("input:checked")){
          $("#headerCustomSeoRequest").attr("checked", "checked");
        }
    });
    if($("#headerCustomSeoRequest").is("input:checked")){
        if(typeof addMessageOnCartPage == 'function' 
            && isSubmittedSpecialBid == "N"){
            $("p").remove("#MSG_CUSTOM_SEO_REQUEST");
            addMessageOnCartPage("I", 'The cart contains custom SEO request. Please submit special bid request.', "MSG_CUSTOM_SEO_REQUEST");
        }
    }
    else{
        $("p").remove("#MSG_CUSTOM_SEO_REQUEST"); 
    }
    checkSpecialBidPriceRequired(isSubmittedSpecialBid);
}

/*
 * check Special bid price required
 *  It only need to check two casees:
 *    1) when "Special bid price required" is checked, but others not
 *    2) when "Special bid price required" is NOT checked, but others are
 */
function checkSpecialBidPriceRequired(isSubmittedSpecialBid){
    if($("#specialBid4Price").is("input:checked")) {
        if( !( $("#specialBidUsedMachineIncluded").is("input:checked")
            || $("#specialBidRequiresAuthorization2Market").is("input:checked") 
            || $("#specialBidSpecialTnC").is("input:checked")
            || $("#headerCustomSeoRequest").is("input:checked") ) ){
            $("#specialBid4Price").removeAttr("checked");
            $("p").remove("#MSG_REQ_SB_APPROVAL");
        }
    }
    else {
        if( $("#specialBidUsedMachineIncluded").is("input:checked")
            || $("#specialBidRequiresAuthorization2Market").is("input:checked") 
            || $("#specialBidSpecialTnC").is("input:checked")
            || $("#headerCustomSeoRequest").is("input:checked") ) {
            $("#specialBid4Price").attr("checked", "checked");
            if(isSubmittedSpecialBid == "N"){
                disableButtonById("checkout");
                if(typeof addMessageOnCartPage == 'function'){
          	        addMessageOnCartPage("E", 'This quote requires a special bid approval', "MSG_REQ_SB_APPROVAL");
                }
            }
            
        }
    }
}


</script>



<script type="text/javascript">
  $(function(){
      //:: init start ::
  
      //init disable price fields
      checkShowAllPrice();
  
  
      var isSubmittedSpecialBid = "Y";
  
      var isSubmittedSpecialBid = "N";
                  
      
      
      
      
      

	  
  
      //:: init end ::

	checkAcceptCertificationRequirement();
		
	$("#acceptCertificationRequirement").click( function() {
		checkAcceptCertificationRequirement();		
    });	

      
      $("#specialBidSpecialTnC").change( function() {
          if($("#specialBidSpecialTnC").is("input:checked")
              && isSubmittedSpecialBid == "N"){
          	  if(typeof addMessageOnCartPage == 'function'){
                addMessageOnCartPage("I", 'Special terms and conditons are requested. Please submit special bid request', "MSG_TC_CONDITIONS_REQ_SB");
              }
          }
          else{
              $("p").remove("#MSG_TC_CONDITIONS_REQ_SB"); 
          }
          checkSpecialBidPriceRequired(isSubmittedSpecialBid);
      });
      
      // init Custom SEO Request
      checkCustomSeoRequest(isSubmittedSpecialBid); 
      $(".ibm-sb-custom_seo-check").click(function() {checkCustomSeoRequest(isSubmittedSpecialBid)});
      
      
      
      
      $("#ZTC_COPY").val($("#ZTC").val());
      $("#ZTC_COPYaddress").text($("#ZTCaddress").text());
      if($("#ZTC").is("input:disabled")){
          $("#ZTC_COPY").attr("disabled", "disabled");
      }
      
      $("#ZTC").blur( function() {
          $("#ZTC_COPY").val($("#ZTC").val());
          $("#ZTC_COPYaddress").text($("#ZTCaddress").text());
      }); 
      $("#ZTC_COPY").blur( function() {
          $("#ZTC").val($("#ZTC_COPY").val());
          $("#ZTCaddress").text($("#ZTC_COPYaddress").text());
      }); 
      
      $("#ZCF_COPY").val($("#ZCF").val());
      $("#ZCF_COPYaddress").text($("#ZCFaddress").text());
      
      $("#ZCF").blur( function() {
          $("#ZCF_COPY").val($("#ZCF").val());
          $("#ZCF_COPYaddress").text($("#ZCFaddress").text());
      }); 
      $("#ZCF_COPY").blur( function() {
          $("#ZCF").val($("#ZCF_COPY").val());
          $("#ZCFaddress").text($("#ZCF_COPYaddress").text());
      }); 
      
      
      
      $("form[id='order_positions']").submit(function(){
          
          $("#tabbody4 input,#tabbody4 select,#tabbody4 textarea,#tabbody4 button,").each(function(){
            $(this).removeAttr("disabled");
          });
      });
      
      
      
      $("#totalEndUserPrice").blur( function(){ 
          if($("#totalEndUserPrice").val().trim()!="" && $("#totalPrice").val().trim()!=""){
	          var ajaxUrl = "/b2b_ibm/b2b/ibm/ajaxUtil.do?utilName=UTIL_GET_TOTAL_DISCOUNT&totalPrice=" + $("#totalPrice").val() + "&totalEndUserPrice=" + $("#totalEndUserPrice").val();
	          $.get(ajaxUrl, function(data){
	              $("#totalEndUserDiscount").val(data);
	              $("#totalEndUserDiscount_hidden").val(data);
	          }); 
          }
      } ); 
      $("#totalEndUserDiscount").blur( function(){ 
          if($("#totalEndUserDiscount").val().trim()!="" && $("#totalPrice").val().trim()!="" &&  $("#totalEndUserDiscount").val().trim() != $("#totalEndUserDiscount_hidden").val().trim() ){
	          var ajaxUrl = "/b2b_ibm/b2b/ibm/ajaxUtil.do?utilName=UTIL_GET_TOTAL_ENDUSER_PRICE&totalPrice=" + $("#totalPrice").val() + "&totalDiscount=" + $("#totalEndUserDiscount").val();
	          $.get(ajaxUrl, function(data){
	              $("#totalEndUserPrice").val(data);
	          }); 
          }
      } ); 
      
      
  });
  
function loadSolutionName() {

    // get the index of the selected option
    var solutionOwnerData = "ZZYSOLOWNR=" + $('#ZZYSOLOWNR').val();
    $.ajax({
                type: "POST",
                url: "/b2b_ibm/b2b/ibm/getSolutionNameData.do",
                data:solutionOwnerData,
                success: function(solutionnames) {
                    loadSolutionNamesFromXML(solutionnames);
                }
            });
}
function loadSolutionNamesFromXML(solutionnames) {
    clearSolutionNames();
    $('#ZZYSOLNAME').append($("<option value=''>Select a name</option>"));
    $(solutionnames).find('solutionname').each(function() {
        var id = $(this).attr('id');
        var name = $(this).find('name').text();
        appendSolutionName(id, name);
    });
}
    function clearSolutionNames() {
        $('#ZZYSOLNAME').find('option').remove();
    }
    function appendSolutionName(id, name) {
        $('#ZZYSOLNAME').append($("<option value='" + id + "' title='" + name + "'>" + name + "</option>"));
    }
    
    function checkShowAllPrice(){
        
        
        checkQuoteLevelPriceRequest();
        
    }


function checkAcceptCertificationRequirement(){
	if($("#acceptCertificationRequirement").is("input:checked")){
		$("#submit_sp_bid_button").removeAttr("disabled");
		$("#submit_sp_bid_button").removeAttr("class");
		$("#submit_sp_bid_button").attr("class", "ibm-btn-arrow-pri submit_sp_bid_button ibm-b2b-update-cart-button");
    }
    else {
        //$("#submit_sp_bid_button").attr("disabled", "disabled");
		//$("#submit_sp_bid_button").attr("class", "ibm-btn-arrow-dis");
		disableButtonById("submit_sp_bid_button");
    }
}

</script>

<script type="text/javascript">
if(!($("#specialBidSpecialTnC").is("input:checked"))){
 	$("#totalEndUserPrice").attr("disabled","disabled");
 	$("#totalEndUserDiscount").attr("disabled","disabled");
}
</script>

			  </div>
			  
			  <script>
			  
				var isSBAvaiable = true;
			  
			  </script>
			            
			 
			  <div class="ibm-container-body ibm-inner-data-table-last"  style="display: none;" id="tabbody5">
				<input type="hidden" id="isPId" name="isP" value="true"/>
				<input type="hidden" id="countryCodeId" name="countryCode" value="DE"/>
				<input type="hidden" id="initTimesFlag" value="0"/>
				


<script type="text/javascript">
	function orderChangeIgf()
	{
		switchTab('5','5');
		var flag = $('#initTimesFlag').val();
		if(flag==0)
		{
			showigf();
		}
		$('#initTimesFlag').val(1);
		
	}
function showigf()
{
		
		
	var ajaxurl = "/b2b_ibm/b2b/showigf.do";
	var currencyValueID = $("#currencyValueID").val();
	
	$.ajax({
    	async:false, //lock screen
    	cache:false,//not to use cache
    	type:"post",
    	url:ajaxurl,
    	success:function(data){
    		igfReset();
			igf(data.igfFlag,data.messageList);								
		},
			
    	error:function(a,b){ alert("Backend busy, try it again later!"); },
    	dataType:"json",
    	data: {currency:currencyValueID}
    	});

}	 
function igfReset()
{		
		$("#igfMessage").hide();
		$("#igfshow1").show();
		$("#igfshow2").show();
		$("#igfshow3").show();
		$("#resetDefaultButtonId").show();
		$("#planningRatesButtonId").show();
		var countryCode = $("#countryCodeId").val();
		if(countryCode!='CN')
		{
			$("#requestFirmRatesButtonId").show();
		}
}
function igf(igf,msg)
{
	var isPscenario = $("#isPId").val();
	var countryCode = $("#countryCodeId").val();
	
	if(igf=='B')
	{
		$("#igfshow1").hide();
		$("#igfshow2").hide();
		$("#igfshow3").hide();
		$("#resetDefaultButtonId").hide();
		$("#planningRatesButtonId").hide();
		if(countryCode!='CN')
		{
			$("#requestFirmRatesButtonId").hide();
		}

	}
	if(igf=='E'||igf=='F')
	{
		$("#igfshow1").hide();
		$("#igfshow2").hide();
		$("#igfshow3").hide();
		$("#resetDefaultButtonId").hide();
		$("#planningRatesButtonId").hide();
		if(countryCode!='CN')
		{
			$("#requestFirmRatesButtonId").hide();
		}
		showmsg(msg);
	}
	if(igf=='S')
	{
	//	alert('works well');	
	}	
}
function showmsg(msg)
{
	var msglength = msg.length;
	if(msglength>0)
	{
		$("#igfMessage").text(msg[0].message);
		$("#igfMessage").show();
	}
	
}
function fillSelect(selectId,selectList)
{
	if(selectList.length>0)
	{
		$("#"+selectId).find("option").remove();
		for(var i=0;i<selectList.length;i++)
		{
			var s = selectList[i].isSel;
			var optStr="";
			if(s==1)
			{
				optStr = "<option value='" + selectList[i].value + "' selected>" + selectList[i].show + "</option>";
			}else{
				optStr = "<option value='" + selectList[i].value + "'>" + selectList[i].show + "</option>";
			}
			$(optStr).appendTo($("#"+selectId));
		}
	}
}
</script>  
				<!--
@ Copyright IBM Corp. 2012
 --> 





 
 






 


 




 

 
	
	
<input type="hidden" name="requestigf" value=""/>
<input type="hidden" name="customercomment" value=""/>
<input type="hidden" name="selectedIGFItems" value=""/>
<input type="hidden" name="sentIGFFirmRates" value=""/>
<input type="hidden" name="needIGFRequest" id="needIGFRequest" value=""/>
<div class="ibm-rule"><hr /></div>
<!--end IBM issued -->
<!-- Default width is 390. To get 570 or 790 insert ibm-overlay-alt or ibm-overlay-alt-two after the class="ibm-common-overlay -->
<div class="ibm-common-overlay ibm-overlay-alt" id="requestfirmrates">
	<div class="ibm-head">
		<p><a class="ibm-common-overlay-close" href="#close">Close [x]</a></p>
	</div>
	<div class="ibm-body">
		<div class="ibm-main">
			<a class="ibm-access"><!-- Accessibility anchor --></a>
			<div class="ibm-container ibm-inner-data-table-last">
				<div class="ibm-container-body message-scroll2">
					<table cellspacing="2" cellpadding="2" border="0">
						<tr>
							<td>
								Your firm rate request will be reviewed by an IGF representative. 
								In the space below please enter any special comments you have about your financing request.
							</td>
						</tr>
						<tr>
							<td>
								<textarea name="rc_desc" id="rc_desc" cols="90" rows="3"></textarea>
							</td>
						</tr>
					</table>   
				</div>
			</div>
			<div class="ibm-buttons-row">
				<p>
					<input name="ibm-submit" type="button" class="ibm-btn-arrow-pri" onclick="javascript:submit_requestfirmrates({'form':'order_positions'});" value="Request Firm Rates" /><span class="ibm-sep">&nbsp;</span>
					<input value="Cancel" type="button" name="ibm-cancel" class="ibm-btn-cancel-sec" onclick="window.ibmCommon.Overlays.close(this)" />
				</p>
			</div>
		</div>
	</div>
	<div class="ibm-footer"></div>	
</div>	
	 
	
<div class="ibm-container">
                
				<div class="ibm-container-body ibm-two-column">
				<p id="igfshow1">Select options before selecting planning rates</p>
				 <p id="igfMessage" style="color:red;"></p>
				<div id="igfshow2" class="ibm-column ibm-first">
					<p><strong>Financing options</strong></p>
					<input type="hidden" name="IGF_Firm_Rate_offering_type" id="IGF_Firm_Rate_offering_type"/> 
					<input type="hidden" name="IGF_Firm_Rate_payment_term" id="IGF_Firm_Rate_payment_term"/> 
					<input type="hidden" name="IGF_Firm_Rate_credit_rating" id="IGF_Firm_Rate_credit_rating"/> 
					<input type="hidden" name="IGF_Firm_Rate_payment_profile" id="IGF_Firm_Rate_payment_profile"/>
					<input type="hidden" name="IGF_Firm_Rate_payment_frequency" id="IGF_Firm_Rate_payment_frequency"/>
					<input type="hidden" name="IGF_Firm_Rate_payment_frequency_wmb" id="IGF_Firm_Rate_payment_frequency_wmb"/>
				
				
				
				   <table border="0" cellpadding="2" cellspacing="0" width="100%">
                  
					  <tbody><tr>
						<td nowrap="nowrap">Offering:</td>

						<td><select name="IGF_Firm_Rate_offering_type_disp" id="IGF_Firm_Rate_offering_type_disp"  class="ibm-form-element-list" onchange="document.getElementById('IGF_Firm_Rate_offering_type').value=this.value;">
						
						</select>
						</td>
					  </tr>
					  <tr>
						<td nowrap="nowrap">Payment term:</td>
						<td><select name="IGF_Firm_Rate_payment_term_disp" id = "IGF_Firm_Rate_payment_term_disp" class="ibm-form-element-list">
						
						</select>
						</td>

					  </tr>
					  <tr>
						<td nowrap="nowrap">Credit rating:</td>
						<td><select name="IGF_Firm_Rate_credit_rating_disp" id="IGF_Firm_Rate_credit_rating_disp" class="ibm-form-element-list">
						
						</select>
						</td>
					  </tr>
					  <tr>
						<td nowrap="nowrap">Payment frequency:</td>
						<td><select name="IGF_Firm_Rate_payment_frequency_disp" id ="IGF_Firm_Rate_payment_frequency_disp" class="ibm-form-element-list">
						
						</select>
						</td>
					  </tr>
					  <tr>
						<td nowrap="nowrap">Payment profile:</td>
						<td><select name="IGF_Firm_Rate_payment_profile_disp" id="IGF_Firm_Rate_payment_profile_disp"  class="ibm-form-element-list">
						
						</select>
						</td>

					  </tr>
				  </tbody></table>
				
                    
				</div>
				<div id="igfshow3" class="ibm-column ibm-second">
				<p id="financingValueLabel"><strong>Value</strong></p>
				<!--BHALM00179587:Start of table change made by Arnab on 03/05/2013 to hide the Financing related price values in case of System Z product-->
					<table border="0" cellpadding="2" cellspacing="0" width="100%" id="financingPriceTable">
				<tbody><tr>
						<td>Net value:</td>

						<td></td>
					  </tr>
					  <tr>
						<td>Financed amount:</td>
						<td></td>
					  </tr>
					  <tr>

						<td>Total periodic payment:</td>
						<td> </td>
					  </tr>
					  </tbody>
					  </table>
					  <!--BHALM00179587:End of table change made by Arnab on 03/05/2013 to hide the Financing related price values in case of System Z product-->
					  <table border="0" cellpadding="2" cellspacing="0" width="100%">
					  <tbody>
					  <tr>
						<td colspan="2"><strong>Financing contract</strong></td>
					  </tr>
					  <tr>

						<td colspan="2"><div class="ibm-rule"><hr></div></td>
                        
					  </tr>
					  <tr>
						<td>Status:</td>
						<td>N/A</td>
					  </tr>
					  <tr>
						<td>Valid to date:</td>

						<td>N/A</td>
					  </tr>
					  <tr>
						<td>IGF CAL #:</td>
						<td>N/A</td>
					  </tr>
                      
					</tbody></table>

				</div>
				<table border="0" cellpadding="4" cellspacing="0" width="100%">
	<tbody>
	<tr>
		<td width="15%">
		
			<p class="ibm-ind-link" style="font-size: 1em;">
				<a class="ibm-forward-link" href="#" onclick="window.open ('/b2b_ibm/appbase/ibm/igf/IBM_ContactIGF_B2B.jsp', 'contactIgf', 'height=450,width=470,screenX=30,screenY=20,top=20,left=30,status=no,location=no,toolbar=no,directories=no,menubar=no,resizable=yes,scrollbars=auto' )">Contact IGF</a>
			</p>
		
		</td>		
			
				<td width="15%">
				<p class="ibm-ind-link" style="font-size: 1em;">
					<a class="ibm-forward-link" href="#" id="requestFirmRatesButtonId" onclick="window.open ('', 'contactIgf', 'height=450,width=470,screenX=30,screenY=20,top=20,left=30,status=no,location=no,toolbar=no,directories=no,menubar=no,resizable=yes,scrollbars=auto')">Request firm rates</a>
				</p>
				</td>
			

			<td width="15%">
				<p class="ibm-ind-link" style="font-size: 1em;">
					<a id="planningRatesButtonId" class="ibm-forward-link" href="#" onclick="showPlanningRates({'form':'showplanrates'});">Show planning rates</a>
				</p>
			</td>
			<td width="15%">
				<p class="ibm-ind-link" style="font-size: 1em;">
					<a id="resetDefaultButtonId" class="ibm-forward-link" href="#" onclick="reset_to_default();">Reset to default</a>
				</p>
			</td>		
	</tr>
	</tbody>
	</table>
	</div>
	
			<div class="ibm-container-body ibm-inner-data-table">
			<div class="ibm-inner-subhead"><h2>Cart items</h2></div>
			 <p align="right">Currency: EUR</p>
			  <table id="shopCart" class="ibm-data-table ibm-alternating treeTable" border="0" cellpadding="0" cellspacing="0" width="100%">

				<thead>
				  <tr class="initialized" valign="top">
					<th width="18">
					
					</th>
					<th width="44">Item #</th>
					<th width="34">Qty</th>
					<th width="76">Product ID</th>
					<th width="296">Description</th>
					<!-- Add by Ryan for Defect85191 Start... -->
					<!--BHALM00194342:Start of condition added by Arnab on 19/07/2013 to show/hide the price header label based on APLI flag-->
					
					<th width="97">Price</th>
					
					<!--BHALM00194342:End of condition added by Arnab on 19/07/2013 to show/hide the price header label based on APLI flag-->
					<!-- Add by Ryan for Defect85191 End. -->
					<th width="97">Planning rate</th>
					<th width="72">Periodic payment</th>
				  </tr>
				</thead>
				<tbody>
				
                 	
				 
                  
				</tbody>
			  </table>
              
			</div>
		   </div>
			  </div>
			 
			 
			 
			  <div class="ibm-container-body ibm-inner-data-table-last"  style="display: none;" id="tabbody6">
				<!--
@ Copyright IBM Corp. 2012
 -->
  


 
    
<div class="module-name">/b2b/ibm/quotation/IBM_Checkout.inc.jsp</div>    
  <table border="0" cellpadding="0" cellspacing="8" role="presentation">
  


  
  <tr>
    <td>
      <label for="customer number2" style="font-weight:bold;">Order reason:</span></label>
    </td>
    <td>
      <span>
       <select id="orderReason" name="ORDER_REASON">
        <option value="">******* Select ********</option>
          
		  			<option value="100"  >Replace: Cust.Sat.Consumer</option>
		  
		  			<option value="110"  >Replace: Cust.Sat. Option</option>
		  
		  			<option value="301"  >STM: Too few hours charged</option>
		  
		  			<option value="302"  >STM: Too few hours charged</option>
		  
		  			<option value="303"  >STM: Wrong activity</option>
		  
		  			<option value="304"  >STM: Wrong project</option>
		  
		  			<option value="305"  >STM: Wrong bill code</option>
		  
		  			<option value="500"  >Adjust: Acct Balancing for Deal Contract</option>
		  
		  			<option value="507"  >Adjust: Business Decision Credit</option>
		  
		  			<option value="510"  >Adjust: Country Unique Program</option>
		  
		  			<option value="518"  >Adjust: Contract Info Incorrect/Missing</option>
		  
		  			<option value="521"  >Adjust: Contract Non-Compliance</option>
		  
		  			<option value="522"  >Adjust: Contract.Target for BP Not Attnd</option>
		  
		  			<option value="524"  >Adjust: Customer Info Change in Part.Fun</option>
		  
		  			<option value="530"  >Adjust: Customer PO# Change</option>
		  
		  			<option value="533"  >Adjust: Customer Sales Concession</option>
		  
		  			<option value="536"  >Adjust: Customer Type Incorrect</option>
		  
		  			<option value="537"  >Adjust: Demo</option>
		  
		  			<option value="539"  >Adjust: Discount/Price Incorrect</option>
		  
		  			<option value="540"  >Adjust: Distributor Rebate</option>
		  
		  			<option value="555"  >Adjust: Lost in Transit</option>
		  
		  			<option value="557"  >Adjust: Manual Billing</option>
		  
		  			<option value="559"  >Adjust: Mktg Development Fund</option>
		  
		  			<option value="569"  >Adjust: Price Protection - Inventory</option>
		  
		  			<option value="570"  >Adjust: Price Protection - Shipments</option>
		  
		  			<option value="571"  >Adjust: Price Protection</option>
		  
		  			<option value="573"  >Adjust: QCP, Qtrly Commit. Plan-Dealers</option>
		  
		  			<option value="574"  >Adjust: Re-Stocking Fee</option>
		  
		  			<option value="582"  >Adjust: Short shipment</option>
		  
		  			<option value="584"  >Adjust: Special Bid</option>
		  
		  			<option value="585"  >Adjust: Special Bonus Payment</option>
		  
		  			<option value="586"  >Adjust: Tax adjustment</option>
		  
		  			<option value="588"  >Adjust: Promotion Claims</option>
		  
		  			<option value="589"  >Adjust: Purchase to Leasing/Fin Change</option>
		  
		  			<option value="590"  >Adjust: TMF Performance Rebate</option>
		  
		  			<option value="593"  >Adjust: "No VAT" Billing Adjustments</option>
		  
		  			<option value="596"  >Adjust: Retail Rebate Credit</option>
		  
		  			<option value="600"  >Adjust: Revenue Reversal</option>
		  
		  			<option value="603"  >Adjust: Credit - Rebill as IPA/APP</option>
		  
		  			<option value="604"  >Adjust: S&U Cancel, Cancel After Install</option>
		  
		  			<option value="607"  >Adjust: Duplicate Billing,CR for Dup Ord</option>
		  
		  			<option value="612"  >Adjust: S&U IBM Administrative Error</option>
		  
		  			<option value="615"  >Adjust: Installment Payment</option>
		  
		  			<option value="695"  >Adjust: System Error</option>
		  
		  			<option value="697"  >Adjust: Other Marketing Error</option>
		  
		  			<option value="699"  >Adjust: Other Admin Error</option>
		  
		  			<option value="75H"  >Sale to IGS</option>
		  
		  			<option value="799"  >Removal Order: Before Billing</option>
		  
		  			<option value="807"  >Return: Customer Satisfaction</option>
		  
		  			<option value="811"  >Return: GPS</option>
		  
		  			<option value="812"  >Return: Mechanical Replacement - USED</option>
		  
		  			<option value="813"  >Return: Poor Quality</option>
		  
		  			<option value="814"  >Return: 30 Day Money Back Gtee - NEW</option>
		  
		  			<option value="815"  >Return: 30 Day Money Back Gtee - USED</option>
		  
		  			<option value="816"  >Return: Admin Error</option>
		  
		  			<option value="817"  >Return: AAP BFP Process - USED</option>
		  
		  			<option value="821"  >Return: Customer Error - NEW</option>
		  
		  			<option value="822"  >Return: Customer Error - USED</option>
		  
		  			<option value="823"  >Return CSC Order - NEW</option>
		  
		  			<option value="825"  >Return: Damaged - IBM's Fault</option>
		  
		  			<option value="830"  >Return: Damaged in Transit - NEW</option>
		  
		  			<option value="835"  >Return: Defective - USED</option>
		  
		  			<option value="836"  >Return: DOA</option>
		  
		  			<option value="837"  >Return: Mechanical Replacement</option>
		  
		  			<option value="838"  >Return: Policy Replacement</option>
		  
		  			<option value="845"  >Return: Duplicate Order - NEW</option>
		  
		  			<option value="847"  >Return: IBM Internal</option>
		  
		  			<option value="850"  >Return: Late Cancel.(After Ship) - NEW</option>
		  
		  			<option value="855"  >Return: Mis-Shipment (Wrong Product) NEW</option>
		  
		  			<option value="856"  >Return: Mis-shipment (Wrong Product)USED</option>
		  
		  			<option value="859"  >Return: Overshipment - NEW</option>
		  
		  			<option value="862"  >Return: Product Recall</option>
		  
		  			<option value="864"  >Return: Sales Error - USED</option>
		  
		  			<option value="865"  >Return: Stock Rotation Adjust - NEW</option>
		  
		  			<option value="866"  >Return: Stock Rotation Adjust - USED</option>
		  
		  			<option value="867"  >Return: Try & Buy / On Loan - USED</option>
		  
		  			<option value="870"  >Return: Unauthorized - NEW</option>
		  
		  			<option value="871"  >Return: Unauthorized - USED</option>
		  
		  			<option value="900"  >Replace: CSPO/PE Cust Sat (POLICY)</option>
		  
		  			<option value="901"  >Replace: CSPO/PE Warranty (Mech Repl)</option>
		  
		  			<option value="902"  >Replace: Damaged (Carrier)</option>
		  
		  			<option value="903"  >Replace: Damaged (Concealed)</option>
		  
		  			<option value="905"  >Replace: Defective</option>
		  
		  			<option value="906"  >Replace: Wrong Ship</option>
		  
		  			<option value="916"  >Replace: Short Ship - Distrib. Error</option>
		  
		  			<option value="918"  >Replace: Short Ship - Vendor Error</option>
		  
		  			<option value="951"  >Permanent Evaluation</option>
		  
		  			<option value="959"  >New Order: BP Development</option>
		  
		  			<option value="961"  >New order: Demo</option>
		  
		  			<option value="962"  >New Order: Demo for BP</option>
		  
		  			<option value="965"  >New Order: IBM Internal Customers</option>
		  
		  			<option value="967"  >New Order: BP SB Quote - No PP</option>
		  
		  			<option value="972"  >New Order: Try and Buy / On Loan / Trial</option>
		  
		  			<option value="974"  >New Order: Test Period Changed</option>
		  
		  			<option value="983"  >Maintenance Supplies</option>
		  
		  			<option value="984"  >New Order: Reservation Order</option>
		  
		  			<option value="985"  >New Order: Direct Pricing Special Bid</option>
		  
		  			<option value="993"  >New Order: IBM Internal IGS</option>
		  
		  			<option value="995"  >New Order: IBM Internal Demo/Loan</option>
		  
		  			<option value="999"  >Other Order Reason</option>
		  
		  			<option value="B01"  >CRM Billing Plan</option>
		  
		  			<option value="B02"  >Invupd: Standard</option>
		  
		  			<option value="B03"  >Invupd: ESS/LMS SW</option>
		  
		  			<option value="B04"  >Invupd: Overshipment</option>
		  
		  			<option value="B05"  >Invupd: Wrong Shipment</option>
		  
		  			<option value="B06"  >Invupd: Pseudo Machine</option>
		  
		  			<option value="B07"  >Invupd: GARS Broker Sale</option>
		  
		  			<option value="B08"  >Invupd: Data Migration - Installed Inv.</option>
		  
		  			<option value="B09"  >Invupd: FA - IBM Internal DP</option>
		  
		  			<option value="B10"  >Invupd: FA - IBM Internal DP - Demo/Loan</option>
		  
		  			<option value="B11"  >Invupd: FA - IBM Internal DP - Try & Buy</option>
		  
		  			<option value="B12"  >Invupd: FA - IBM Research Lab</option>
		  
		  			<option value="B13"  >Invupd: FA - IBM Strategic Outsourcing (</option>
		  
		  			<option value="B14"  >Invupd: FA - OEM - DP - Internal Use</option>
		  
		  			<option value="B15"  >Invupd: FA - OEM - DP - Customer Use</option>
		  
		  			<option value="B16"  >Invupd: FA - OEM - PC - Internal Use</option>
		  
		  			<option value="B17"  >Invupd: FA - OEM - PC - Customer Use</option>
		  
		  			<option value="B18"  >FA: GARS Prod Receipts</option>
		  
		  			<option value="B19"  >Invupd:  GARS Product Receipts - IGF EoL</option>
		  
		  			<option value="B20"  >Invupd: GARS Prod Receipts - Cntry/Brand</option>
		  
		  			<option value="B21"  >Invupd: GARS Prod Receipts - Scrap</option>
		  
		  			<option value="B22"  >Invupd:  GARS Broker Sales - Existing</option>
		  
		  			<option value="B23"  >Invupd: DATA Migration - Field Inv.</option>
		  
		  			<option value="B24"  >Invupd: GARS Inv Adj-Lost</option>
		  
		  			<option value="B25"  >Invupd: GARS Inv Adj-Fnd</option>
		  
		  			<option value="B26"  >Invupd: GARS BP Rtn/Rev</option>
		  
		  			<option value="B27"  >Invupd: GARS Scrap Rev</option>
		  
		  			<option value="B28"  >New Order:  For SDI</option>
		  
		  			<option value="B29"  >Commissionaire  (GBI)</option>
		  
		  			<option value="B30"  >LMS:  Upgrade</option>
		  
		  			<option value="B31"  >LMS:  Media</option>
		  
		  			<option value="B32"  >LMS:  License Transfer</option>
		  
		  			<option value="B33"  >Strategic Outsourcing</option>
		  
		  			<option value="B34"  >CHIS Transaction</option>
		  
		  			<option value="B35"  >Adjust: Contract Termination</option>
		  
		  			<option value="B36"  >Adjust: RRC - Reduced Resources Charge</option>
		  
		  			<option value="B37"  >Adjust: Per-call Waive</option>
		  
		  			<option value="B38"  >Adjust: Fulfillment Admin Error</option>
		  
		  			<option value="B39"  >New Order: Cisco Try and Buy</option>
		  
		  			<option value="B40"  >Adjust: IGF AR Tax</option>
		  
		  			<option value="B41"  >New Order: ELA Substitution List</option>
		  
		  			<option value="B44"  >BP: MES BID wo SERIAL</option>
		  
		  			<option value="B80"  >Order Backlog Migration</option>
		  
		  			<option value="B91"  >Prof Serv: Incident Billing</option>
		  
		  			<option value="B92"  >Prof Serv: Time and Materials</option>
		  
		  			<option value="B93"  >Prof Serv: Milestone Billing</option>
		  
		  			<option value="B94"  >Prof Serv: Fixed Price</option>
		  
		  			<option value="B95"  >Prof Serv: <tbd></option>
		  
		  			<option value="B96"  >Prof Serv: <tbd></option>
		  
		  			<option value="B97"  >Prof Serv: <tbd></option>
		  
		  			<option value="B98"  >Prof Serv: <tbd></option>
		  
		  			<option value="B99"  >Prof Serv: <tbd></option>
		  
		  			<option value="BLB"  >Bottom Line Billing</option>
		  
		  			<option value="PBL"  >Pre-Bill</option>
		  
		  			<option value="UNF"  >Request for Risk Build, Unfirm Order</option>
		  
		  			<option value="VBI"  >SBWAP: Difference Clearing (Value)</option>
		  		 
        </select>		
      </span>
    </td>
  </tr>
  
  <tr> 
    <td>
      <label style="font-weight:bold;">Ship to:<span class="ibm-required">*</span></label>
    </td>  
    <td class="value">
     <input type="text"  class="textinput-large" id="SHIPTO1" name="SHIPTO1"  maxlength="40" onchange="initOvrdAddress('shipto_ovrd');updateDuplicate(this, 'SHIPTO');" value="BP10AIL4ST"/>
      <span id="SHIPTO1address" class="ibm-form-note" style="display:inline; margin-left:4px; margin-right:5px; color:#000;">K A P S K...Meisenweg...Emersacker</span>
      <br/>
      <span style="float: left; margin-left:2px; width:110px;">
        <p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
        <a href="javascript:void(0)" class="ibm-forward-link" onclick="viewDetails(document.forms['order_positions'].SHIPTO1.value, 'Ship to','shipto_ovrd',this);">View address</a>
        </p>
      </span>
      <span style="float: left; margin-left:2px; width:80px;">
        <p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
          <a href="javascript:void(0)" class="ibm-forward-link"  onclick="getHelpValuesPopupCustomer('createdocument','', 'SHIPTO1', document.forms.order_positions.SHIPTO1.name, document.forms.order_positions.SHIPTO1.value)">Search</a>
        </p>
      </span>
      <span style="float: left; margin-left:2px; width:80px;">
        <p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
        	<a href="#" id="SHIPTOA"  class="ibm-forward-link"  onclick="createClick(this,'SHIPTO1');" title="2">Create</a>
     	</p>
      </span>
		
		<span style="float: left; margin-left:2px; width:120px;">
		<p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
			<a href="javascript:void(0);" class="ibm-forward-link" onclick="addressOverrideClick('SHIPTO1', 'shipto_ovrd');">Address override</a>
		</p>
		</span>
		
      <br/> 
    </td>
  </tr> 
  	
		


 
 
  
 


 
 












    <tr>
       <td class="identifier"><label for="shipCond" style="font-weight:bold;">Shipping method</label><span class="ibm-required">*</span></td>
       <td class="value">
          
             <select class="select-large" name="shipCond" id="shipCond" >
                 <option value="">** Select **</option>
					 
                 <option value="91" >Maintenance Standard</option>
					
                 <option value="A3" >Air Svc Lvl A-PTP</option>
					
                 <option value="B1" >Air Svc Lvl B-DTD</option>
					
                 <option value="B4" >(NIP)Airsvc lvl2 PTP</option>
					
                 <option value="92" >MaintenanceEmergency</option>
					
                 <option value="DC" >SLA Direct Cust 1</option>
					
                 <option value="A2" >Air Svc Lvl A-DTP</option>
					
                 <option value="DD" >SLA Direct Cust 2</option>
					
                 <option value="WT" >World Trade Routing</option>
					
                 <option value="T1" >Call out Srvc level1</option>
					
                 <option value="94" selected='selected'>Standard</option>
					
                 <option value="A5" >(Air)Airsvc lvl1 PTP</option>
					
                 <option value="OC" >Ocean Shipment</option>
					
                 <option value="RA" >Regular Next Day AM</option>
					
                 <option value="ON" >Overnight</option>
					
                 <option value="T3" >Call out Srvc level3</option>
					
                 <option value="TO" >Call out Srvc Ocean</option>
					
                 <option value="OD" >Odyssey</option>
					
                 <option value="DB" >SLA Direct Cust 3</option>
					
                 <option value="GR" >Ground</option>
					
                 <option value="RT" >Returns</option>
					
                 <option value="RE" >Returns EDR</option>
					
                 <option value="3D" >3 Days</option>
					
                 <option value="B2" >Air Svc Lvl B-DTP</option>
					
                 <option value="A1" >Air Svc Lvl A-DTD</option>
					
                 <option value="A6" >(DHL) Air svc level</option>
					
                 <option value="95" >Customer Pick up</option>
					
                 <option value="96" >Expedite</option>
					
                 <option value="B6" >(DHL) Air svc level</option>
					
                 <option value="RL" >Returns Land</option>
					
                 <option value="ZC" >XCC CSC Issue Order</option>
					
                 <option value="90" >DO - US Defense Dept</option>
					
                 <option value="DA" >SLA Direct Cust 4</option>
					
                 <option value="I5" >India int Chennai</option>
					
                 <option value="2D" >2 Days</option>
					
                 <option value="B5" >(Air)Airsvc lvl2 PTP</option>
					
                 <option value="RI" >Returns Intercompany</option>
					
                 <option value="EL" ><150# Economy</option>
					
                 <option value="MF" >MFO/Unfirm Orders</option>
					
                 <option value="OP" >Overnight PM</option>
					
                 <option value="D1" >Air Svc lvl 1-PTD</option>
					
                 <option value="LD" >Land Shipment</option>
					
                 <option value="MR" >MFO/FOE Release</option>
					
                 <option value="B0" >Air Svc lvl 0-DTP</option>
					
                 <option value="R5" >Returns Broker 5</option>
					
                 <option value="EC" >Economy</option>
					
                 <option value="2G" >>150# 2 Days</option>
					
                 <option value="A0" >Air Svc lvl 0-DTD</option>
					
                 <option value="R4" >Returns Broker 4</option>
					
                 <option value="C3" >Air Svc Lvl C-PTP</option>
					
                 <option value="CS" >Customer Specified</option>
					
                 <option value="D4" >Air Svc lvl 4-PTD</option>
					
                 <option value="2P" >2 Days PM</option>
					
                 <option value="R3" >Returns Broker 3</option>
					
                 <option value="SL" ><150# Standard Overn</option>
					
                 <option value="1A" >1 Day AM</option>
					
                 <option value="C1" >Air Svc Lvl C-DTD</option>
					
                 <option value="93" >Electronic Delivery</option>
					
                 <option value="SC" >Scrap Shipments</option>
					
                 <option value="D3" >Air Svc lvl 3-PTD</option>
					
                 <option value="S2" >Short SLA SL2</option>
					
                 <option value="07" >Expedite Far East</option>
					
                 <option value="06" >Railroad</option>
					
                 <option value="C0" >Air Svc lvl 0-PTP</option>
					
                 <option value="05" >Hand carry</option>
					
                 <option value="RO" >Returns Ocean</option>
					
                 <option value="D2" >Air Svc lvl 2-PTD</option>
					
                 <option value="OT" >Outlet/Broker</option>
					
                 <option value="08" >Packaged Carrier</option>
					
                 <option value="C2" >Air Svc Lvl C-DTP</option>
					
                 <option value="CN" >China on Shentzen</option>
					
                 <option value="JP" >Japanese generic</option>
					
                 <option value="R2" >Returns Broker 2</option>
					
                 <option value="S3" >Short SLA SL3</option>
					
                 <option value="RR" >Repairs</option>
					
                 <option value="PL" ><150# Priority Overn</option>
					
                 <option value="35" >3-5 Day</option>
					
                 <option value="R6" >Returns Broker 6</option>
					
                 <option value="EX" >Land Exclusive Truck</option>
					
                 <option value="RX" >Returns Expedite</option>
					
                 <option value="C6" >(DHL) Air svc level</option>
					
                 <option value="01" >Service Level 1</option>
					
                 <option value="I4" >India int Hyderabad</option>
					
                 <option value="C5" >(Air)Airsvc lvl3 PTP</option>
					
                 <option value="2L" ><150# 2 Days</option>
					
                 <option value="RN" >Returns Normal</option>
					
                 <option value="D0" >Air Svc lvl 0-PTD</option>
					
                 <option value="C4" >(NIP)Airsvc lvl3 PTP</option>
					
                 <option value="I3" >India int Delhi</option>
					
                 <option value="2A" >2 Days AM</option>
					
                 <option value="OA" >Overnight AM</option>
					
                 <option value="4D" >4 Days</option>
					
                 <option value="I1" >India int Bangalore</option>
					
                 <option value="1D" >1 Day</option>
					
                 <option value="DG" >SLA Direct Cust 7</option>
					
                 <option value="99" >Prem.Res.Cust Pickup</option>
					
                 <option value="DF" >Deferred</option>
					
                 <option value="RP" >IPR returns</option>
					
                 <option value="89" >DX - US Defense Dept</option>
					
                 <option value="1G" >>150# 1 Day</option>
					
                 <option value="97" >Return</option>
					
                 <option value="R1" >Returns Broker 1</option>
					
                 <option value="SS" >Short SLA SL1</option>
					
                 <option value="02" >Service Level 2</option>
					
                 <option value="5D" >5 Days</option>
					
                 <option value="PA" >Priority Next Day AM</option>
					
                 <option value="PT" >Premier TopSeller</option>
					
                 <option value="WD" >Withdrawn</option>
					
                 <option value="B3" >Air Svc Lvl B-PTP</option>
					
                 <option value="D5" >Air Svc lvl 5-PTD</option>
					
                 <option value="3G" >>150# 3 Days</option>
					
                 <option value="03" >Exclusive Truck</option>
					
                 <option value="1P" >1 Day PM</option>
					
                 <option value="10" >Parcel Post</option>
					
                 <option value="RC" >Returns Customer PU</option>
					
                 <option value="I2" >India int Kolkatta</option>
					
                 <option value="A4" >(NIP)Airsvc lvl1 PTP</option>
					
                 <option value="98" >Premier Response</option>
					
             </select>
          
       </td>
    </tr>	                

  
  <tr> 
    <td class="identifier" style="min-width: 200px; min-width: 200px;" width="200px"> 
      <label style="font-weight:bold;">Delivery contact:<span class="ibm-required">*</span></label>
    </td> 
    <td class="value">
    
      <span style="float: left; margin-left:0px; width:100px;">Email</span>
      <span style="float: left; margin-left:7px; width:100px;">Name</span>
      <span style="float: left; margin-left:40px; width:100px;">Phone</span>
      <span style="float: left; margin-left:7px; width:100px;">Fax</span>	<br />
      <span style="float: left; margin-left:0px; width:100px;"><input name="Z9Bemail1"  onchange="updateDuplicate(this, 'Z9Bemail');" size="13" value=""  type="text" /></span>
      <span style="float: left; margin-left:7px; width:100px;"><input name="Z9Bname1"  onchange="updateDuplicate(this, 'Z9Bname');"  size="20" value=""  type="text" /></span>
      <span style="float: left; margin-left:40px; width:100px;"><input name="Z9Btel1"  onchange="updateDuplicate(this, 'Z9Btel');"  size="10" value=""  type="text" /></span>
      <span style="float: left; margin-left:7px; width:100px;"><input name="Z9Bfax1"  onchange="updateDuplicate(this, 'Z9Bfax');"  size="10" value=""  type="text" /></span>
      <label id="Z9BMessage" style="font-weight:bold;color:#f20"></label>
    </td>
  </tr>
  <tr>
    <td>
      <label style="font-weight:bold;">Delivery instructions:</label>
    </td>
    <td>
      <span>
        <textarea id="z_deliveryinstructions_h" name="z_deliveryinstructions_h"  cols="30" rows=""></textarea>
      </span>
    </td>
  </tr>
  <tr> 
    <td>
      <label style="font-weight:bold;">Bill to:<span class="ibm-required">*</span></label>
    </td> 
    <td class="value">
      <input type="text" class="textinput-large" id="BILLTO1"  name="BILLTO1" onchange="updateDuplicate(this, 'BILLTO');"  maxlength="40" value="BP10AIL4ST"/>
      <span class="ibm-form-note" style="display:inline; margin-left:4px; margin-right:5px; color:#000;">K A P S Ko...Meisenweg...Emersacker</span>
      <br/>
      <span style="float: left; margin-left:2px; width:110px;">
        <p class="ibm-ind-link" style="font-size:1em; padding:2 5;"> 
        <a href="javascript:void(0)" class="ibm-forward-link" onclick="viewDetails(document.forms['order_positions'].BILLTO1.value, 'Bill to',this);">View address</a>
        </p>
      </span>
      <span style="float: left; margin-left:2px; width:80px;">
        <p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
          <a href="javascript:void(0)" class="ibm-forward-link"  onclick="getHelpValuesPopupCustomer('createdocument','', 'BILLTO1', document.forms.order_positions.BILLTO1.name, document.forms.order_positions.BILLTO1.value)">Search</a>
        </p>
      </span>
      <span style="float: left; margin-left:2px; width:80px;">
        <p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
         <a href="#" id="BILLTOA" class="ibm-forward-link"  onclick="createClick(this,'BILLTO1');" title="1">Create</a>
        </p>
      </span>
      <br/>
    </td>
  </tr> 
  <tr> 
    <td class="identifier" width="200px"> 
      <label style="font-weight:bold;">Bill to Contact:<span class="ibm-required">*</span></label>
    </td> 
    <td class="value">
    
      <span style="float: left; margin-left:0px; width:100px;">Email</span>
      <span style="float: left; margin-left:7px; width:100px;">Name</span>
      <span style="float: left; margin-left:40px; width:100px;">Phone</span>
      <span style="float: left; margin-left:7px; width:100px;">Fax</span>	<br />
      <span style="float: left; margin-left:0px; width:100px;"><input name="ZBCemail1" onchange="updateDuplicate(this, 'ZBCemail');" size="13" value=""  type="text" /></span>
      <span style="float: left; margin-left:7px; width:100px;"><input name="ZBCname1" onchange="updateDuplicate(this, 'ZBCname');" size="20" value=""  type="text" /></span>
      <span style="float: left; margin-left:40px; width:100px;"><input name="ZBCtel1" onchange="updateDuplicate(this, 'ZBCtel');"  size="10" value=""  type="text" /></span>
      <span style="float: left; margin-left:7px; width:100px;"><input name="ZBCfax1" onchange="updateDuplicate(this, 'ZBCfax');" size="10" value=""  type="text" /></span>
      <br/>
      <label id="ZBCMessage" style="font-weight:bold;color:#f20"></label>
    </td>
  </tr> 

	
	<tr> 
    <td>
      <label style="font-weight:bold;">VNSP</label>
    </td> 
    <td class="value">
      <input type="text" class="textinput-large" id="ZPA2"  name="ZPA2" maxlength="40" value=""/>
      <span class="ibm-form-note" style="display:inline; margin-left:4px; margin-right:5px; color:#000;"></span>
      <br/>
      <span style="float: left; margin-left:2px; width:110px;">
        <p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
        
        
        <a href="javascript:void(0)" class="ibm-forward-link" onclick="viewDetails(document.forms['order_positions'].ZPA2.value, 'VNSP',this);">View address</a>
                
        </p>
      </span>
      <span style="float: left; margin-left:2px; width:80px;">
        <p class="ibm-ind-link" style="font-size:1em; padding:2 5;">
          <a href="javascript:void(0)" class="ibm-forward-link"  onclick="getHelpValuesPopupCustomer('createdocument','', 'ZPA2', document.forms.order_positions.ZPA2.name, document.forms.order_positions.ZPA2.value)">Search</a>
        </p>
      </span>
      <br/>
    </td>
	</tr> 
	

  
  <!--
@ Copyright IBM Corp. 2012
 -->




 



 
 











	<tr>
        <td class="identifier" > 
		
			<label for="customer number2" style="font-weight:bold;">BP PO:<span class="ibm-required">*</span></label>
		
        </td>
		<td class="value">
            <input type="text" class="textinput-large" maxlength="35" name="ibm_ponumber_header" id="poNumber" value=""/>
            <br/>
            <label id="bppotextmessage" style="font-weight:bold;color:#f20"></label>
		</td>
	</tr>

<tr>
  <td width="10%"><strong>P.O. date:</strong></td>
  <td>
    <input type="text"  value="" size="15" id="PO_DATE_SOLD_COPY_ID" name="PO_DATE_SOLD_COPY">
    <a title="Calendar link" href="javascript:void(0)" onclick="javascript:openCalendarWindow('dd.MM.yyyy', 'PO_DATE_SOLD_COPY_ID')" class="ibm-calendar-link"><img class="img-1" src="/b2b_ibm/b2b/ibm/Images/calendar.gif" alt="Calendar"/></a>
  </td>
</tr>


<!-- Begin Overlay for PO driven customer -->
<div class="ibm-common-overlay  ibm-overlay-alt" id="CheckOutHeaderPO">
			<div class="ibm-head">
			  <p><a class="ibm-common-overlay-close" href="#close"></a></p>
			</div>
			<div class="ibm-body">
			
			  <div class="ibm-main"> 
			  <a class="ibm-access">PO details</a>
				<p>Please enter the waiver indicator and exemption reason code for this order in applicable.</p>
					<div class="ibm-rule"> <hr /></div>
						
						
							<p><label style="font-weight:bold; wid">BP PO number:</label><span style="margin-left:109px;" class="po_PONumber" ></span></p>
						
						
						<p><label style="font-weight:bold;">PO validity dates:</label><span class="po_valid_date" style="margin-left:97px;"></span></p>
						<p><label style="font-weight:bold;">CPS number:</label><span class="po_CPSNumber" style="margin-left:122px;"></span></p>
						<div class="ibm-rule"><hr /></div>
					 <p>
						 <label for="waiverIndicator" style="font-weight:bold;">Waiver indicator:<span class="ibm-required">*</span></label>
						 	
							 <span class='waiver_indicator_Select' style="display:inline-block;margin-left:90px;">
								<input class="any_lever_wave_indi headerwaiverindicator" id="CheckOutHeaderwaiverIndicator"  name="_WAVE_INDI" type="checkbox" value="Yes"  onclick="clearPoFields('CheckOutHeader',false,true);" /> Yes
							 </span>
							 
							 
						
						
					 </p>
					 <p>
						 <label for="onetimepo" style="font-weight:bold;">One-time PO:<span class="ibm-required">*</span></label>
					
						<span class='onetimepocheck' style="display:inline-block;margin-left:110px;">
								<input class="any_lever_onetime_po headeronetimepo" id="CheckOutHeaderonetime_po"  name="onetimepo" type="checkbox" value="Yes"  onclick="clearPoFields('CheckOutHeader',false,false);" /> Yes
						</span>
					
					 </p>
			
					 <p>
					 <label for="First_name2" style="font-weight:bold;">Exemption reason code:<span class="ibm-required"  >*</span></label>
					 <span style="margin-left:53px;" >
					  <select name="_REASON_CODE" class="any_lever_reason_code headerReasonCode" id="CheckOutHeaderreasonCode">
						<option selected="selected" value=''>Select one</option>
						<option value="No">No</option>
						<option value="PO">PO</option>
					  </select>
					 </span></p>
					 
					 <p>
					 <label for="First_name2" style="font-weight:bold;">Waiver Exclusion List:</label><span class="WAIVER_BLACK_LIST" style="margin-left:10px;" ></span>
					</p>
					
					<p>
					 <label for="First_name2" style="font-weight:bold;">Business Function/LOB</label><span class="LOB_CODE" style="margin-left:67px;"></span>
					<br />
					<label for="First_name2" style="font-weight:bold;">code:</label>
					</p>
					 <p>
					 <label for="First_name2" style="font-weight:bold;">Business Function/LOB</label><span class="LOB_DESC" style="margin-left:67px;"></span>
					<br/><label for="First_name2" style="font-weight:bold;">description:</label>
					</p>
				   <p>
					 <label for="First_name2" style="font-weight:bold;">Approved amount:</label><span class="APPROVAL_AMOUT" style="margin-left:96px;" ></span>
					</p>
					
					<p>
					 <label for="First_name2" style="font-weight:bold;">Non-value based indicator:</label><span class="VALUE_BASE_INDICTOR" style="margin-left:50px;" ></span>
					</p>
                                      
					<p>
					 <label for="First_name2" style="clear: left;display: block;float: left;width: 150px;font-weight:bold;">PO driven client comments:</label>
					
					 <textarea name="textarea3" cols="40" rows="4" disabled="disabled" class="Po_Driven_Comment" style="margin-left:50px;" ></textarea>
					
				
					</p>

				<div class="ibm-buttons-row">
				  <p>
					<input value="Close"  id="_otherPoCloseButton" type="button" name="ibm-cancel" class="ibm-btn-cancel-sec" onclick="validateFieldAndClose('CheckOutHeader',this);" />
				  </p>
				</div>
			  </div>
			</div>

			<div class="ibm-footer"></div>
		  </div>       

<div class="ibm-common-overlay" id="CheckOutHeaderPOother"> 
<div class="ibm-head"> 
<p><a class="ibm-common-overlay-close" href="#close"></a></p> 
</div> 
<div class="ibm-body"> 
<div class="ibm-main"> 
<a class="ibm-access"></a> 
<p>If the PO number is not listed in the drop down menu, please enter it here.</p>
<p class="ibm-ind-error otherPO_Invalid_message" style="display:none;"><strong></strong></p>
		<p><label for="First_name">Enter PO Number:<span class="ibm-required">*</span></label><span><input id="CheckOutHeader_otherPoNumber" name="CheckOutHeader_otherPoNumber" size="35" maxlength="35" type="text" value=""/></span></p>
		
	
	<div class="ibm-buttons-row">
		<p><input value='Submit' type="button"  name="ibm-submit" class="ibm-btn-arrow-pri" onclick="validateOtherPoNumber('CheckOutHeader');" /><span class="ibm-sep">&nbsp;</span>
        
		<input value="Cancel" id="CheckOutHeader_otherPoCloseButton" type="button" name="ibm-cancel" class="ibm-btn-cancel-sec" onclick="window.ibmCommon.Overlays.close(this)"/></p>
	</div>
</div>
</div> 
<div class="ibm-footer"></div> 
</div>   


  
  
  <tr>
    <td>
      <label style="font-weight:bold;">End user PO:</label>
    </td>
    <td>
      <span>
        <input name="z_customerponumber" type="text" id="ZZYCPH" value="" size="40" />
      </span>
    </td>
  </tr>
  
                           	
	<tr> 
		<td style="font-weight:bold;">   
		  
				<label for="headerReqDeliveryDate">Requested arrival date (CRAD)::<span class="ibm-required">*</span></label>
		  
		</td>
		<td class="value">   
			
				  <input name="headerReqDeliveryDate" id="headerReqDeliveryDate" class="textinput-middle" type="text" 
				   			 		                           
						   value="26.02.2014"
				           
						   
						   />				  
				 
					   <a class="icon" href="#" onclick="openCalendarWindow('dd.MM.yyyy', 'headerReqDeliveryDate');">
						  <img class="img-1" src="/b2b_ibm/b2b/ibm/Images/calendar.gif" alt="Calendar"/>
					   </a>
												
			    
		</td>
	</tr>
  
  <tr>
    <td>
      <label style="font-weight:bold;">Payment method:<span class="ibm-required">*</span></label>
    </td>
    <td>
      <span>
        <select name="paymentType" 	id="paymentType" >
          <option value="">******* Select ********</option>
          
		  
		  			<option value="J"  selected="selected"  >A/R Commercial Fin (BP floor)</option>
		  	 
        </select>
        <BR/>
        <label id="paymentMessage" style="font-weight:bold;color:#f20"></label>
      </span>
    </td>
  </tr>
  <tr>
    <td>
      <label style="font-weight:bold;">Customer notes:</label>
    </td>
    <td>
      
      <textarea id="headerComment" name="headerComment" cols="40" rows="1"></textarea>
      
        <BR/>
        <label id="headerCommentMessage" style="font-weight:bold;color:#f20"></label>
    </td>
  </tr>
<!-- Moved by WC01-Look&Feel Hao Chen 20120217 start -->
  <tr>
    <td>
	    
    </td>
    <td>
	  <input name="ZZYROCPS" type="checkbox" id="ZZYROCPS"  />
      <label for="customer number2">Make this re-orderable</label>
    </td>
  </tr>
<!-- Moved by WC01-Look&Feel Hao Chen 20120217 end -->
  <tr>
    <td colspan="2">
      <p class="ibm-ind-link"><a class="ibm-forward-link" href="#" onclick="ibmCommon.Overlays.show('UOAS', this);return false;">Submit UOAS form</a></p>
    </td>
  </tr>	
</table>

<div class="ibm-common-overlay ibm-overlay-alt" id="UOAS" style="top: 1082.3px; left: -30.2px;">
	<div class="ibm-head">
		<p><a class="ibm-common-overlay-close" href="#close"></a></p>
	</div>
	<div class="ibm-body">
		<div class="ibm-main">
			<a class="ibm-access"><!-- Accessibility anchor --></a>
                      <p>
                        <label>Products on this quote are eligible for the UOAS process:</label>
                        <span>
                          <input name="UOAS" value="" checked="checked" type="radio">
                          Yes
                          <input name="UOAS" value="" type="radio">
                          No</span></p>
                        <span>
                        <p>If no products are eligible and you still want to submit for possible approval, please complete questions and activate the workflow on the dashboard</p>
                        <p>
                          <label for="FirmOrderCommDate">Firm order commitment date:<span class="ibm-required">*</span></label>
                          <span>
                            <input name="FirmOrderCommDate" id="FirmOrderCommDate" size="40" value="" type="text">
                            <a class="icon" href="#" onclick="openCalendarWindow('dd.MM.yyyy', 'FirmOrderCommDate');">
						  <img class="img-1" src="/b2b_ibm/b2b/ibm/Images/calendar.gif" alt="Calendar"/>
					   </a></span></p>
                        <p>
                          <label for="CusPlanInsDate">Customer planned install date:<span class="ibm-required">*</span></label>
                          <span>
                            <input name="CusPlanInsDate" id="CusPlanInsDate" size="40" value="" type="text">
                            <a class="icon" href="#" onclick="openCalendarWindow('dd.MM.yyyy', 'CusPlanInsDate');">
						  <img class="img-1" src="/b2b_ibm/b2b/ibm/Images/calendar.gif" alt="Calendar"/>
					   </a></span></p>
                        <p>
                          <label for="UPDATE">Customer requested arrival date (CRAD):<span class="ibm-required">*</span></label>
                          <span> 11 Mar 2011</span></p>
                        <p>
                          <label for="UPDATE">Delivery type:</label>
                          <span class="ibm-input-group">
                            <label for="UPDATE">Indirect</label>
                          </span></p>
                        <p>
                          <label>Exception category:<span class="ibm-required">*</span></label>
                          <span>
                            <select name="">
                              <option>Ship - DataPower HW Order</option>
                              <option>Ship -  Standard HW Order incl OIO</option>
                              <option>Ship - System z and High End Printers</option>
                              <option>Ship - BlueGene</option>
                              <option>Ship - InfoPrint</option>
                              <option>Ship - RSS</option>
                              <option>Ship - Storage</option>
                              <option>Ship - System X</option>
                              <option>Trial - Approval to Ship</option>
                            </select>
                          </span></p>
                        <p>
                          <label for="customer number2">Reason for exception:<span class="ibm-required">*</span></label>
                          <span>
                            <select name="">
                              <option>Contract/Order Letter Pending</option>
                              <option>PO Cust Auth Pending</option>
                              <option>Trial Agreement Pending</option>
                              <option>Contracts Being Signed</option>
                              <option>Missing Firm Order Element</option>
                              <option>IGF/Third Party Pending</option>
                            </select>
                          </span></p>
                        <p>
                          <label>Payment method:</label>
                          <span> Credit, Procurement, Debit Card (BOL)</span></p>
                        <p>
                          <label for="payment">Pre-payment/Down payment required?</label>
                          <span> No </span></p>
                        <p>
                          <label for="customer number2">Net value:</label>
                          <span> $15,500</span></p>
                        <p>
                          <label for="customer number2">Detailed explaination:<span class="ibm-required">*</span></label>
                          <span>
                            <textarea name="cust_name" cols="40" id="Cust_name"></textarea>
                          </span></p>
                      </span>
                      <div class="ibm-buttons-row">
                        <p>
                          <input value="Submit" name="ibm-submit" class="ibm-btn-arrow-pri" onclick="window.ibmCommon.Overlays.close(this)" type="button">
                          <span class="ibm-sep">&nbsp;</span>
                          <input value="Save as Draft" name="ibm-undo" class="ibm-btn-cancel-sec" onclick="window.ibmCommon.Overlays.close(this)" type="button">
                          <span class="ibm-sep">&nbsp;</span>
                          <input value="Cancel request" name="ibm-cancel" class="ibm-btn-cancel-sec" onclick="window.ibmCommon.Overlays.close(this)" type="button">
                          <span class="ibm-sep">&nbsp;</span>
                          <input value="Close" name="ibm-cancel" class="ibm-btn-cancel-sec" onclick="window.ibmCommon.Overlays.close(this)" type="button">
                        </p>
                      </div>
		</div>
	</div>
	<div class="ibm-footer"></div>
</div>   
			  </div>
			 
			  <div class="ibm-container-body ibm-inner-data-table-last"  style="display: block;" id="tabbody0">
				<h2 class="ibm-inner-subhead" id="lineitemcaption" style="display: block;">Line item details</h2>
		
				<p style="display:inline; float:right;"><strong>| &nbsp;&nbsp;Currency: EUR</strong></p>
				 
				
				<p class="ibm-ind-link" title="Download cart" style="display:inline; float:right;">
				<a id="downloadlink" alt="Download cart" class="ibm-download-link" href="#">&nbsp;</a>
				</p>

				
				<p class="ibm-ind-link" title="Print cart" style="display:inline; float:right;">
				<a id="printlink" alt="Print cart" class="ibm-print-link" href="#">&nbsp;</a>
				</p>
				
				
				<p class="ibm-ind-link" title="email cart" style="display:inline; float:right;">
				<a id="emaillink" alt="email cart" class="ibm-email-link" href="#">&nbsp;</a>
				</p>
				 <div> 
				  
<script type="text/javascript">
$(document).ready(function() { 
	 $("input[type=text][name^=product]").change( function() {
		if (  $(this).val() !=  $(this).nextAll("input[name^=product-cache]").val() ){//product be modified
			$(this).nextAll("input[name^=product-modify]").val("X");
		}
		else{
			$(this).nextAll("input[name^=product-modify]").val("");
		}
	 });
 });
</script> 
<div class="module-name">b2b/ibm/quotation/IBM_Cart_order.inc.jsp</div>
<a id="access-items" href="#access-buttons" title= "Items of the document. Click on this link to get to the buttons." accesskey="i"></a>
         
              <table border="0" cellpadding="0" cellspacing="0" width="100%" id="shopCart" class="ibm-data-table treeTable" style="clear:left" aria-labelledby="lineitemcaption">
		      <tr class="initialized">
                  <th class="opener">
                         
                                                 
                    <a class="icon" id="toggleAllItems" href='javascript: toggleAllItemDetails("rowdetail_all","rowdetail_", 5, 1)' >
    				<img class="img-1" id="rowdetail_allclose" style="DISPLAY: inline" src="/b2b_ibm/b2b/ibm/Images/tw_open.gif" alt="Hide All Additional Fields ">
	    			<img class="img-1" id="rowdetail_allopen" style="DISPLAY: none" src="/b2b_ibm/b2b/ibm/Images/tw_closed.gif" alt="Display All Additional Fields "></a>
		    			              
                  </th>
                  <th class="item" scope="col">Item #</th>
                  <th class="qty" scope="col">Qty</th>
                  <th class="product" scope="col">Product ID</th>                  
                   <th class="unit" scope="col" style="display:none">Unit</th>
                  <th class="desc" scope="col">Description</th>
				   
	                  
		              <th class="price" scope="col">Your price</th>
		              
                 
                  <th style="display:none"  class="delete" scope="col"><img src="/b2b_ibm/b2b/mimes/images/trash_icon.gif" alt="Check item for deletion, then choose update"/></th>
               </tr>               
                       










 




   <h2></h2>
         
          
             <tr id="row_1" class="">
              <td class="opener">&nbsp;
                 
                     <a id="toggleItem_1" href='javascript: toggle("rowdetail_1")' class="icon">
                        <img class="img-1" id="rowdetail_1close" style="DISPLAY: none" src="/b2b_ibm/b2b/ibm/Images/tw_open.gif" alt="Hide Additional Fields"/>
                        <img class="img-1" id="rowdetail_1open" style="DISPLAY: inline" src="/b2b_ibm/b2b/ibm/Images/tw_closed.gif" alt="Display Additional Fields"/></a>
                 
              </td><td class="item">&nbsp;</td><td class="qty">
                 
                    <input type="text" class="ibm-b2b-required-number" alt='Qty' name="quantity[1]" maxlength="8" value=""/>
                 
              </td><td class="product">
                 
	                 <input type="text" class="textinput-middle" name="product[1]" id="product[1]" value=""/>
					    	    				                 
              </td><td class="unit" style="display:none">
              
				 <input type="text" class="textinput-small" name="units[1]" value=""/>
              </td><td class="desc">&nbsp;</td>
                    
              <td class="price">&nbsp;</td><td style="display:none" class="delete">&nbsp;</td>           
          </tr>
          
          <tr id="rowdetail_1" class="odd-detail"  style="display:none;"  >
                <td class="select">&nbsp;</td><td class="detail" colspan="10">                
                   <div style="display: block;" id="itemdetails01">
                   <table class="item-detail">                    
      <tr><td class="identifier"> <label for="Parent item number">Parent item number</label></td> <td class="value"></td><td  colspan="2"></td></tr>				  
					  
   				  

<!--
@ Copyright IBM Corp. 2012
 -->


 


  




 
	<div class="module-name">b2b/ibm/quotation/IBM_Cart_order_customfields.inc.jsp</div>

<script type="text/javascript">  
var zzychanRole = "";
function oncheck(o,i)
{ 	   
  if(o.checked){ 
	document.getElementById("zzychanrole" + i).value = "13";
  } else {
	document.getElementById("zzychanrole" + i).value = zzychanRole == "13" ? "" : zzychanRole; 
  }
} 
</script>

	<tr> 
		<td class="identifier">
			<label>Designated machine: </label>								
		</td> 							
		<td class="value">
			<input type="text" class="textinput-middle" name="zdsgn[1]" id="zdsgn[1]" value=""/>        						
		</td> 	
		<td class="identifier" colspan="2" align="right">
			<label>Serial number: </label>
			<input type="text" class="textinput-middle" name="zsrlNum[1]" id="zsrlNum[1]" value=""/>
		</td> 							
	</tr>
	<tr> 
		<td class="identifier">
			<label>MES Plant order reference number: </label>
		</td> 							
		<td class="value">
			<input type="text" class="textinput-middle" name="zporNum[1]" id="zporNum[1]" value=""/>
		</td>
		<td colspan="2"></td>
	</tr> 

	<input type="hidden"  name="zpromotionid1[1]" id="zpromotionid1[1]" value=""/>
	<input type="hidden"  name="zpromotionid2[1]" id="zpromotionid2[1]" value=""/>
	<input type="hidden"  name="zpromotionid3[1]" id="zpromotionid3[1]" value=""/>
	<input type="hidden"  name="zpromotionid4[1]" id="zpromotionid4[1]" value=""/>
	<input type="hidden"  name="zpromotionid5[1]" id="zpromotionid5[1]" value=""/>

	<tr style="display: none">
		<td class="identifier" colspan="2">
			<input type="hidden" name="zdsp[1]" id="zdsp[1]" value=""  /> 
		</td>
	</tr>

	
			

			<tr style="display:none;"><td><input type="hidden" name="defect_136852_20121019" value="defect_136852_20121019"> <input type="hidden"  name="zzychanrole[1]" id="zzychanrole1" value=""/>
		</td> 
	</tr> 
	



	                  
	                      <tr><td class="identifier">
	                            <label for="reqdeliverydate[1]">Requested arrival date (CRAD):</label>
							  
	                        </td>
                            <td class="value" colspan="2">
	                          
	                             <input type="text" class="textinput-middle" id="reqdeliverydate[1]" name="reqdeliverydate[1]" value="26.02.2014"  />
							   
	                             <a class="icon" href="#" onclick="openCalendarWindow('dd.MM.yyyy', 'reqdeliverydate[1]');">
			                         <img class="img-1" src="/b2b_ibm/b2b/ibm/Images/calendar.gif" alt="Calendar"/></a>
	                          
	                        </td></tr>
	                    
                      
                      
 
 
					  
	

                      
	                      <tr class="message-data">                     
	                        <td class="identifier"><label for="comment[1]">Customer notes 
	                        </label><br/><textarea id="comment[1]" name="comment[1]" rows="2" cols="35"></textarea>
	                        </td>
                            <td class="identifier"><label for="comment[1]">Delivery instructions
                            </label><br/><textarea id="ibm_deliveryinstructions_item[1]" name="ibm_deliveryinstructions_item[1]" cols="35" rows="2"></textarea>
	                        </td>
                              
	                  	                  
				      
	                      <tr><td class="identifier"><label for="availinvent[1]">Available Inventory</label></td>
	                        <td class="value" colspan="2"><input type="text" class="textinput-middle" id="availinvent[1]" name="availinvent[1]" value="" disabled="disabled"/>
	                        </td><td></td></tr>
				        
                    </table>                    
                    
                   </div>
                   <div style="display: none;" id="itemdetails11">
                         
                   </div>
                   <div style="display: none;" id="itemdetails31">
                      <!--
@ Copyright IBM Corp. 2012
 -->










<div class="module-name">b2b/ibm/quotation/IBM_AddressesDetailsNew.inc.jsp</div>
<div class="ibm-container ibm-inner-data-table-last">
  <div class="ibm-container-body">
      <table width="100%" border="0" cellpadding="3" cellspacing="0" class="ibm-data-table">

  
  <tr>
    <td>
      <label for="contact" style="font-weight:bold;" >Ship to:</label>
    </td>
    <td>
      <span style="display:inline;">
        <input name="SHIPTO[1]" id="SHIPTO[1]" size="12" value=""  type="text" />
        <span class="ibm-form-note" style="display:inline;"></span>
        <table border="0" cellpadding="0" cellspacing="0">
          <tr>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('VAddress', this);return false;">View address</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link">
              <a href="javascript:void(0)" class="ibm-forward-link"  onclick="getHelpValuesPopupCustomerItem('createdocument','', 'SHIPTO', 'SHIPTO', 1)">Search
              </a>

            </p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link"  onclick="ibmCommon.Overlays.show('createAddress', this);return false;">Create</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('override', this);return false;">Address override &nbsp;&nbsp;</a></p></td>
          </tr>
        </table>
      </span>
    </td>
  </tr>
  
  <tr>
    <td>
      <label  style="font-weight:bold;">Delivery contact:</label>
    </td>
    <td>
      <span style="float: left; margin-left:0px; width:100px;">Email</span>
      <span style="float: left; margin-left:7px; width:150px;">Name</span>
      <span style="float: left; margin-left:7px; width:100px;">Phone</span>
      <span style="float: left; margin-left:7px; width:100px;">Fax</span>
      <input type="hidden" name="Z9Bbpid" value="PGENERICPF" />
      <br />
      <span style="float: left; margin-left:0px; width:100px;">
        <input name="Z9Bemail[1]" size="13" value=""  type="text" />
        <input type="hidden" name="oldZ9Bemail[1]" value="" />
      </span>
      <span style="float: left; margin-left:7px; width:150px;">
        <input name="Z9Bname[1]" size="23" value=""  type="text" />
        <input type="hidden" name="oldZ9Bname[1]" value="" />
      </span>
      <span style="float: left; margin-left:7px; width:100px;">
        <input name="Z9Btel[1]" size="13" value=""  type="text" />
        <input type="hidden" name="oldZ9Btel[1]" value="" />
      </span>
      <span style="float: left; margin-left:7px; width:100px;">
        <input name="Z9Bfax[1]" size="13" value=""  type="text" />
        <input type="hidden" name="oldZ9Bfax[1]" value="" />
      </span>
    </td>
  </tr>
  
  <tr>
    <td>
      <label for="contact" style="font-weight:bold;" >Install at:</label>
    </td>
    <td>
      <span style="display:inline;">
        <input name="ZZI[1]" id="ZZI[1]" size="12" value=""  type="text" />
        <span class="ibm-form-note" style="display:inline;"></span>
        <table border="0" cellpadding="0" cellspacing="0">
          <tr>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('VAddress', this);return false;">View address</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link">
              <a href="javascript:void(0)" class="ibm-forward-link"  onclick="getHelpValuesPopupCustomerItem('createdocument','', 'ZZI', 'ZZI', 1)">Search
              </a>

            </p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link"  onclick="ibmCommon.Overlays.show('createAddress', this);return false;">Create</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('override', this);return false;">Address override &nbsp;&nbsp;</a></p></td>
          </tr>
        </table>
      </span>
    </td>
  </tr>
  
  <tr>
    <td>
      <label for="contact" style="font-weight:bold;" >License to:</label>
    </td>
    <td>
      <span style="display:inline;">
        <input name="ZLT[1]" id="ZLT[1]" size="12" value=""  type="text" />
        <span class="ibm-form-note" style="display:inline;"></span>
        <table border="0" cellpadding="0" cellspacing="0">
          <tr>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('VAddress', this);return false;">View address</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link">
              <a href="javascript:void(0)" class="ibm-forward-link"  onclick="getHelpValuesPopupCustomerItem('createdocument','', 'ZLT', 'ZLT', 1)">Search
              </a>

            </p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link"  onclick="ibmCommon.Overlays.show('createAddress', this);return false;">Create</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('override', this);return false;">Address override &nbsp;&nbsp;</a></p></td>
          </tr>
        </table>
      </span>
    </td>
  </tr>
  
  <tr>
    <td>
      <label for="contact" style="font-weight:bold;" >Bill to:</label>
    </td>
    <td>
      <span style="display:inline;">
        <input name="BILLTO[1]" id="BILLTO[1]" size="12" value=""  type="text" />
        <span class="ibm-form-note" style="display:inline;"></span>
        <table border="0" cellpadding="0" cellspacing="0">
          <tr>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('VAddress', this);return false;">View address</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link">
              <a href="javascript:void(0)" class="ibm-forward-link"  onclick="getHelpValuesPopupCustomerItem('createdocument','', 'BILLTO', 'BILLTO', 1)">Search
              </a>

            </p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link"  onclick="ibmCommon.Overlays.show('createAddress', this);return false;">Create</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('override', this);return false;">Address override &nbsp;&nbsp;</a></p></td>
          </tr>
        </table>
      </span>
    </td>
  </tr>
  
  <tr>
    <td>
      <label  style="font-weight:bold;">Bill to Contact:</label>
    </td>
    <td>
      <span style="float: left; margin-left:0px; width:100px;">Email</span>
      <span style="float: left; margin-left:7px; width:150px;">Name</span>
      <span style="float: left; margin-left:7px; width:100px;">Phone</span>
      <span style="float: left; margin-left:7px; width:100px;">Fax</span>
      <input type="hidden" name="ZBCbpid" value="PGENERICPF" />
      <br />
      <span style="float: left; margin-left:0px; width:100px;">
        <input name="ZBCemail[1]" size="13" value=""  type="text" />
        <input type="hidden" name="oldZBCemail[1]" value="" />
      </span>
      <span style="float: left; margin-left:7px; width:150px;">
        <input name="ZBCname[1]" size="23" value=""  type="text" />
        <input type="hidden" name="oldZBCname[1]" value="" />
      </span>
      <span style="float: left; margin-left:7px; width:100px;">
        <input name="ZBCtel[1]" size="13" value=""  type="text" />
        <input type="hidden" name="oldZBCtel[1]" value="" />
      </span>
      <span style="float: left; margin-left:7px; width:100px;">
        <input name="ZBCfax[1]" size="13" value=""  type="text" />
        <input type="hidden" name="oldZBCfax[1]" value="" />
      </span>
    </td>
  </tr>
  
</table>
  </div>
</div>

                   </div></td></tr>
          
             <tr id="row_2" class="ibm-alt-row">
              <td class="opener">&nbsp;
                 
                     <a id="toggleItem_2" href='javascript: toggle("rowdetail_2")' class="icon">
                        <img class="img-1" id="rowdetail_2close" style="DISPLAY: none" src="/b2b_ibm/b2b/ibm/Images/tw_open.gif" alt="Hide Additional Fields"/>
                        <img class="img-1" id="rowdetail_2open" style="DISPLAY: inline" src="/b2b_ibm/b2b/ibm/Images/tw_closed.gif" alt="Display Additional Fields"/></a>
                 
              </td><td class="item">&nbsp;</td><td class="qty">
                 
                    <input type="text" class="ibm-b2b-required-number" alt='Qty' name="quantity[2]" maxlength="8" value=""/>
                 
              </td><td class="product">
                 
	                 <input type="text" class="textinput-middle" name="product[2]" id="product[2]" value=""/>
					    	    				                 
              </td><td class="unit" style="display:none">
              
				 <input type="text" class="textinput-small" name="units[2]" value=""/>
              </td><td class="desc">&nbsp;</td>
                    
              <td class="price">&nbsp;</td><td style="display:none" class="delete">&nbsp;</td>           
          </tr>
          
          <tr id="rowdetail_2" class="even-detail"  style="display:none;"  >
                <td class="select">&nbsp;</td><td class="detail" colspan="10">                
                   <div style="display: block;" id="itemdetails02">
                   <table class="item-detail">                    
      <tr><td class="identifier"> <label for="Parent item number">Parent item number</label></td> <td class="value"></td><td  colspan="2"></td></tr>				  
					  
   				  

<!--
@ Copyright IBM Corp. 2012
 -->


 


  




 
	<div class="module-name">b2b/ibm/quotation/IBM_Cart_order_customfields.inc.jsp</div>

<script type="text/javascript">  
var zzychanRole = "";
function oncheck(o,i)
{ 	   
  if(o.checked){ 
	document.getElementById("zzychanrole" + i).value = "13";
  } else {
	document.getElementById("zzychanrole" + i).value = zzychanRole == "13" ? "" : zzychanRole; 
  }
} 
</script>

	<tr> 
		<td class="identifier">
			<label>Designated machine: </label>								
		</td> 							
		<td class="value">
			<input type="text" class="textinput-middle" name="zdsgn[2]" id="zdsgn[2]" value=""/>        						
		</td> 	
		<td class="identifier" colspan="2" align="right">
			<label>Serial number: </label>
			<input type="text" class="textinput-middle" name="zsrlNum[2]" id="zsrlNum[2]" value=""/>
		</td> 							
	</tr>
	<tr> 
		<td class="identifier">
			<label>MES Plant order reference number: </label>
		</td> 							
		<td class="value">
			<input type="text" class="textinput-middle" name="zporNum[2]" id="zporNum[2]" value=""/>
		</td>
		<td colspan="2"></td>
	</tr> 

	<input type="hidden"  name="zpromotionid1[2]" id="zpromotionid1[2]" value=""/>
	<input type="hidden"  name="zpromotionid2[2]" id="zpromotionid2[2]" value=""/>
	<input type="hidden"  name="zpromotionid3[2]" id="zpromotionid3[2]" value=""/>
	<input type="hidden"  name="zpromotionid4[2]" id="zpromotionid4[2]" value=""/>
	<input type="hidden"  name="zpromotionid5[2]" id="zpromotionid5[2]" value=""/>

	<tr style="display: none">
		<td class="identifier" colspan="2">
			<input type="hidden" name="zdsp[2]" id="zdsp[2]" value=""  /> 
		</td>
	</tr>

	
			

			<tr style="display:none;"><td><input type="hidden" name="defect_136852_20121019" value="defect_136852_20121019"> <input type="hidden"  name="zzychanrole[2]" id="zzychanrole2" value=""/>
		</td> 
	</tr> 
	



	                  
	                      <tr><td class="identifier">
	                            <label for="reqdeliverydate[2]">Requested arrival date (CRAD):</label>
							  
	                        </td>
                            <td class="value" colspan="2">
	                          
	                             <input type="text" class="textinput-middle" id="reqdeliverydate[2]" name="reqdeliverydate[2]" value="26.02.2014"  />
							   
	                             <a class="icon" href="#" onclick="openCalendarWindow('dd.MM.yyyy', 'reqdeliverydate[2]');">
			                         <img class="img-1" src="/b2b_ibm/b2b/ibm/Images/calendar.gif" alt="Calendar"/></a>
	                          
	                        </td></tr>
	                    
                      
                      
 
 
					  
	

                      
	                      <tr class="message-data">                     
	                        <td class="identifier"><label for="comment[2]">Customer notes 
	                        </label><br/><textarea id="comment[2]" name="comment[2]" rows="2" cols="35"></textarea>
	                        </td>
                            <td class="identifier"><label for="comment[2]">Delivery instructions
                            </label><br/><textarea id="ibm_deliveryinstructions_item[2]" name="ibm_deliveryinstructions_item[2]" cols="35" rows="2"></textarea>
	                        </td>
                              
	                  	                  
				      
	                      <tr><td class="identifier"><label for="availinvent[2]">Available Inventory</label></td>
	                        <td class="value" colspan="2"><input type="text" class="textinput-middle" id="availinvent[2]" name="availinvent[2]" value="" disabled="disabled"/>
	                        </td><td></td></tr>
				        
                    </table>                    
                    
                   </div>
                   <div style="display: none;" id="itemdetails12">
                         
                   </div>
                   <div style="display: none;" id="itemdetails32">
                      <!--
@ Copyright IBM Corp. 2012
 -->










<div class="module-name">b2b/ibm/quotation/IBM_AddressesDetailsNew.inc.jsp</div>
<div class="ibm-container ibm-inner-data-table-last">
  <div class="ibm-container-body">
      <table width="100%" border="0" cellpadding="3" cellspacing="0" class="ibm-data-table">

  
  <tr>
    <td>
      <label for="contact" style="font-weight:bold;" >Ship to:</label>
    </td>
    <td>
      <span style="display:inline;">
        <input name="SHIPTO[2]" id="SHIPTO[2]" size="12" value=""  type="text" />
        <span class="ibm-form-note" style="display:inline;"></span>
        <table border="0" cellpadding="0" cellspacing="0">
          <tr>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('VAddress', this);return false;">View address</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link">
              <a href="javascript:void(0)" class="ibm-forward-link"  onclick="getHelpValuesPopupCustomerItem('createdocument','', 'SHIPTO', 'SHIPTO', 2)">Search
              </a>

            </p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link"  onclick="ibmCommon.Overlays.show('createAddress', this);return false;">Create</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('override', this);return false;">Address override &nbsp;&nbsp;</a></p></td>
          </tr>
        </table>
      </span>
    </td>
  </tr>
  
  <tr>
    <td>
      <label  style="font-weight:bold;">Delivery contact:</label>
    </td>
    <td>
      <span style="float: left; margin-left:0px; width:100px;">Email</span>
      <span style="float: left; margin-left:7px; width:150px;">Name</span>
      <span style="float: left; margin-left:7px; width:100px;">Phone</span>
      <span style="float: left; margin-left:7px; width:100px;">Fax</span>
      <input type="hidden" name="Z9Bbpid" value="PGENERICPF" />
      <br />
      <span style="float: left; margin-left:0px; width:100px;">
        <input name="Z9Bemail[2]" size="13" value=""  type="text" />
        <input type="hidden" name="oldZ9Bemail[2]" value="" />
      </span>
      <span style="float: left; margin-left:7px; width:150px;">
        <input name="Z9Bname[2]" size="23" value=""  type="text" />
        <input type="hidden" name="oldZ9Bname[2]" value="" />
      </span>
      <span style="float: left; margin-left:7px; width:100px;">
        <input name="Z9Btel[2]" size="13" value=""  type="text" />
        <input type="hidden" name="oldZ9Btel[2]" value="" />
      </span>
      <span style="float: left; margin-left:7px; width:100px;">
        <input name="Z9Bfax[2]" size="13" value=""  type="text" />
        <input type="hidden" name="oldZ9Bfax[2]" value="" />
      </span>
    </td>
  </tr>
  
  <tr>
    <td>
      <label for="contact" style="font-weight:bold;" >Install at:</label>
    </td>
    <td>
      <span style="display:inline;">
        <input name="ZZI[2]" id="ZZI[2]" size="12" value=""  type="text" />
        <span class="ibm-form-note" style="display:inline;"></span>
        <table border="0" cellpadding="0" cellspacing="0">
          <tr>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('VAddress', this);return false;">View address</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link">
              <a href="javascript:void(0)" class="ibm-forward-link"  onclick="getHelpValuesPopupCustomerItem('createdocument','', 'ZZI', 'ZZI', 2)">Search
              </a>

            </p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link"  onclick="ibmCommon.Overlays.show('createAddress', this);return false;">Create</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('override', this);return false;">Address override &nbsp;&nbsp;</a></p></td>
          </tr>
        </table>
      </span>
    </td>
  </tr>
  
  <tr>
    <td>
      <label for="contact" style="font-weight:bold;" >License to:</label>
    </td>
    <td>
      <span style="display:inline;">
        <input name="ZLT[2]" id="ZLT[2]" size="12" value=""  type="text" />
        <span class="ibm-form-note" style="display:inline;"></span>
        <table border="0" cellpadding="0" cellspacing="0">
          <tr>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('VAddress', this);return false;">View address</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link">
              <a href="javascript:void(0)" class="ibm-forward-link"  onclick="getHelpValuesPopupCustomerItem('createdocument','', 'ZLT', 'ZLT', 2)">Search
              </a>

            </p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link"  onclick="ibmCommon.Overlays.show('createAddress', this);return false;">Create</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('override', this);return false;">Address override &nbsp;&nbsp;</a></p></td>
          </tr>
        </table>
      </span>
    </td>
  </tr>
  
  <tr>
    <td>
      <label for="contact" style="font-weight:bold;" >Bill to:</label>
    </td>
    <td>
      <span style="display:inline;">
        <input name="BILLTO[2]" id="BILLTO[2]" size="12" value=""  type="text" />
        <span class="ibm-form-note" style="display:inline;"></span>
        <table border="0" cellpadding="0" cellspacing="0">
          <tr>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('VAddress', this);return false;">View address</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link">
              <a href="javascript:void(0)" class="ibm-forward-link"  onclick="getHelpValuesPopupCustomerItem('createdocument','', 'BILLTO', 'BILLTO', 2)">Search
              </a>

            </p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link"  onclick="ibmCommon.Overlays.show('createAddress', this);return false;">Create</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('override', this);return false;">Address override &nbsp;&nbsp;</a></p></td>
          </tr>
        </table>
      </span>
    </td>
  </tr>
  
  <tr>
    <td>
      <label  style="font-weight:bold;">Bill to Contact:</label>
    </td>
    <td>
      <span style="float: left; margin-left:0px; width:100px;">Email</span>
      <span style="float: left; margin-left:7px; width:150px;">Name</span>
      <span style="float: left; margin-left:7px; width:100px;">Phone</span>
      <span style="float: left; margin-left:7px; width:100px;">Fax</span>
      <input type="hidden" name="ZBCbpid" value="PGENERICPF" />
      <br />
      <span style="float: left; margin-left:0px; width:100px;">
        <input name="ZBCemail[2]" size="13" value=""  type="text" />
        <input type="hidden" name="oldZBCemail[2]" value="" />
      </span>
      <span style="float: left; margin-left:7px; width:150px;">
        <input name="ZBCname[2]" size="23" value=""  type="text" />
        <input type="hidden" name="oldZBCname[2]" value="" />
      </span>
      <span style="float: left; margin-left:7px; width:100px;">
        <input name="ZBCtel[2]" size="13" value=""  type="text" />
        <input type="hidden" name="oldZBCtel[2]" value="" />
      </span>
      <span style="float: left; margin-left:7px; width:100px;">
        <input name="ZBCfax[2]" size="13" value=""  type="text" />
        <input type="hidden" name="oldZBCfax[2]" value="" />
      </span>
    </td>
  </tr>
  
</table>
  </div>
</div>

                   </div></td></tr>
          
             <tr id="row_3" class="">
              <td class="opener">&nbsp;
                 
                     <a id="toggleItem_3" href='javascript: toggle("rowdetail_3")' class="icon">
                        <img class="img-1" id="rowdetail_3close" style="DISPLAY: none" src="/b2b_ibm/b2b/ibm/Images/tw_open.gif" alt="Hide Additional Fields"/>
                        <img class="img-1" id="rowdetail_3open" style="DISPLAY: inline" src="/b2b_ibm/b2b/ibm/Images/tw_closed.gif" alt="Display Additional Fields"/></a>
                 
              </td><td class="item">&nbsp;</td><td class="qty">
                 
                    <input type="text" class="ibm-b2b-required-number" alt='Qty' name="quantity[3]" maxlength="8" value=""/>
                 
              </td><td class="product">
                 
	                 <input type="text" class="textinput-middle" name="product[3]" id="product[3]" value=""/>
					    	    				                 
              </td><td class="unit" style="display:none">
              
				 <input type="text" class="textinput-small" name="units[3]" value=""/>
              </td><td class="desc">&nbsp;</td>
                    
              <td class="price">&nbsp;</td><td style="display:none" class="delete">&nbsp;</td>           
          </tr>
          
          <tr id="rowdetail_3" class="odd-detail"  style="display:none;"  >
                <td class="select">&nbsp;</td><td class="detail" colspan="10">                
                   <div style="display: block;" id="itemdetails03">
                   <table class="item-detail">                    
      <tr><td class="identifier"> <label for="Parent item number">Parent item number</label></td> <td class="value"></td><td  colspan="2"></td></tr>				  
					  
   				  

<!--
@ Copyright IBM Corp. 2012
 -->


 


  




 
	<div class="module-name">b2b/ibm/quotation/IBM_Cart_order_customfields.inc.jsp</div>

<script type="text/javascript">  
var zzychanRole = "";
function oncheck(o,i)
{ 	   
  if(o.checked){ 
	document.getElementById("zzychanrole" + i).value = "13";
  } else {
	document.getElementById("zzychanrole" + i).value = zzychanRole == "13" ? "" : zzychanRole; 
  }
} 
</script>

	<tr> 
		<td class="identifier">
			<label>Designated machine: </label>								
		</td> 							
		<td class="value">
			<input type="text" class="textinput-middle" name="zdsgn[3]" id="zdsgn[3]" value=""/>        						
		</td> 	
		<td class="identifier" colspan="2" align="right">
			<label>Serial number: </label>
			<input type="text" class="textinput-middle" name="zsrlNum[3]" id="zsrlNum[3]" value=""/>
		</td> 							
	</tr>
	<tr> 
		<td class="identifier">
			<label>MES Plant order reference number: </label>
		</td> 							
		<td class="value">
			<input type="text" class="textinput-middle" name="zporNum[3]" id="zporNum[3]" value=""/>
		</td>
		<td colspan="2"></td>
	</tr> 

	<input type="hidden"  name="zpromotionid1[3]" id="zpromotionid1[3]" value=""/>
	<input type="hidden"  name="zpromotionid2[3]" id="zpromotionid2[3]" value=""/>
	<input type="hidden"  name="zpromotionid3[3]" id="zpromotionid3[3]" value=""/>
	<input type="hidden"  name="zpromotionid4[3]" id="zpromotionid4[3]" value=""/>
	<input type="hidden"  name="zpromotionid5[3]" id="zpromotionid5[3]" value=""/>

	<tr style="display: none">
		<td class="identifier" colspan="2">
			<input type="hidden" name="zdsp[3]" id="zdsp[3]" value=""  /> 
		</td>
	</tr>

	
			

			<tr style="display:none;"><td><input type="hidden" name="defect_136852_20121019" value="defect_136852_20121019"> <input type="hidden"  name="zzychanrole[3]" id="zzychanrole3" value=""/>
		</td> 
	</tr> 
	



	                  
	                      <tr><td class="identifier">
	                            <label for="reqdeliverydate[3]">Requested arrival date (CRAD):</label>
							  
	                        </td>
                            <td class="value" colspan="2">
	                          
	                             <input type="text" class="textinput-middle" id="reqdeliverydate[3]" name="reqdeliverydate[3]" value="26.02.2014"  />
							   
	                             <a class="icon" href="#" onclick="openCalendarWindow('dd.MM.yyyy', 'reqdeliverydate[3]');">
			                         <img class="img-1" src="/b2b_ibm/b2b/ibm/Images/calendar.gif" alt="Calendar"/></a>
	                          
	                        </td></tr>
	                    
                      
                      
 
 
					  
	

                      
	                      <tr class="message-data">                     
	                        <td class="identifier"><label for="comment[3]">Customer notes 
	                        </label><br/><textarea id="comment[3]" name="comment[3]" rows="2" cols="35"></textarea>
	                        </td>
                            <td class="identifier"><label for="comment[3]">Delivery instructions
                            </label><br/><textarea id="ibm_deliveryinstructions_item[3]" name="ibm_deliveryinstructions_item[3]" cols="35" rows="2"></textarea>
	                        </td>
                              
	                  	                  
				      
	                      <tr><td class="identifier"><label for="availinvent[3]">Available Inventory</label></td>
	                        <td class="value" colspan="2"><input type="text" class="textinput-middle" id="availinvent[3]" name="availinvent[3]" value="" disabled="disabled"/>
	                        </td><td></td></tr>
				        
                    </table>                    
                    
                   </div>
                   <div style="display: none;" id="itemdetails13">
                         
                   </div>
                   <div style="display: none;" id="itemdetails33">
                      <!--
@ Copyright IBM Corp. 2012
 -->










<div class="module-name">b2b/ibm/quotation/IBM_AddressesDetailsNew.inc.jsp</div>
<div class="ibm-container ibm-inner-data-table-last">
  <div class="ibm-container-body">
      <table width="100%" border="0" cellpadding="3" cellspacing="0" class="ibm-data-table">

  
  <tr>
    <td>
      <label for="contact" style="font-weight:bold;" >Ship to:</label>
    </td>
    <td>
      <span style="display:inline;">
        <input name="SHIPTO[3]" id="SHIPTO[3]" size="12" value=""  type="text" />
        <span class="ibm-form-note" style="display:inline;"></span>
        <table border="0" cellpadding="0" cellspacing="0">
          <tr>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('VAddress', this);return false;">View address</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link">
              <a href="javascript:void(0)" class="ibm-forward-link"  onclick="getHelpValuesPopupCustomerItem('createdocument','', 'SHIPTO', 'SHIPTO', 3)">Search
              </a>

            </p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link"  onclick="ibmCommon.Overlays.show('createAddress', this);return false;">Create</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('override', this);return false;">Address override &nbsp;&nbsp;</a></p></td>
          </tr>
        </table>
      </span>
    </td>
  </tr>
  
  <tr>
    <td>
      <label  style="font-weight:bold;">Delivery contact:</label>
    </td>
    <td>
      <span style="float: left; margin-left:0px; width:100px;">Email</span>
      <span style="float: left; margin-left:7px; width:150px;">Name</span>
      <span style="float: left; margin-left:7px; width:100px;">Phone</span>
      <span style="float: left; margin-left:7px; width:100px;">Fax</span>
      <input type="hidden" name="Z9Bbpid" value="PGENERICPF" />
      <br />
      <span style="float: left; margin-left:0px; width:100px;">
        <input name="Z9Bemail[3]" size="13" value=""  type="text" />
        <input type="hidden" name="oldZ9Bemail[3]" value="" />
      </span>
      <span style="float: left; margin-left:7px; width:150px;">
        <input name="Z9Bname[3]" size="23" value=""  type="text" />
        <input type="hidden" name="oldZ9Bname[3]" value="" />
      </span>
      <span style="float: left; margin-left:7px; width:100px;">
        <input name="Z9Btel[3]" size="13" value=""  type="text" />
        <input type="hidden" name="oldZ9Btel[3]" value="" />
      </span>
      <span style="float: left; margin-left:7px; width:100px;">
        <input name="Z9Bfax[3]" size="13" value=""  type="text" />
        <input type="hidden" name="oldZ9Bfax[3]" value="" />
      </span>
    </td>
  </tr>
  
  <tr>
    <td>
      <label for="contact" style="font-weight:bold;" >Install at:</label>
    </td>
    <td>
      <span style="display:inline;">
        <input name="ZZI[3]" id="ZZI[3]" size="12" value=""  type="text" />
        <span class="ibm-form-note" style="display:inline;"></span>
        <table border="0" cellpadding="0" cellspacing="0">
          <tr>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('VAddress', this);return false;">View address</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link">
              <a href="javascript:void(0)" class="ibm-forward-link"  onclick="getHelpValuesPopupCustomerItem('createdocument','', 'ZZI', 'ZZI', 3)">Search
              </a>

            </p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link"  onclick="ibmCommon.Overlays.show('createAddress', this);return false;">Create</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('override', this);return false;">Address override &nbsp;&nbsp;</a></p></td>
          </tr>
        </table>
      </span>
    </td>
  </tr>
  
  <tr>
    <td>
      <label for="contact" style="font-weight:bold;" >License to:</label>
    </td>
    <td>
      <span style="display:inline;">
        <input name="ZLT[3]" id="ZLT[3]" size="12" value=""  type="text" />
        <span class="ibm-form-note" style="display:inline;"></span>
        <table border="0" cellpadding="0" cellspacing="0">
          <tr>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('VAddress', this);return false;">View address</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link">
              <a href="javascript:void(0)" class="ibm-forward-link"  onclick="getHelpValuesPopupCustomerItem('createdocument','', 'ZLT', 'ZLT', 3)">Search
              </a>

            </p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link"  onclick="ibmCommon.Overlays.show('createAddress', this);return false;">Create</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('override', this);return false;">Address override &nbsp;&nbsp;</a></p></td>
          </tr>
        </table>
      </span>
    </td>
  </tr>
  
  <tr>
    <td>
      <label for="contact" style="font-weight:bold;" >Bill to:</label>
    </td>
    <td>
      <span style="display:inline;">
        <input name="BILLTO[3]" id="BILLTO[3]" size="12" value=""  type="text" />
        <span class="ibm-form-note" style="display:inline;"></span>
        <table border="0" cellpadding="0" cellspacing="0">
          <tr>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('VAddress', this);return false;">View address</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link">
              <a href="javascript:void(0)" class="ibm-forward-link"  onclick="getHelpValuesPopupCustomerItem('createdocument','', 'BILLTO', 'BILLTO', 3)">Search
              </a>

            </p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link"  onclick="ibmCommon.Overlays.show('createAddress', this);return false;">Create</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('override', this);return false;">Address override &nbsp;&nbsp;</a></p></td>
          </tr>
        </table>
      </span>
    </td>
  </tr>
  
  <tr>
    <td>
      <label  style="font-weight:bold;">Bill to Contact:</label>
    </td>
    <td>
      <span style="float: left; margin-left:0px; width:100px;">Email</span>
      <span style="float: left; margin-left:7px; width:150px;">Name</span>
      <span style="float: left; margin-left:7px; width:100px;">Phone</span>
      <span style="float: left; margin-left:7px; width:100px;">Fax</span>
      <input type="hidden" name="ZBCbpid" value="PGENERICPF" />
      <br />
      <span style="float: left; margin-left:0px; width:100px;">
        <input name="ZBCemail[3]" size="13" value=""  type="text" />
        <input type="hidden" name="oldZBCemail[3]" value="" />
      </span>
      <span style="float: left; margin-left:7px; width:150px;">
        <input name="ZBCname[3]" size="23" value=""  type="text" />
        <input type="hidden" name="oldZBCname[3]" value="" />
      </span>
      <span style="float: left; margin-left:7px; width:100px;">
        <input name="ZBCtel[3]" size="13" value=""  type="text" />
        <input type="hidden" name="oldZBCtel[3]" value="" />
      </span>
      <span style="float: left; margin-left:7px; width:100px;">
        <input name="ZBCfax[3]" size="13" value=""  type="text" />
        <input type="hidden" name="oldZBCfax[3]" value="" />
      </span>
    </td>
  </tr>
  
</table>
  </div>
</div>

                   </div></td></tr>
          
             <tr id="row_4" class="ibm-alt-row">
              <td class="opener">&nbsp;
                 
                     <a id="toggleItem_4" href='javascript: toggle("rowdetail_4")' class="icon">
                        <img class="img-1" id="rowdetail_4close" style="DISPLAY: none" src="/b2b_ibm/b2b/ibm/Images/tw_open.gif" alt="Hide Additional Fields"/>
                        <img class="img-1" id="rowdetail_4open" style="DISPLAY: inline" src="/b2b_ibm/b2b/ibm/Images/tw_closed.gif" alt="Display Additional Fields"/></a>
                 
              </td><td class="item">&nbsp;</td><td class="qty">
                 
                    <input type="text" class="ibm-b2b-required-number" alt='Qty' name="quantity[4]" maxlength="8" value=""/>
                 
              </td><td class="product">
                 
	                 <input type="text" class="textinput-middle" name="product[4]" id="product[4]" value=""/>
					    	    				                 
              </td><td class="unit" style="display:none">
              
				 <input type="text" class="textinput-small" name="units[4]" value=""/>
              </td><td class="desc">&nbsp;</td>
                    
              <td class="price">&nbsp;</td><td style="display:none" class="delete">&nbsp;</td>           
          </tr>
          
          <tr id="rowdetail_4" class="even-detail"  style="display:none;"  >
                <td class="select">&nbsp;</td><td class="detail" colspan="10">                
                   <div style="display: block;" id="itemdetails04">
                   <table class="item-detail">                    
      <tr><td class="identifier"> <label for="Parent item number">Parent item number</label></td> <td class="value"></td><td  colspan="2"></td></tr>				  
					  
   				  

<!--
@ Copyright IBM Corp. 2012
 -->


 


  




 
	<div class="module-name">b2b/ibm/quotation/IBM_Cart_order_customfields.inc.jsp</div>

<script type="text/javascript">  
var zzychanRole = "";
function oncheck(o,i)
{ 	   
  if(o.checked){ 
	document.getElementById("zzychanrole" + i).value = "13";
  } else {
	document.getElementById("zzychanrole" + i).value = zzychanRole == "13" ? "" : zzychanRole; 
  }
} 
</script>

	<tr> 
		<td class="identifier">
			<label>Designated machine: </label>								
		</td> 							
		<td class="value">
			<input type="text" class="textinput-middle" name="zdsgn[4]" id="zdsgn[4]" value=""/>        						
		</td> 	
		<td class="identifier" colspan="2" align="right">
			<label>Serial number: </label>
			<input type="text" class="textinput-middle" name="zsrlNum[4]" id="zsrlNum[4]" value=""/>
		</td> 							
	</tr>
	<tr> 
		<td class="identifier">
			<label>MES Plant order reference number: </label>
		</td> 							
		<td class="value">
			<input type="text" class="textinput-middle" name="zporNum[4]" id="zporNum[4]" value=""/>
		</td>
		<td colspan="2"></td>
	</tr> 

	<input type="hidden"  name="zpromotionid1[4]" id="zpromotionid1[4]" value=""/>
	<input type="hidden"  name="zpromotionid2[4]" id="zpromotionid2[4]" value=""/>
	<input type="hidden"  name="zpromotionid3[4]" id="zpromotionid3[4]" value=""/>
	<input type="hidden"  name="zpromotionid4[4]" id="zpromotionid4[4]" value=""/>
	<input type="hidden"  name="zpromotionid5[4]" id="zpromotionid5[4]" value=""/>

	<tr style="display: none">
		<td class="identifier" colspan="2">
			<input type="hidden" name="zdsp[4]" id="zdsp[4]" value=""  /> 
		</td>
	</tr>

	
			

			<tr style="display:none;"><td><input type="hidden" name="defect_136852_20121019" value="defect_136852_20121019"> <input type="hidden"  name="zzychanrole[4]" id="zzychanrole4" value=""/>
		</td> 
	</tr> 
	



	                  
	                      <tr><td class="identifier">
	                            <label for="reqdeliverydate[4]">Requested arrival date (CRAD):</label>
							  
	                        </td>
                            <td class="value" colspan="2">
	                          
	                             <input type="text" class="textinput-middle" id="reqdeliverydate[4]" name="reqdeliverydate[4]" value="26.02.2014"  />
							   
	                             <a class="icon" href="#" onclick="openCalendarWindow('dd.MM.yyyy', 'reqdeliverydate[4]');">
			                         <img class="img-1" src="/b2b_ibm/b2b/ibm/Images/calendar.gif" alt="Calendar"/></a>
	                          
	                        </td></tr>
	                    
                      
                      
 
 
					  
	

                      
	                      <tr class="message-data">                     
	                        <td class="identifier"><label for="comment[4]">Customer notes 
	                        </label><br/><textarea id="comment[4]" name="comment[4]" rows="2" cols="35"></textarea>
	                        </td>
                            <td class="identifier"><label for="comment[4]">Delivery instructions
                            </label><br/><textarea id="ibm_deliveryinstructions_item[4]" name="ibm_deliveryinstructions_item[4]" cols="35" rows="2"></textarea>
	                        </td>
                              
	                  	                  
				      
	                      <tr><td class="identifier"><label for="availinvent[4]">Available Inventory</label></td>
	                        <td class="value" colspan="2"><input type="text" class="textinput-middle" id="availinvent[4]" name="availinvent[4]" value="" disabled="disabled"/>
	                        </td><td></td></tr>
				        
                    </table>                    
                    
                   </div>
                   <div style="display: none;" id="itemdetails14">
                         
                   </div>
                   <div style="display: none;" id="itemdetails34">
                      <!--
@ Copyright IBM Corp. 2012
 -->










<div class="module-name">b2b/ibm/quotation/IBM_AddressesDetailsNew.inc.jsp</div>
<div class="ibm-container ibm-inner-data-table-last">
  <div class="ibm-container-body">
      <table width="100%" border="0" cellpadding="3" cellspacing="0" class="ibm-data-table">

  
  <tr>
    <td>
      <label for="contact" style="font-weight:bold;" >Ship to:</label>
    </td>
    <td>
      <span style="display:inline;">
        <input name="SHIPTO[4]" id="SHIPTO[4]" size="12" value=""  type="text" />
        <span class="ibm-form-note" style="display:inline;"></span>
        <table border="0" cellpadding="0" cellspacing="0">
          <tr>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('VAddress', this);return false;">View address</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link">
              <a href="javascript:void(0)" class="ibm-forward-link"  onclick="getHelpValuesPopupCustomerItem('createdocument','', 'SHIPTO', 'SHIPTO', 4)">Search
              </a>

            </p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link"  onclick="ibmCommon.Overlays.show('createAddress', this);return false;">Create</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('override', this);return false;">Address override &nbsp;&nbsp;</a></p></td>
          </tr>
        </table>
      </span>
    </td>
  </tr>
  
  <tr>
    <td>
      <label  style="font-weight:bold;">Delivery contact:</label>
    </td>
    <td>
      <span style="float: left; margin-left:0px; width:100px;">Email</span>
      <span style="float: left; margin-left:7px; width:150px;">Name</span>
      <span style="float: left; margin-left:7px; width:100px;">Phone</span>
      <span style="float: left; margin-left:7px; width:100px;">Fax</span>
      <input type="hidden" name="Z9Bbpid" value="PGENERICPF" />
      <br />
      <span style="float: left; margin-left:0px; width:100px;">
        <input name="Z9Bemail[4]" size="13" value=""  type="text" />
        <input type="hidden" name="oldZ9Bemail[4]" value="" />
      </span>
      <span style="float: left; margin-left:7px; width:150px;">
        <input name="Z9Bname[4]" size="23" value=""  type="text" />
        <input type="hidden" name="oldZ9Bname[4]" value="" />
      </span>
      <span style="float: left; margin-left:7px; width:100px;">
        <input name="Z9Btel[4]" size="13" value=""  type="text" />
        <input type="hidden" name="oldZ9Btel[4]" value="" />
      </span>
      <span style="float: left; margin-left:7px; width:100px;">
        <input name="Z9Bfax[4]" size="13" value=""  type="text" />
        <input type="hidden" name="oldZ9Bfax[4]" value="" />
      </span>
    </td>
  </tr>
  
  <tr>
    <td>
      <label for="contact" style="font-weight:bold;" >Install at:</label>
    </td>
    <td>
      <span style="display:inline;">
        <input name="ZZI[4]" id="ZZI[4]" size="12" value=""  type="text" />
        <span class="ibm-form-note" style="display:inline;"></span>
        <table border="0" cellpadding="0" cellspacing="0">
          <tr>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('VAddress', this);return false;">View address</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link">
              <a href="javascript:void(0)" class="ibm-forward-link"  onclick="getHelpValuesPopupCustomerItem('createdocument','', 'ZZI', 'ZZI', 4)">Search
              </a>

            </p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link"  onclick="ibmCommon.Overlays.show('createAddress', this);return false;">Create</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('override', this);return false;">Address override &nbsp;&nbsp;</a></p></td>
          </tr>
        </table>
      </span>
    </td>
  </tr>
  
  <tr>
    <td>
      <label for="contact" style="font-weight:bold;" >License to:</label>
    </td>
    <td>
      <span style="display:inline;">
        <input name="ZLT[4]" id="ZLT[4]" size="12" value=""  type="text" />
        <span class="ibm-form-note" style="display:inline;"></span>
        <table border="0" cellpadding="0" cellspacing="0">
          <tr>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('VAddress', this);return false;">View address</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link">
              <a href="javascript:void(0)" class="ibm-forward-link"  onclick="getHelpValuesPopupCustomerItem('createdocument','', 'ZLT', 'ZLT', 4)">Search
              </a>

            </p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link"  onclick="ibmCommon.Overlays.show('createAddress', this);return false;">Create</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('override', this);return false;">Address override &nbsp;&nbsp;</a></p></td>
          </tr>
        </table>
      </span>
    </td>
  </tr>
  
  <tr>
    <td>
      <label for="contact" style="font-weight:bold;" >Bill to:</label>
    </td>
    <td>
      <span style="display:inline;">
        <input name="BILLTO[4]" id="BILLTO[4]" size="12" value=""  type="text" />
        <span class="ibm-form-note" style="display:inline;"></span>
        <table border="0" cellpadding="0" cellspacing="0">
          <tr>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('VAddress', this);return false;">View address</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link">
              <a href="javascript:void(0)" class="ibm-forward-link"  onclick="getHelpValuesPopupCustomerItem('createdocument','', 'BILLTO', 'BILLTO', 4)">Search
              </a>

            </p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link"  onclick="ibmCommon.Overlays.show('createAddress', this);return false;">Create</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('override', this);return false;">Address override &nbsp;&nbsp;</a></p></td>
          </tr>
        </table>
      </span>
    </td>
  </tr>
  
  <tr>
    <td>
      <label  style="font-weight:bold;">Bill to Contact:</label>
    </td>
    <td>
      <span style="float: left; margin-left:0px; width:100px;">Email</span>
      <span style="float: left; margin-left:7px; width:150px;">Name</span>
      <span style="float: left; margin-left:7px; width:100px;">Phone</span>
      <span style="float: left; margin-left:7px; width:100px;">Fax</span>
      <input type="hidden" name="ZBCbpid" value="PGENERICPF" />
      <br />
      <span style="float: left; margin-left:0px; width:100px;">
        <input name="ZBCemail[4]" size="13" value=""  type="text" />
        <input type="hidden" name="oldZBCemail[4]" value="" />
      </span>
      <span style="float: left; margin-left:7px; width:150px;">
        <input name="ZBCname[4]" size="23" value=""  type="text" />
        <input type="hidden" name="oldZBCname[4]" value="" />
      </span>
      <span style="float: left; margin-left:7px; width:100px;">
        <input name="ZBCtel[4]" size="13" value=""  type="text" />
        <input type="hidden" name="oldZBCtel[4]" value="" />
      </span>
      <span style="float: left; margin-left:7px; width:100px;">
        <input name="ZBCfax[4]" size="13" value=""  type="text" />
        <input type="hidden" name="oldZBCfax[4]" value="" />
      </span>
    </td>
  </tr>
  
</table>
  </div>
</div>

                   </div></td></tr>
          
             <tr id="row_5" class="">
              <td class="opener">&nbsp;
                 
                     <a id="toggleItem_5" href='javascript: toggle("rowdetail_5")' class="icon">
                        <img class="img-1" id="rowdetail_5close" style="DISPLAY: none" src="/b2b_ibm/b2b/ibm/Images/tw_open.gif" alt="Hide Additional Fields"/>
                        <img class="img-1" id="rowdetail_5open" style="DISPLAY: inline" src="/b2b_ibm/b2b/ibm/Images/tw_closed.gif" alt="Display Additional Fields"/></a>
                 
              </td><td class="item">&nbsp;</td><td class="qty">
                 
                    <input type="text" class="ibm-b2b-required-number" alt='Qty' name="quantity[5]" maxlength="8" value=""/>
                 
              </td><td class="product">
                 
	                 <input type="text" class="textinput-middle" name="product[5]" id="product[5]" value=""/>
					    	    				                 
              </td><td class="unit" style="display:none">
              
				 <input type="text" class="textinput-small" name="units[5]" value=""/>
              </td><td class="desc">&nbsp;</td>
                    
              <td class="price">&nbsp;</td><td style="display:none" class="delete">&nbsp;</td>           
          </tr>
          
          <tr id="rowdetail_5" class="odd-detail"  style="display:none;"  >
                <td class="select">&nbsp;</td><td class="detail" colspan="10">                
                   <div style="display: block;" id="itemdetails05">
                   <table class="item-detail">                    
      <tr><td class="identifier"> <label for="Parent item number">Parent item number</label></td> <td class="value"></td><td  colspan="2"></td></tr>				  
					  
   				  

<!--
@ Copyright IBM Corp. 2012
 -->


 


  




 
	<div class="module-name">b2b/ibm/quotation/IBM_Cart_order_customfields.inc.jsp</div>

<script type="text/javascript">  
var zzychanRole = "";
function oncheck(o,i)
{ 	   
  if(o.checked){ 
	document.getElementById("zzychanrole" + i).value = "13";
  } else {
	document.getElementById("zzychanrole" + i).value = zzychanRole == "13" ? "" : zzychanRole; 
  }
} 
</script>

	<tr> 
		<td class="identifier">
			<label>Designated machine: </label>								
		</td> 							
		<td class="value">
			<input type="text" class="textinput-middle" name="zdsgn[5]" id="zdsgn[5]" value=""/>        						
		</td> 	
		<td class="identifier" colspan="2" align="right">
			<label>Serial number: </label>
			<input type="text" class="textinput-middle" name="zsrlNum[5]" id="zsrlNum[5]" value=""/>
		</td> 							
	</tr>
	<tr> 
		<td class="identifier">
			<label>MES Plant order reference number: </label>
		</td> 							
		<td class="value">
			<input type="text" class="textinput-middle" name="zporNum[5]" id="zporNum[5]" value=""/>
		</td>
		<td colspan="2"></td>
	</tr> 

	<input type="hidden"  name="zpromotionid1[5]" id="zpromotionid1[5]" value=""/>
	<input type="hidden"  name="zpromotionid2[5]" id="zpromotionid2[5]" value=""/>
	<input type="hidden"  name="zpromotionid3[5]" id="zpromotionid3[5]" value=""/>
	<input type="hidden"  name="zpromotionid4[5]" id="zpromotionid4[5]" value=""/>
	<input type="hidden"  name="zpromotionid5[5]" id="zpromotionid5[5]" value=""/>

	<tr style="display: none">
		<td class="identifier" colspan="2">
			<input type="hidden" name="zdsp[5]" id="zdsp[5]" value=""  /> 
		</td>
	</tr>

	
			

			<tr style="display:none;"><td><input type="hidden" name="defect_136852_20121019" value="defect_136852_20121019"> <input type="hidden"  name="zzychanrole[5]" id="zzychanrole5" value=""/>
		</td> 
	</tr> 
	



	                  
	                      <tr><td class="identifier">
	                            <label for="reqdeliverydate[5]">Requested arrival date (CRAD):</label>
							  
	                        </td>
                            <td class="value" colspan="2">
	                          
	                             <input type="text" class="textinput-middle" id="reqdeliverydate[5]" name="reqdeliverydate[5]" value="26.02.2014"  />
							   
	                             <a class="icon" href="#" onclick="openCalendarWindow('dd.MM.yyyy', 'reqdeliverydate[5]');">
			                         <img class="img-1" src="/b2b_ibm/b2b/ibm/Images/calendar.gif" alt="Calendar"/></a>
	                          
	                        </td></tr>
	                    
                      
                      
 
 
					  
	

                      
	                      <tr class="message-data">                     
	                        <td class="identifier"><label for="comment[5]">Customer notes 
	                        </label><br/><textarea id="comment[5]" name="comment[5]" rows="2" cols="35"></textarea>
	                        </td>
                            <td class="identifier"><label for="comment[5]">Delivery instructions
                            </label><br/><textarea id="ibm_deliveryinstructions_item[5]" name="ibm_deliveryinstructions_item[5]" cols="35" rows="2"></textarea>
	                        </td>
                              
	                  	                  
				      
	                      <tr><td class="identifier"><label for="availinvent[5]">Available Inventory</label></td>
	                        <td class="value" colspan="2"><input type="text" class="textinput-middle" id="availinvent[5]" name="availinvent[5]" value="" disabled="disabled"/>
	                        </td><td></td></tr>
				        
                    </table>                    
                    
                   </div>
                   <div style="display: none;" id="itemdetails15">
                         
                   </div>
                   <div style="display: none;" id="itemdetails35">
                      <!--
@ Copyright IBM Corp. 2012
 -->










<div class="module-name">b2b/ibm/quotation/IBM_AddressesDetailsNew.inc.jsp</div>
<div class="ibm-container ibm-inner-data-table-last">
  <div class="ibm-container-body">
      <table width="100%" border="0" cellpadding="3" cellspacing="0" class="ibm-data-table">

  
  <tr>
    <td>
      <label for="contact" style="font-weight:bold;" >Ship to:</label>
    </td>
    <td>
      <span style="display:inline;">
        <input name="SHIPTO[5]" id="SHIPTO[5]" size="12" value=""  type="text" />
        <span class="ibm-form-note" style="display:inline;"></span>
        <table border="0" cellpadding="0" cellspacing="0">
          <tr>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('VAddress', this);return false;">View address</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link">
              <a href="javascript:void(0)" class="ibm-forward-link"  onclick="getHelpValuesPopupCustomerItem('createdocument','', 'SHIPTO', 'SHIPTO', 5)">Search
              </a>

            </p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link"  onclick="ibmCommon.Overlays.show('createAddress', this);return false;">Create</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('override', this);return false;">Address override &nbsp;&nbsp;</a></p></td>
          </tr>
        </table>
      </span>
    </td>
  </tr>
  
  <tr>
    <td>
      <label  style="font-weight:bold;">Delivery contact:</label>
    </td>
    <td>
      <span style="float: left; margin-left:0px; width:100px;">Email</span>
      <span style="float: left; margin-left:7px; width:150px;">Name</span>
      <span style="float: left; margin-left:7px; width:100px;">Phone</span>
      <span style="float: left; margin-left:7px; width:100px;">Fax</span>
      <input type="hidden" name="Z9Bbpid" value="PGENERICPF" />
      <br />
      <span style="float: left; margin-left:0px; width:100px;">
        <input name="Z9Bemail[5]" size="13" value=""  type="text" />
        <input type="hidden" name="oldZ9Bemail[5]" value="" />
      </span>
      <span style="float: left; margin-left:7px; width:150px;">
        <input name="Z9Bname[5]" size="23" value=""  type="text" />
        <input type="hidden" name="oldZ9Bname[5]" value="" />
      </span>
      <span style="float: left; margin-left:7px; width:100px;">
        <input name="Z9Btel[5]" size="13" value=""  type="text" />
        <input type="hidden" name="oldZ9Btel[5]" value="" />
      </span>
      <span style="float: left; margin-left:7px; width:100px;">
        <input name="Z9Bfax[5]" size="13" value=""  type="text" />
        <input type="hidden" name="oldZ9Bfax[5]" value="" />
      </span>
    </td>
  </tr>
  
  <tr>
    <td>
      <label for="contact" style="font-weight:bold;" >Install at:</label>
    </td>
    <td>
      <span style="display:inline;">
        <input name="ZZI[5]" id="ZZI[5]" size="12" value=""  type="text" />
        <span class="ibm-form-note" style="display:inline;"></span>
        <table border="0" cellpadding="0" cellspacing="0">
          <tr>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('VAddress', this);return false;">View address</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link">
              <a href="javascript:void(0)" class="ibm-forward-link"  onclick="getHelpValuesPopupCustomerItem('createdocument','', 'ZZI', 'ZZI', 5)">Search
              </a>

            </p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link"  onclick="ibmCommon.Overlays.show('createAddress', this);return false;">Create</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('override', this);return false;">Address override &nbsp;&nbsp;</a></p></td>
          </tr>
        </table>
      </span>
    </td>
  </tr>
  
  <tr>
    <td>
      <label for="contact" style="font-weight:bold;" >License to:</label>
    </td>
    <td>
      <span style="display:inline;">
        <input name="ZLT[5]" id="ZLT[5]" size="12" value=""  type="text" />
        <span class="ibm-form-note" style="display:inline;"></span>
        <table border="0" cellpadding="0" cellspacing="0">
          <tr>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('VAddress', this);return false;">View address</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link">
              <a href="javascript:void(0)" class="ibm-forward-link"  onclick="getHelpValuesPopupCustomerItem('createdocument','', 'ZLT', 'ZLT', 5)">Search
              </a>

            </p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link"  onclick="ibmCommon.Overlays.show('createAddress', this);return false;">Create</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('override', this);return false;">Address override &nbsp;&nbsp;</a></p></td>
          </tr>
        </table>
      </span>
    </td>
  </tr>
  
  <tr>
    <td>
      <label for="contact" style="font-weight:bold;" >Bill to:</label>
    </td>
    <td>
      <span style="display:inline;">
        <input name="BILLTO[5]" id="BILLTO[5]" size="12" value=""  type="text" />
        <span class="ibm-form-note" style="display:inline;"></span>
        <table border="0" cellpadding="0" cellspacing="0">
          <tr>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('VAddress', this);return false;">View address</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link">
              <a href="javascript:void(0)" class="ibm-forward-link"  onclick="getHelpValuesPopupCustomerItem('createdocument','', 'BILLTO', 'BILLTO', 5)">Search
              </a>

            </p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link"  onclick="ibmCommon.Overlays.show('createAddress', this);return false;">Create</a></p></td>
            <td style="font-size:1em; padding:2px 5px;"><p class="ibm-ind-link"><a href="#" class="ibm-forward-link" onclick="ibmCommon.Overlays.show('override', this);return false;">Address override &nbsp;&nbsp;</a></p></td>
          </tr>
        </table>
      </span>
    </td>
  </tr>
  
  <tr>
    <td>
      <label  style="font-weight:bold;">Bill to Contact:</label>
    </td>
    <td>
      <span style="float: left; margin-left:0px; width:100px;">Email</span>
      <span style="float: left; margin-left:7px; width:150px;">Name</span>
      <span style="float: left; margin-left:7px; width:100px;">Phone</span>
      <span style="float: left; margin-left:7px; width:100px;">Fax</span>
      <input type="hidden" name="ZBCbpid" value="PGENERICPF" />
      <br />
      <span style="float: left; margin-left:0px; width:100px;">
        <input name="ZBCemail[5]" size="13" value=""  type="text" />
        <input type="hidden" name="oldZBCemail[5]" value="" />
      </span>
      <span style="float: left; margin-left:7px; width:150px;">
        <input name="ZBCname[5]" size="23" value=""  type="text" />
        <input type="hidden" name="oldZBCname[5]" value="" />
      </span>
      <span style="float: left; margin-left:7px; width:100px;">
        <input name="ZBCtel[5]" size="13" value=""  type="text" />
        <input type="hidden" name="oldZBCtel[5]" value="" />
      </span>
      <span style="float: left; margin-left:7px; width:100px;">
        <input name="ZBCfax[5]" size="13" value=""  type="text" />
        <input type="hidden" name="oldZBCfax[5]" value="" />
      </span>
    </td>
  </tr>
  
</table>
  </div>
</div>

                   </div></td></tr>
          
    </table>
    <script type="text/javascript">
    function showfield(first,second,third,four){
    	document.getElementById(first).style.display='none';
    	document.getElementById(second).style.display='inline';
		document.getElementById(third).style.display=(four==1? "block":"none");
    }                      
   </script>	                        
   
				</div>
				<!--BHALM00179587:Start of code added by Arnab on 03/05/2013 to hide Special Bid and Financing tab related pice values in case of System Z products-->
				<!--BHALM00194342:Start of condition added by Arnab on 19/07/2013 to show/hide Special Bid and Financing tab related pice values based on APLI flag-->
				
				<!--BHALM00194342:End of condition added by Arnab on 19/07/2013 to show/hide Special Bid and Financing tab related pice values based on APLI flag-->
				<!--BHALM00179587:End of code added by Arnab on 03/05/2013 to hide Special Bid and Financing tab related pice values in case of System Z products-->
			  </div>
			</div>
<!-- Added by Chandra EDD4 -->	
	
		 <input type="hidden" name="sendpressed" value=""/>
		 <input type="hidden" name="cancelpressed" value=""/>
		 <input type="hidden" name="showproduct" value=""/>
		 <input type="hidden" name="actualpos" value="1"/>
		 <input type="hidden" name="deletekey" value=""/>
		 <input type="hidden" name="refresh" value=""/>
		 <input type="hidden" name="newpos" value=""/>
		 <input type="hidden" name="newshipto" value=""/>
		 <input type="hidden" name="processsoldto" value=""/>
		 <input type="hidden" name="simulatepressed" value=""/>
		 <input type="hidden" name="doctype" value="quotation"/>
		 <input type="hidden" name="processtype" value=""/>
		 <input type="hidden" name="configitemid" value=""/>
         
		  <input type="hidden" name="showplanrates" value=""/>
		 <input type="hidden" name="resetdefault" value=""/>         
		 <input type="hidden" name="contactigf" value=""/>        
		 
		 <!-- China Localization -->
		 <input type="hidden" id="cntoemail" name="toemail" value=""/>
		 <input type="hidden" name="ccemail" value=""/>
		 <input type="hidden" name="emailMethod" value=""/>
		 <!-- China Localization Ends-->
		 <input type="hidden" name="email" value="">
		<input type="hidden" name="emailrecipients" value="">
		<input type="hidden" name="emailrecipients1" value="">
		<input type="hidden" name="emailrecipients2" value="">
		<input type="hidden" name="emailrecipients3" value="">
		<input type="hidden" name="emailrecipients4" value="">
		<input type="hidden" id="currencyValueID"  name="currencyValue" value="EUR"/>


		 <input type="hidden" name="mailList" value="">
		<input type="hidden" name="pagefrom" value="order">
		 <input type="hidden" name="emailformat" value="">
		<input type="hidden" name="emailmess" value="">
		<input type="hidden" name="download" value=""/>
		<input type="hidden" name="downloadformat" value=""/>
		 <input type="hidden" name="printquote" value=""/>
		  <input type="hidden" name="configtype" value=""/>
		 <input type="hidden" name="multipleshipto" value=""/>
		 <input type="hidden" name="multiplereqdlvdate" value=""/>  
		  <input type="hidden" name="returnpressed" value=""/>

		 <input type="hidden" name="action_id" id="action_id"/>

		  <input type="hidden" name="checkoutpressed" value=""/>  

		 
        
		
  <input type="hidden" name="statusbutton"/>
	   <input type="hidden" name="savebutton" onClick="save_quote();" />
	   <input type="hidden" name="cancelbutton" onClick="close_cart();" />
	   <input type="hidden" name="email_receiver" /> 
	   <input type="hidden" name="email_message" /> 
	   <input type="hidden" name="basket_submit" value="ibm/maintainbasket.do" /> 
	   <input type="hidden" name="notes" /> 
	   <input type="hidden" name="notestype" /> 
 <!--
@ Copyright IBM Corp. 2012
 -->




    <script type="text/javascript" 
	    src="/b2b_ibm/mimes/jscript/EComBase.js"
    >
    </script>    
    <script type="text/javascript">
    <!--
    // call with the basic parameters dateFormat, dateFieldId
    function openCalendarWindow( dateFormat, dateFieldId ) 
    {
		dateField = getElement(dateFieldId);
		return openCalendarWindow3( dateFormat, dateField.value, dateField );
    }
    
     // call with the basic parameters dateFormat, dateFieldId
    function openCalendarWindowtoRight( dateFormat, dateFieldId ) 
    {
		dateField = getElement(dateFieldId);
		return openCalendarWindow4( dateFormat, dateField.value, dateField );
    }
    // call with the basic parameters dateFormat, dateFieldId
    // and execute domain relaxation in the pop-up
    function openCalendarWindowDomainRelaxed( dateFormat, dateFieldId ) 
    {
        dateField = getElement(dateFieldId); 
        dateValue = dateField.value;
        var calReady = false;
        var calendarWindow = window.open('/b2b_ibm/appbase/calendar.jsp'+'?dateFormat='+dateFormat+'&dateValue='+dateValue+'&dateFieldId='+dateFieldId+'&relaxDomain=T',
                                         'calendarWindow','width=300,height=370,screenX=200,screenY=300,titlebar=yes,resizable=yes');

	    var startTime = new Date();
	    var timeDiff = 0;
	    var stopIt = false;		
	    
        while(!calReady && !stopIt){ 
            try {
                calendarWindow.dateField=dateField;
                calReady = true;
            }
            catch(e){
            }
	        // If accessing calendar pop-up is not successful within 10 seconds we stop in order to avoid an endless loop.
	        var currentTime = new Date();
	        timeDiff = currentTime - startTime;
			if (timeDiff > 100000){
				stopIt = true;
			}
        }
        try {
        	calendarWindow.focus();
        }
        catch(e){
        }        
        return calendarWindow;
    }
    
    // call with the basic parameters dateFormat, dateFieldId 
    // and start the calendar month table on the weekDay
    function openCalendarWindowOnWeekDay( dateFormat, dateFieldId, weekDay ) 
    {
		dateField = getElement(dateFieldId); 
		return openCalendarWindow4( dateFormat, dateField.value, dateField, weekDay ); 
    }
    // call with all the parameters dateFormat, dateValue, dateField, weekDay
    function openCalendarWindow4( dateFormat, dateValue, dateField, weekDay ) 
    {
		var calendarWindow = window.open('/b2b_ibm/appbase/calendar.jsp'+'?dateFormat='+dateFormat+'&dateValue='+dateValue+'&weekDay='+weekDay,
				      					 'calendarWindow','width=300,height=370,screenX=200,screenY=300,titlebar=yes,resizable=yes');
		calendarWindow.dateField=dateField;
		calendarWindow.focus();
		return calendarWindow;
    }
    // call with the most common 3 parameters dateFormat, dateValue, dateField
    function openCalendarWindow3( dateFormat, dateValue, dateField ) 
    {
		var calendarWindow; 
		//BHALM00173824:Start of code added by Arnab on 01/03/2013 to pass the id of CRAD text field 
		if(dateField.id=='headerReqDeliveryDate'){
			calendarWindow = window.open('/b2b_ibm/appbase/calendar.jsp'+'?dateFormat='+dateFormat+'&dateValue='+dateValue+'&dateFieldId='+dateField.id,
				      					 'calendarWindow','width=300,height=370,screenX=200,screenY=300,titlebar=yes,resizable=yes');
		}else{
			calendarWindow = window.open('/b2b_ibm/appbase/calendar.jsp'+'?dateFormat='+dateFormat+'&dateValue='+dateValue,
				      					 'calendarWindow','width=300,height=370,screenX=200,screenY=300,titlebar=yes,resizable=yes');
		}
		//BHALM00173824:End of code added by Arnab on 01/03/2013 to pass the id of CRAD text field
		calendarWindow.dateField=dateField; 
		calendarWindow.focus();
		return calendarWindow;
    }

    // call with the parameters dateFormat, dateField. The dateValue is taken from the dateField
    function openCalendarWindow2( dateFormat, dateField ) 
    {
		return openCalendarWindow3( dateFormat, dateField.value, dateField ) 
    }

    // call with the dateField, The dateFormat is the default SAP date, The dateValue is taken from the dateField
    function openCalendarWindow1( dateField ) 
    {
		var calendarWindow = window.open('/b2b_ibm/appbase/calendar.jsp'+'?dateValue='+dateField.value,
				      					 'calendarWindow','width=300,height=370,screenX=200,screenY=300,titlebar=yes,resizable=yes');
		calendarWindow.dateField=dateField;
		calendarWindow.focus();
		return calendarWindow;
    }
    
    // display the calendar control embedded not as pop-up (needs modification of the calling JSP)
    function showCal(dateFormat, dateFieldId, calDivId, calFrameName){
        dateField = getElement(dateFieldId); 
        var calendarFrame = getElement(calFrameName);
        // display the calendar div-area
        toggleCal(calDivId);
        // set the inputfield object at the calendarFrame
        var calReady = false;
        var startTime = new Date();
        var timeDiff = 0;
        var stopIt = false;     
        
        while(!calReady && !stopIt){ 
            try {
                calendarFrame.contentWindow.dateField = dateField;
                calReady = true;
            }
            catch(e){
            }
            // If accessing calendar frame is not successful within 10 seconds we stop in order to avoid an endless loop.
            var currentTime = new Date();
            timeDiff = currentTime - startTime;
            if (timeDiff > 100000){
                stopIt = true;
            }
        }
        
    }
    
    // call with the most common 3 parameters dateFormat, dateValue, dateField
    function openCalendarWindow4( dateFormat, dateValue, dateField ) 
    {
		var calendarWindow = window.open('/b2b_ibm/appbase/calendar.jsp'+'?dateFormat='+dateFormat+'&dateValue='+dateValue,
				      					 'calendarWindow','width=320,height=320,screenX=950,screenY=300,resizable=yes');
		calendarWindow.dateField=dateField;
		calendarWindow.focus();
		return calendarWindow;
    }

    // display or hide the div-area of the embedded calendar control
    function toggleCal(divId){
        getElement(divId).style.display=(getElement(divId).style.display=='block') ? 'none' : 'block';
    }
    
    //-->
    </script>








 



 <script type="text/javascript">
      
	function submit_dsmForm(inputMode) {
		var errmsg = "";
		if(inputMode!="formFields") {
			document.getElementById('inputType').value = "fileUpload";
		 } else {
			 document.getElementById('inputType').value = "formFields";
		 }		 		
	 	 document.getElementById('dsmCount').value = getDSMrows();
		 if (document.getElementById('newposcount') != null) {
			document.forms['order_positions'].elements['newpos'].value=
			document.getElementById('newposcount').options[document.getElementById('newposcount').selectedIndex].value;
		}	
		document.forms['order_positions'].elements['refresh'].value="true";
		disableEmptyInputFields();
		document.forms['order_positions'].action = "/b2b_ibm/b2b/ibm/updateDSMSerialNumber.do";
		document.forms['order_positions'].submit();		
		return true; 	
	}

	function getDSMrows() {
	     var table = document.getElementById("dsmtable");
 		 var rowCount = table.rows.length-1;
		 while(rowCount>1) {		 
			 if(eval("document.forms['order_positions'].elements['machineType[" + rowCount+ "]']").value==""){
				rowCount = rowCount-1;
			 } else {			    
				break;
			 }
		 }
		 return rowCount;
	}
		
	function addRow(tableID) {
 
			var table = document.getElementById(tableID);
 
			var rowCount = table.rows.length;
			var row = table.insertRow(rowCount);
			row.id=rowCount;

			var cell1 = row.insertCell(0);
			cell1.style.width="13%";
			cell1.innerHTML = "Machine "+rowCount;
 
			var cell2 = row.insertCell(1);
			var element1 = document.createElement("input");
			element1.type = "text";			
			element1.size="5";
			cell2.appendChild(element1);
 
			var cell3 = row.insertCell(2);
			var element2 = document.createElement("input");
			element2.type = "text";
			element2.size="5";
			cell3.appendChild(element2);
 
			/*var cell4 = row.insertCell(3);
			var element3 = document.createElement("input");
			element3.type = "text";	
			element3.value = document.getElementById('dsmItem').value;
			element3.size="5";
			cell4.appendChild(element3); */

			var cell5 = row.insertCell(3);
			var element4 = document.createElement("input");
			element4.type = "text";			
			element4.size="16";
			cell5.appendChild(element4);

			var cell6 = row.insertCell(4);
			cell6.innerHTML = "Delete Item";
			cell6.innerHTML = '<a href="" onclick='+'deleteRow("dsmtable",'+rowCount+');return false;'+'> <img src="../images/icn_trash.gif" alt="Delete item" width="13" height="13" border="0" title="Remove item" /></a>'; 
		}

		function deleteRow(tableID, rowId) {
			try {
			var table = document.getElementById(tableID);
			var rowCount = table.rows.length;
			
			table.deleteRow(rowId);
			
 
		   /* 
		   for(var i=0; i<rowCount; i++) {
				var row = table.rows[i];
				alert("rowId: "+rowId+"  i: "+i);
				var chkbox = row.cells[0].childNodes[0];
			   if(null != chkbox && true == chkbox.checked) {
				if(rowId==i) {
					table.deleteRow(rowId);
					rowCount--;
					i--;
				} 
			}
			*/
			}catch(e) {
				alert(e);
			}
		}
	
 </script>
	
 
<!-- <form action='/b2b_ibm/b2b/ibm/updateDSMSerialNumber.do' id="dsmForm" name="dsmForm" enctype="multipart/form-data" method="post"> -->
<div class="module-name">b2b/ibm/quotation/IBM_DSMValidation.jsp</div>
<div class="ibm-common-overlay ibm-overlay-alt" id="dsmOverlay">
 <div class="ibm-head">
	<p><a class="ibm-common-overlay-close" href="#close" onclick="window.ibmCommon.Overlays.close(this)">Close [x]</a></p>
  </div>
  <div class="ibm-body">
	<div class="ibm-main"> <a class="ibm-access"></a>	 
	  <!-- Accessibility anchor -->
		<!-- <form action='/b2b_ibm/b2b/ibm/updateDSMSerialNumber.do' id="dsmForm" name="dsmForm" method="post">	-->
			<input type="hidden" id="dsmItemGuid" name="dsmItemGuid" value=""/>
			<input type="hidden" id="dsmItem" name="dsmItem" value=""/>
		   <p>Add information about products to register this service with.  Use the Machine Type and Machine Model for hardware items.  Use Product ID for non-Hardware items.  Both will require a serial number</p> 
			
			<table id="dsmtable" width="100%" border="0" cellpadding="4" cellspacing="0"> 
				<tr>
						<th width="13%">Designated machines</th>
						<th width="11%">Machine type</th>
						<th width="12%">Machine model</th>
						<!-- <th width="11%">Product ID</th> -->
						<th width="20%">Serial number</th>
						<th width="33%">Remove</th>
				</tr>
				 
				
				<tr id="1">
					  <td nowrap="nowrap"><a name="Machines" id="Machines"></a>Machine 1</td>
					  <td>
						<label><input name="machineType[1]" type="text" id="machineType[1]" size="5" /></label>
					  </td>
					  <td class="middle">
						 <input name="model[1]" type="text" id="model[1]" size="5" />
					  </td>
					  <!--<td>
						 <span class="middle"><input name="productId[1]" type="text" id="productId[1]" size="5" /></span>
					  </td> -->
					  <td>
						 <span class="middle"><input name="serialNumber[1]" type="text" id="serialNumber[1]" size="16" maxlength="40"/></span>
					  </td>
					  <td>
					   
						<a href="" onclick='deleteRow("dsmtable",1);return false;'> <img src="../images/icn_trash.gif" alt="Delete item" width="13" height="13" border="0" title="Remove item" /></a>
					   
					  </td>
				</tr>
				
				<tr id="2">
					  <td nowrap="nowrap"><a name="Machines" id="Machines"></a>Machine 2</td>
					  <td>
						<label><input name="machineType[2]" type="text" id="machineType[2]" size="5" /></label>
					  </td>
					  <td class="middle">
						 <input name="model[2]" type="text" id="model[2]" size="5" />
					  </td>
					  <!--<td>
						 <span class="middle"><input name="productId[2]" type="text" id="productId[2]" size="5" /></span>
					  </td> -->
					  <td>
						 <span class="middle"><input name="serialNumber[2]" type="text" id="serialNumber[2]" size="16" maxlength="40"/></span>
					  </td>                     
					  <td>
					   
						<a href="" onclick='deleteRow("dsmtable",2);return false;'> <img src="../images/icn_trash.gif" alt="Delete item" width="13" height="13" border="0" title="Remove item" /></a>
					   
					  </td>
				</tr> 							
			</table>
			<input type="hidden" id="inputType" name="inputType" value="formFields"/>
			<input type="hidden" id="dsmCount" name="dsmCount" value="2"/>
		
		    <table id="dsmbuttons" width="100%" border="0" cellpadding="4" cellspacing="0">
			  <tr>
					<td colspan="2"><p class="ibm-ind-link" style="font-size:1em;"><a class="ibm-forward-em-link" href="#" onClick='addRow("dsmtable");return false;'>Add another item</a></p></td>
					<td colspan="2"><p class="ibm-ind-link"  style="font-size:1em;"><a class="ibm-forward-em-link" href="#" onclick="ibmCommon.Overlays.show('dsmFileImport', this);return false;">Upload from file</a></p></td>
					<td><p class="ibm-ind-link"  style="font-size:1em;"><input value="Submit" type="button" name="ibm-submit" onclick="javascript:submit_dsmForm('formFields');return false;"/></p> </td>	
					<td><p class="ibm-ind-link"  style="font-size:1em;"><a class="ibm-forward-em-link" href="#" onclick="window.ibmCommon.Overlays.close(this)" />Cancel</a></p>
					</td>
			  </tr>
		  </table>
	
	  <!-- </form> -->
	</div>	
   </div>
   <div class="ibm-footer"></div>
 </div>

  <!-- this is 390px wide.  
	To make 570, add "ibm-overlay-alt" to top overlay class.  
	To make 750 add "ibm-overlay-alt-two" to top overlay class -->

	<div class="ibm-common-overlay" id="dsmFileImport" style="z-index:99"> 
		<div class="ibm-head"> 
		<p><a class="ibm-common-overlay-close" href="#close"></a></p> 
		</div> 
		<div class="ibm-body"> 
			<div class="ibm-main"> 
			<a class="ibm-access"><!-- Accessibility anchor --></a> 
			<p>Add pre-fromatted file of machines.</p>
			<!-- <form class="ibm-column-form" name="uploadDSMForm" action=""> -->
			<p>
			<label for="customer number">Upload file:<a class="ibm-information-link" href="#" title="Put link to format information here">&nbsp;</a></label>

			<span><input name="importFile" id="importFile" type="file" /></span></p>
			<!-- </form> -->			
				<div class="ibm-buttons-row">
				<p><input value="Save" type="button" name="ibm-submit" class="ibm-btn-arrow-pri" onclick="javascript:submit_dsmForm('fileUpload');return false;" />
				<span class="ibm-sep">&nbsp;</span>
				<input value="Cancel" type="button" name="ibm-cancel" class="ibm-btn-cancel-sec" onclick="window.ibmCommon.Overlays.close(this)"/></p>
				</div><!--INSERT OVERLAY CONTENT HERE --> 
			</div>
		</div> 
		<div class="ibm-footer"></div> 
	</div> 
<!--   </form> -->
  

		 <input type="hidden" name="prefcontract" value=""/> 
		<input type="hidden" name="contractaction" value=""/> 
		<input type="hidden" name="newcontractaction" value=""/>
		<input type="hidden" name="lineitemguid" value=""/> 
		<input type="hidden" name="itemguid" value=""/> 
		<input type="hidden" name="applyonheader" value=""/>
		<input type="hidden" name="applyonitem" value=""/>
		 




<script type="text/javascript">

function clickRecipients(recipient,obj){  
	if(obj.checked){
		$("#internalaprv").append('<input id="'+recipient+'" value="'+recipient+'" type="text" name="otherrecipients" />');
	}  else {
		$("#"+recipient).remove();
	}
}
/* add for cr64690 */
function submit_for_internal(oWin){
   var paymentType = document.forms["order_positions"].paymentType.value;
	if(paymentType == null || paymentType.length == 0 )
	{
		alert("Please select payment method");
		document.forms["order_positions"].paymentType.focus();
		window.ibmCommon.Overlays.close(oWin);
		return false;
		
	}
	var bCheck = false; 
	$("input[name=recipients]").each(function(n,obj){
		if($.trim($(obj).val()) != ""){
			bCheck = true;
		} 	
	});
	$("input[name=otherrecipients]").each(function(n,obj){
		if($.trim($(obj).val()) != ""){
			bCheck = true;
		} 
	}); 
	if(!bCheck) 
	{
		$("#errormessage1").append("<p class='ibm-ind-error' id='id1'><strong>Please input at least one recipient</strong></p>"); 
		return false;
	} else {
		$("#errormessage1").find("#id1").remove();
	}
	if($.trim($("#emailcontent").val()) == ""){
		$("#errormessage1").append("<p class='ibm-ind-error' id='id2'><strong>Please input Email content</strong></p>");  
		return false;
	} else {
		$("#errormessage1").find("#id2").remove();
	} 

	document.forms["order_positions"].checkoutpressed.value="true";
	document.forms["order_positions"].internalappr.value="true";
	document.forms["order_positions"].statusbutton.value="internal";
	save_quote();
	alert('Email has been successfully send out.');  
	window.ibmCommon.Overlays.close(oWin);
}
	</script>
<div class="ibm-common-overlay ibm-overlay-alt" id="internalaprv">
                  <div class="ibm-head">
                    <p><a class="ibm-common-overlay-close" href="#close">Close [x]</a></p>

                  </div>
                  <div class="ibm-body">
                    <div class="ibm-main"> <a class="ibm-access">
                      <!-- Accessibility anchor -->
                      </a>
                      <div class="ibm-overlay-conetent">
                      <h1>Submit for internal approval</h1>
                      <div class="ibm-container-body" id="errormessage1">
                      </div>
                      
					 
                          <div class="ibm-rule">
                          <hr />
                        </div>
                        <p><strong>Other Recipients</strong></p>
                        <p><label>email:</label><span><input name="otherrecipients" type="text" style="width:200px"/> 
                        </span></p>
                        <p><label>email:</label><span><input name="otherrecipients" type="text" style="width:200px"/> 
                        </span></p>
                        <p><label>email:</label><span><input name="otherrecipients" type="text" style="width:200px"/> 
                        </span></p>

                        <p><label>email:</label><span><input name="otherrecipients" type="text" style="width:200px"/> 
                        </span></p>
                        <p><label>email:</label><span><input name="otherrecipients" type="text" style="width:200px"/> 
                        </span></p>
                        <input type="hidden" value="116981newtest"/>
						<div class="ibm-rule"> 
                          <hr />
                        </div>
                        <p><strong>Email Contant</strong></p>
                        <div>
						<textarea rows="5" cols="60" name="emailcontent" id="emailcontent"></textarea>
						</div>
                        <div style="display:none; position:absolute; top:200px; left:150px; width:54px; height:55px;" id="etpProcessing"><img src="//www.ibm.com/images/account/profile/animation.gif" /></div>
                        <div class="ibm-rule">
                          <hr />
                        </div>
                            <div class="ibm-buttons-row">
        <p><input value=Submit type="button" name="ibm-submit" class="ibm-btn-arrow-pri" onclick="submit_for_internal(this)"/><span class="ibm-sep">&nbsp;</span>
        
        <input value=Cancel type="button" name="ibm-cancel" class="ibm-btn-cancel-sec" onclick="window.ibmCommon.Overlays.close(this)" /></p>
    </div>

                        
                        <div class="ibm-rule">
                          <hr />
                        </div>
                        <div class="ibm-overlay-legal">
                          <p>Note: IBM will not use information collected here for marketing or promotional purposes beyond the scope of this transaction.</p>
                        </div>
                      
                      </div>
                    </div>

                  </div>
                  <div class="ibm-footer">
                  <input type="hidden" name="internalappr" value=""/>
                  </div>
                </div>  
		




<div class="module-name">b2b/ibm/quotation/IBM_UnResolvedContracts_Overlay.inc.jsp</div>		
<div id="unresolved" class="ibm-common-overlay ibm-overlay-alt-two" style="display: none; top: 776.5px; left: -120.5px;">
	<div class="ibm-head">
		<p><a href="#close" class="ibm-common-overlay-close">Close [x]</a></p>
	</div> 
	<div class="ibm-body"> 
		<div class="ibm-main"> 
			<a class="ibm-access"><!-- Accessibility anchor --></a>
			<h2>Unresolved contracts</h2>
			<p>Select a contract for each unresolved line item below.  Selecting a preferred contract will automatically select that contract when applicable</p>
			<div class="ibm-container ibm-inner-data-table popscroll" style="border: 1px solid rgb(204, 204, 204);">
				
				<input type="hidden" name="itemLevelContracts"></input>
				
				<div id="contractSelectionArea"></div>
				
				
				<p class="ibm-item-note">* List price will include any automatic promotions, if available</p>
				<p>
					<input type="checkbox" value="" name="" id="autoShow" onclick="setStatus();">
					Do not show this dialog until I am ready to check out
				</p>
				
				<div class="ibm-buttons-row"> 
					<p>  
						<input type="button" class="ibm-btn-arrow-pri" name="ibm-submit" value="Submit" onClick="itemLevelSubmit(isSBAvaiable);"><span class="ibm-sep">&nbsp;</span>
						<input class="ibm-btn-cancel-sec" type="button" onclick="window.ibmCommon.Overlays.close(this)" name="ibm-cancel" value="Cancel">
						
					</p>
				</div>
		  	</div> 
		</div>
	</div>
	<div class="ibm-footer"></div> 
</div>
   
	
		<input type="hidden" name="ZER" value=""/> 
		  
		  	 
			
			<div class="ibm-buttons-row" style="display: block;" id="tabbutton0">
			  <p>
			   
				<input value="Import configuration" type="button" onclick="iiaItemconfig('IMPORT_CONFIG')" class="ibm-btn-arrow-sec" />
				<input value="Import from file" name="ibm-undo2" type="submit" class="ibm-btn-arrow-sec" onclick="ibmCommon.Overlays.show('add', this);return false;"  />
				
			  
			  

			  </p>
			</div>
		  
  <div style="display:none">
	callingScenario:<%=callingScenario%>
  </div>      
			<div class="ibm-buttons-row" style="display: none;" id="tabbutton1">
			  <p>
			              
			  </p>
			</div>
			<div class="ibm-buttons-row" style="display: none;" id="tabbutton2">
			  <p>
				<span class="ibm-sep">&nbsp;</span>
			  </p>
			</div>
			<div class="ibm-buttons-row" style="display: none;" id="tabbutton3">
			  <p>
		  
			  </p>
		   </div>
			<div class="ibm-buttons-row" style="display: none;" id="tabbutton4">
			  <p>
			  
				<input id="submit_sp_bid_button" name="submit_sp_bid_button" type="button"
					class="ibm-btn-arrow-pri submit_sp_bid_button ibm-b2b-update-cart-button"
					value="Submit special bid for approval"/>
			  
			  </p>
			</div>
			<div class="ibm-buttons-row" style="display: none;" id="tabbutton6">
			              
			  <p>
				
			 </p>
			</div>            
			<div class="ibm-buttons-row" style="display: block;">
			   <p>
			   				   		
				<input id="checkout" style="display: none;" value="Complete checkout" type="button" onclick="if(validate_bp_input() && validate_ponumber_selected(true)){check_out_cart('5','Y');}" class="ibm-btn-arrow-sec" />
								
				<input id="saveCartButton" value="Save cart" type="button" onclick="fillIGFParameters();if (isSBAvaiable) {prepareSpecialBidParams(isSBAvaiable, 'create');}if(validate_bp_input() && validate_sp_bid_form()){checkUsedItem();save_quote1();}" class="ibm-btn-arrow-sec "  />
				
				<input id="updateCartButton" value="Update cart" type="button" onclick="fillIGFParameters();if (isSBAvaiable) {prepareSpecialBidParams(isSBAvaiable, 'update');}if(typeof selectedContract == 'function'){selectedContract('','apply_on_Header');}if(validate_bp_input() && validate_sp_bid_form()){checkUsedItem();submit_refresh();}" name="ibm-undo" class="ibm-btn-arrow-sec " />
			   
				
				<input value="Close cart" type="button" onclick="close_cart();" class="ibm-btn-cancel-sec" />
				<br><br><br>
				<div id = "testTC" style="display:none;font-size:12.8px;">IBM does not accept any changes to existing terms and conditions contained within your Purchase Order.</div>
			   </p>
			 </div>
			 
            
	  </div>  
	  </form> 
	  <script type="text/javascript">
		function setCurrentStatus(ele)
		{
			if(ele=="checkout")
			{
				document.getElementById("testTC").style.display='block';
			}
			else
			{
				document.getElementById("testTC").style.display='none';
			}
		}
		</script>

	<div  class="ibm-container" style="text-align:left;width:700px;padding-left:15px;padding-right:15px;display: none;" id="listofterms">
		<p class="ibm-item-note">
		This is a list of the terms and conditions as they are mandeted to be listed on the checkout screen. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Section 1.10.32 of "de Finibus Bonorum et Malorum", written by Cicero in 45 BC Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem.
		<br>
		<br>
		Local customer T&amp;C goes here after the standard text: quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem.
		</p>
	</div>           
	<div id="ibm-buttons-row">
	<p></p>
	</div>
	<div id="_isa_Calendar_Control" class="calendarcontrol" style="display:none;z-index:99999;width:250;height:200;position:absolute;">
	</div>
<!--
@ Copyright IBM Corp. 2012
 -->

<script> 
		function bpClick(obj){
			
			$("[name='bptype']").removeAttr("checked");
			$("[name='bptype'][disabled]").attr("disabled",false); 
			$("input:hidden", document.createform).each(function(){
			  	if($(this).attr('name') != "button_name" && $(this).attr('name') != "requestserial"){  
					$(this).val("");
			   	}
			  }); 
			if(obj.checked){
				//$("#partnerfunction_" + obj.id).attr("value",'P');
				$("#partnerfunction_primary").attr("value",obj.title);
			}
			if(obj.id == "billtoR"){
				$("#billto").attr("disabled",true);
			} else if(obj.id == "shiptoR"){
				$("#shipto").attr("disabled",true);
			}else if(obj.id == "installatR"){
				$("#installat").attr("disabled",true);
			}else if(obj.id == "licensetoR"){
				$("#licenseto").attr("disabled",true);
			} 
		} 
		function doClick(obj){ 
			if(obj.checked){
				$("#partnerfunction_" + obj.id + "R").attr("value",'X');
			} else {
				$("#partnerfunction_" + obj.id + "R").attr("value",'');
			}
			  
		} 
		  
		function doSubmit(){
			_application.requestData({ 
				url :  "/b2b/IBM_GetCountryState.do?init=" + "X",
				callback : displayPage
			});    
		} 
		function displayDup(obj){
			var itemsTbody = document.getElementById("duplicates");//get table body object 
			itemsTbody.appendChild(obj);
		}
		function passvalue(name,value,task){ 
			//if the siteid is selectable, then use it directly.
			if("S" == task){
				$("#" + name).attr("value",value);
				$('#btncancel', window.parent.document).trigger('click');
				$('#dupCancel').trigger('click');
				return;
			}
			var data = _application.requestData({
			url : "/b2b/IBM_businesspartnercreate.do",
			params : "ibm_siteID=" + value + "&task=" + task + "&ibm_customerfor=" + $("#ibm_customerfor").val() +"&name_english=" + $("#name1").val() + "&name_native=" + $("#name_native").val()+
			"&alanguage=" + $("#alanguage").val() + "&country=" + $("#country").val() + "&state=" + $("#state").val() + "&street=" + $("#street").val()
			+ "&city=" + $("#city").val() + "&postalCode=" + $("#postalCode").val() + "&vatid=" + $("#vatid").val() + "&partnerfunction_billto=" + $("#partnerfunction_billtoR").val()
			+ "&partnerfunction_shipto=" + $("#partnerfunction_shiptoR").val() + "&partnerfunction_installat=" + $("#partnerfunction_installatR").val() + "&partnerfunction_licenseto=" + $("#partnerfunction_licensetoR").val()
			+ "&partnerfunction_base=" + $("#partnerfunction_baseR").val() + "&partnerfunction_primary=" + $("#partnerfunction_primary").val(), 
			asycronized : false
			});	
			var data1 = JSON.parse(data); 
			var success = data1.success;
			var task = data1.task;
			var duplicate = data1.duplicate;
			if(duplicate != null){
				window.ibmCommon.Overlays.show('showduplicates', this);
				$('#duplicates').empty();
				for ( var i = 0; i < duplicate.length; i++) {
					displayItems(duplicate[i]);  
				}
				//$('#btncancel').trigger('click');
			} else {
				window.parent.ibmCommon.Overlays.show('result', document.getElementById("createAddress"));
				$('#rtnMessage', window.parent.document).empty();
				//call suceesful
				if("Y" == success){
					if("E" == task.toUperCase){
						$("#rtnMessage").append("The customer is successfully extended with the site-id :" + data1.siteid);   
					} else if("P" == task.toUperCase){
						$("#rtnMessage").append("The customer is successfully promoted with the site-id :" + data1.siteid);   
					} else {
						$("#rtnMessage").append("The customer is successfully created with the site-id: " + data1.siteid);   
					}
					$("#" + name).attr("value",data1.siteid);
				} else {
					$('#rtnMessage').append('Requested SiteID cannot be created at this time. Please try again in a few minutes. If the problem persists please contact IBM');
				} 
				$('#btncancel', window.parent.document).trigger('click');
				$('#dupCancel').trigger('click');
			}
			
				
	
		}
		 
		function displayItems(arrObj){
			var tr = document.createElement('tr');
			tr.setAttribute('valign', 'top');
			var td1 = document.createElement('td');
			$("<a>").html(arrObj["SITEID"]).attr("href","#").bind('click',function(){
			passvalue($('#button_name').val(),arrObj["SITEID"],arrObj["TASK"]); 
			}).appendTo(td1); 
			tr.appendChild(td1);
			var td2 = document.createElement("td");  
			td2.innerHTML = arrObj["BUSINESS_NAME"];
			tr.appendChild(td2);
			var td3 = document.createElement("td");  
			td3.innerHTML = arrObj["BUSINESS_NATIVE"];
			tr.appendChild(td3);
			var td4 = document.createElement("td");  
			td4.innerHTML = arrObj["ADDRESS"]; 
			tr.appendChild(td4);
			var td5 = document.createElement("td");  
			td5.innerHTML = arrObj["DUNSID"]; 
			tr.appendChild(td5); 
			var td6 = document.createElement("td");  
			td6.innerHTML = arrObj["TAXID"]; 
			tr.appendChild(td6);
			var td7 = document.createElement("td");  
			td7.innerHTML = arrObj["MARKETSEGMENT"]; 
			tr.appendChild(td7); 
			var td8 = document.createElement("td");  
			td8.innerHTML = arrObj["ISU"]; 
			tr.appendChild(td8);
			var itemsTbody = document.getElementById("duplicates");//get table body object 
			itemsTbody.appendChild(tr);					
		}
		function submitForm(){
			//Company name 
			$("#errormessage2").empty();
			if($("#name1").attr("value") == "" && !$("#errormessage2").find("#id1").length){
				$("#errormessage2").append("<p class='ibm-ind-error' id='id1'><strong>Please input 'Company legal name'</strong></p>");   
				return false;
			} else {
				$("#errormessage2").find("#id1").remove();
			} 
			//vatid  
			if($("#name_native").attr("value") == "" && !$("#errormessage2").find("#id2").length){
				$("#errormessage2").append("<p class='ibm-ind-error' id='id2'><strong>Please input 'Company legal name'</strong></p>");  
				return false;
			} else {
				$("#errormessage2").find("#id2").remove();
			} 
			//language
			if($("#alanguage").attr("value") == "" && !$("#errormessage2").find("#id3").length){
				$("#errormessage2").append("<p class='ibm-ind-error' id='id3'><strong>???en_US.ibm.b7b.bp.search.errormsg.lang???</strong></p>");  
				return false;
			} else {
				$("#errormessage2").find("#id3").remove();
			} 
			//country
			if($("#country").attr("value") == "" && !$("#errormessage2").find("#id4").length){
				$("#errormessage4").append("<p class='ibm-ind-error' id='id4'><strong>???en_US.ibm.b7b.bp.search.errormsg.country???</strong></p>");  
				return false;
			} else {
				$("#errormessage2").find("#id4").remove();
			} 
			//State
			if($("#state").attr("value") == "" && !$("#errormessage2").find("#id5").length) {
				$("#errormessage2").append("<p class='ibm-ind-error' id='id5'><strong>???en_US.ibm.b7b.bp.search.errormsg.region???</strong></p>");  
				return false;
			} else {
				$("#errormessage2").find("#id5").remove();
			} 
			//Street
			if($("#street").attr("value") == "" && !$("#errormessage2").find("#id6").length){
				$("#errormessage2").append("<p class='ibm-ind-error' id='id6'><strong>???en_US.ibm.b7b.bp.search.errormsg.street???</strong></p>");  
				return false;
			} else {
				$("#errormessage2").find("#id6").remove();
			} 
			//City
			if($("#city").attr("value") == "" && !$("#errormessage2").find("#id7").length){
				$("#errormessage2").append("<p class='ibm-ind-error' id='id7'><strong>???en_US.ibm.b7b.bp.search.errormsg.city???</strong></p>");  
				return false;
			} else {
				$("#errormessage2").find("#id7").remove();
			} 
			//postalCode
			if($("#postalCode").attr("value") == "" && !$("#errormessage2").find("#id8").length){
				$("#errormessage2").append("<p class='ibm-ind-error' id='id8'><strong>???en_US.ibm.b7b.bp.search.errormsg.postalcode???</strong></p>"); 
				return false;
			} else {
				$("#errormessage2").find("#id8").remove();
			} 
			passvalue($('#button_name').val(),'',''); 
			//document.createform.submit();
		}
		
		function clickCancel(obj){
			document.getElementById("BASE").focus();
			window.ibmCommon.Overlays.close(obj);
		}
		 
</script> 
 <div class="ibm-common-overlay ibm-overlay-alt" id="createAddress">
			<div class="ibm-head">

			  <p><a id="close" class="ibm-common-overlay-close" href="#close">Close [X]</a></p>
			</div>
			<div class="ibm-body"> 
			  <div class="ibm-main"> <a class="ibm-access">
				<!-- Accessibility anchor -->
				</a>
				<p>The fields indicated with an asterisk (<span class="ibm-required">*</span>) are required to complete this transaction;</p>
				<div class="ibm-container-body" id="errormessage2"></div>
			<form id="createform" name="createform" action="/b2b_ibm/b2b/IBM_businesspartnercreate.do" name="endcustomerregistration" method="post"  class="ibm-column-form">
			  <input type="hidden" name="requestserial" value="4"/> 
				  <table role="presentation">
						
						<tr>
						<td><label for="ibm_customerfor">Create customer number for:</label><span>
						</td>
						<td><select id="ibm_customerfor" name="ibm_customerfor">
						
						<option value="BP10AIL4ST">K A P S Kommerzielle Abrechnungs-(BP10AIL4ST) Emersacker,86494 Germany> </option> 
						
						<option value="BP10AIL4ST">K A P S Kommerzielle Abrechnungs-(BP10AIL4ST) Emersacker,86494 Germany> </option> 
						
						</select>
						</td>
						</tr> 
						
					  <tr>
						<td><label for="name1 name_native">Company name:<span class="ibm-required">*</span></label>
						</td>
						<td><span>
							  <input name="name_english" id="name1" size="40" type="text" value="" aria-describedby="englishNote" />
							  <span id="englishNote">(english)</span><br />
							  <input name="name_native" id="name_native" size="40" type="text" value="" aria-describedby="nativeNote" /> 
							  <span id="nativeNote">(native language)</span></span>
						</td>
					  </tr>
					  <tr>
						<td><label for="vatid">VAT ID:</label>
						</td>
						<td><span>
							  <input name="vatid" id="vatid" size="20" type="text" value=""/></span>
						</td>
					  </tr>
					  <tr>
						<td><label for="alanguage">Language:
<span class="ibm-required">*</span></label>
						</td>
						<td> 
		<span> 				
		  <select name="alanguage" id="alanguage" onbeforeactivate="return false" onfocus="this.blur()" onmouseover="this.setCapture()" onmouseout="this.releaseCapture()">
		  <option value="">Select one</option> 
		   </select>
	</span>
						</td>
					  </tr>
					  <tr>
						<td> <label for="country">Country:<span class="ibm-required">*</span></label>
						</td>
						<td><span onmousemove="this.setCapture();" onmouseout="this.releaseCapture();">
						<select name="country" id="country" onchange="getState(this.options[this.options.selectedIndex].value)" onfocus="this.blur()">
							<option value="">Select one</option> 
						</select>
					  </span>
						</td>
					  </tr>
					  <tr>
						<td> <label for="state">State/Province:<span class="ibm-required">*</span></label>
						</td>
						<td><span>
					   <span><select name="state" id="state">
							<option value="">Select one</option>
						</select></span>
					  </span>
						</td>
					  </tr>  
					  <tr>
						<td> <label for="street">Address:<span class="ibm-required">*</span></label>
						</td>
						<td><span>
					  <input name="street" type="text" id="street" value="" size="40" />
					</span>
						</td>
					  </tr>
					  <tr>
						<td><label for="city">City:<span class="ibm-required">*</span></label>
						</td>
						<td><span>
					  <input name="city" id="city" size="40" type="text" value=""/>
					</span>
						</td>
					  </tr>
					  <tr>
						<td> <label for="postalCode">Postal code:<span class="ibm-required">*</span></label>
						</td>
						<td><span>
					   <input name="postalCode" id="postalCode" size="40" type="text" value=""/>
					</span>
						</td>
					  </tr>
				  </table>     
					  </span></p>
					  <div class="ibm-rule">
					<hr />
				  </div>

				   <p><label for="UPDATE">Primary use for address:</label>
<span class="ibm-input-group">

<div id="rBase"><input type="radio" id="baseR" name="bpname" onclick="bpClick(this)" title="0" aria-labelledby="lblbase" /><span id="lblbase">Base:</span></div>
&nbsp;&nbsp;&nbsp;&nbsp;<div id="rBillto"><input id="billtoR" type="radio" name="bpname" onclick="bpClick(this)" title="1">Bill to</input></div>
&nbsp;&nbsp;&nbsp;&nbsp;<div id="rShipto"><input id="shiptoR" type="radio" name="bpname" onclick="bpClick(this)" title="2">Ship to</input></div>
&nbsp;&nbsp;&nbsp;&nbsp;<div id="rInstallat"><input  id="installatR" type="radio" name="bpname" onclick="bpClick(this)" title="3">Install at</input></div>
&nbsp;&nbsp;&nbsp;&nbsp;<div id="rLicenseto"><input  id="licensetoR" type="radio" name="bpname" onclick="bpClick(this)" title="4">License to</input></div>
</span></p>

<p><label for="UPDATE">Secondary uses for address:</label>
<span class="ibm-input-group">

<input  type="checkbox" id="billto" name="bptype" onclick="doClick(this)"/><label for="billto">Bill to</label>
&nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="shipto" name="bptype" onclick="doClick(this)"/><label for="shipto">Ship to</label>
&nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="installat" name="bptype" onclick="doClick(this)"/><label for="installat">Install at</label>
&nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="licenseto" name="bptype" onclick="doClick(this)"/><label for="licenseto">License to</label>
</span></p>
<input type="hidden" name ="partnerfunction_billto" id="partnerfunction_billtoR" >
<input type="hidden" name ="partnerfunction_shipto" id="partnerfunction_shiptoR" >	
<input type="hidden" name ="partnerfunction_installat" id="partnerfunction_installatR" >	
<input type="hidden" name ="partnerfunction_licenseto" id="partnerfunction_licensetoR" >	
<input type="hidden" name ="partnerfunction_base" id="partnerfunction_baseR" >		 
<input type="hidden" name ="partnerfunction_primary" id="partnerfunction_primary" >
<input type="hidden" name ="button_name" id="button_name" >	   
</form>	                   
				  <div class="ibm-rule"><hr /></div> 
				  <div class="ibm-alternate-rule"><hr /></div>
				  <div class="ibm-buttons-row"> 
					<p>
					   <input  id="createbusinesspartner_create" class="ibm-btn-arrow-sec " type="button" onclick="submitForm();"  value="Create">
					   <span class="ibm-sep">
						&nbsp;
					  </span>
					  <input value="Cancel" type="button" name="ibm-cancel"  class="ibm-btn-cancel-sec" onclick="clickCancel(this);" id="btncancel"/>
					</p>
				  </div>
				<br /><br />
			  </div>
			</div>
			<div class="ibm-footer"></div>
		  </div>
<iframe name="addressFrame" width=0   height=0  frameborder=0 title="Address Window" >
</iframe>    
<!--
@ Copyright IBM Corp. 2012
 -->

<div class="ibm-common-overlay ibm-overlay-alt" id="showduplicates">
			<div class="ibm-head">

			  <p><a id="close" class="ibm-common-overlay-close" href="#close">Close [X]</a></p>
			</div>
			<div class="ibm-body"> 
			  <div class="ibm-container ibm-inner-data-table-last">
				<h2>Results</h2>
				<div class="ibm-container-body">
				  <p>Select the customer number of the customer for whom you want to create a new quote.</p>
						<table border="0" cellpadding="0" cellspacing="0" class="ibm-data-table ibm-alternating" summary="Data table with alternating rows example">
						  <thead>
							<tr>
							  <th width="11%" scope="col">Customer number</th>
							  <th width="14%" scope="col">Company name<br />(english)</th>
							  <th width="11%" scope="col">Company name <br />(native language)</th>
							  <th width="15%" scope="col">Address</th>
							  <th width="11%" scope="col">DUNS ID</th>
							  <th width="9%" scope="col">Tax ID</th>							  
							  <th width="15%" scope="col">Market segment</th>
							  <th width="9%" scope="col">ISU</th>
							</tr>
						  </thead>
						  <tbody id="duplicates">
						  	</tbody>
						</table>					 
						
						
					</div> 
				</div> 
				<div class="ibm-buttons-row"> 
					<p> 
					<input type="Button" class="ibm-btn-arrow-pri" name="selectbutton" value="Proceed with create anyway"
						 onclick="passvalue($('#button_name').val(),'','C')" >
					  <input value="Cancel" type="button" name="ibm-cancel" class="ibm-btn-cancel-sec" onclick="window.ibmCommon.Overlays.close(this)" id="dupCancel"/>
					</p>
				  </div>
			</div>
			<div class="ibm-footer"></div>
		  </div>
 <div class="ibm-common-overlay ibm-overlay-alt" id="result">
 	<div class="ibm-head"> 
		<p><a id="close" class="ibm-common-overlay-close" href="#close">Close [x]</a></p>
	</div>
	<div class="ibm-body"> 
	<div id="rtnMessage"></div>
	<div class="ibm-buttons-row"> 
		<p>  
		  <input value="OK" type="button" name="ibm-ok" class="ibm-btn-arrow-pri" onclick="window.ibmCommon.Overlays.close(this)"/>
		</p>
	  </div>
 	</div>
	<div class="ibm-footer"></div>
 </div>		  
 
<!--
@ Copyright IBM Corp. 2012
 -->
 

<div class="ibm-common-overlay ibm-overlay-alt" id="AddressOverride">
	<div class="ibm-head">
		<p><a id="close" class="ibm-common-overlay-close" href="#close">Close [X]</a></p>
	</div>
	<div class="ibm-body">
		<div class="ibm-main">
			<a class="ibm-access">Address override</a>  
			<p>This address will be used only for this cart.</p>
			<!--BHALM00177184:Start of inclusion of hidden field by Arnab on 12/03/2012 to determine whether the "Address Override" link is clicked or not-->
			<input type="hidden" id="addressOverrideFlag" name="addressOverrideFlag" value=""/>
			<!--BHALM00177184:End of inclusion of hidden field by Arnab on 12/03/2012 to determine whether the "Address Override" link is clicked or not-->
			<table>
				<!-- Name(Company name) -->
				<tr>
					<td style="font-weight:bold;width: 150px;"><label for="ovr_name">Name:</label></td>
					<td>
						<input name="ovr_name" id="ovr_name" size="40" type="text" value=""/>
						<input type="hidden" name="ovr_shipto" id="ovr_shipto" value=""/>
						<input type="hidden" name="ovr_elmtID" id="ovr_elmtID" value=""/>
					</td>
				</tr>
				<!-- Address 1(Street) -->
				<tr>
					<td style="font-weight:bold;width: 150px;"><label for="ovr_address1">Address 1:</label></td>
					<td>
						<input name="ovr_address1" type="text" id="ovr_address1" value="" size="40" />
					</td>
				</tr>
				<!-- Address 2(Street) -->
				<tr>
					<td style="font-weight:bold;width: 150px;"><label for="ovr_address2">Address 2:</label></td>
					<td>
						<input name="ovr_address2" type="text" id="ovr_address2" value="" size="40" />
					</td>
				</tr>
				<!-- City -->
				<tr>
					<td style="font-weight:bold;width: 150px;"><label for="ovr_city">City:</label></td>
					<td>
						<input name="ovr_city" id="ovr_city" size="40" type="text" value=""/>
					</td>
				</tr>
				<!-- State -->
				<tr>
					<td style="font-weight:bold;width: 150px;"><label for="ovr_state">State/Region:</label></td>
					<td>
						<select name="ovr_state" id="ovr_state">
							<option value="">Select country first</option>
						</select>
					</td>
				</tr>
				<!-- Country -->
				<tr>
					<td style="font-weight:bold;width: 150px;"><label for="ovr_country">Country:</label></td>
					<td>
						<select name="ovr_country" id="ovr_country" onchange="getOvrAddressState(this.options[this.options.selectedIndex].value)">
							<option value="">Select one</option> 
						</select>
					</td>
				</tr>
				<!-- District -->
				<tr style="display:none">
					<td style="font-weight:bold;width: 150px;"><label for="ovr_dist">District::</label></td>
					<td>
						<input name="ovr_dist" id="ovr_dist" size="30" type="hidden" value=""/>
					</td>
				</tr>
				<!-- Zip -->
				<tr>
					<td style="font-weight:bold;width: 150px;"><label for="ovr_zip">Zip:</label></td>
					<td>
						<input name="ovr_zip" id="ovr_zip" size="10" type="text" value=""/>
					</td>
				</tr>
			</table>
			<div class="ibm-buttons-row">
				<p>
					<input value="Submit" type="button" name="ibm-submit" class="ibm-btn-arrow-pri" onclick="parseOverrideAddress(this)" />
					<span class="ibm-sep">&nbsp;</span>
					<input value="Cancel" type="button" name="ibm-cancel" class="ibm-btn-cancel-sec" onclick="window.ibmCommon.Overlays.close(this)" />
				</p>
			</div>
		</div>
	</div>
	<div class="ibm-footer">
	</div>
</div>
 <div class="ibm-common-overlay ibm-overlay-alt" id="itemselection">
  <div class="ibm-head">
    <p>
      <a class="ibm-common-overlay-close" href="#close">
      </a>
    </p>
  </div>
  <div class="ibm-body">
    <div class="ibm-main">
      <a class="ibm-access">
        Item Selection
      </a>
      <p>
        Item Selection
      </p>
      <div class="ibm-rule">
        <hr />
      </div>
      <span style="display:inline; margin-left:7px;">
        <form class="ibm-column-form" name="itemselection">
          <table border="0" cellpadding="1" cellspacing="1">
            <tr>
              <td style="font-weight:bold;">
                P.O Number
              </td>
              <td style="font-weight:bold;">
                <input name="PO_NUMBER_SOLD" type="text" />
              </td>
            </tr>
            <tr>
              <td style="font-weight:bold;">
                Config Type
              </td>
              <td style="font-weight:bold;">
                <input name="ZZYTPC" type="text" />
              </td>
            </tr>
            <tr>
              <td style="font-weight:bold;">
                Agreement type
              </td>
              <td style="font-weight:bold;">
                <input name="ZZY_AGREE_TYPE" type="text" />
              </td>
            </tr>
            <tr>
              <td style="font-weight:bold;">
                Charge option short name
              </td>
              <td style="font-weight:bold;">
                <input name="ZZYCHO" type="text" />
              </td>
            </tr>
            <tr>
              <td style="font-weight:bold;">
                Sysplex Number
              </td>
              <td style="font-weight:bold;">
                <input name="ZZY_SYSPLEX_NBR" type="text" />
              </td>
            </tr>
            <tr>
              <td style="font-weight:bold;">
                SWO Serial Number
              </td>
              <td style="font-weight:bold;">
                <input name="ZZYSWS" type="text" />
              </td>
            </tr>
            <tr>
              <td style="font-weight:bold;">
                Designated Machine Type
              </td>
              <td style="font-weight:bold;">
                <input name="ZZYDCP" type="text" />
              </td>
            </tr>
            <tr>
              <td style="font-weight:bold;">
                Designated Machine Serial
              </td>
              <td style="font-weight:bold;">
                <input name="ZZYDCS" type="text" />
              </td>
            </tr>
            <tr>
              <td style="font-weight:bold;">
                Bump flag
              </td>
              <td style="font-weight:bold;">
                <input name="ZZYBUF" type="text" />
              </td>
            </tr>
            <tr>
              <td style="font-weight:bold;">
                SVC Requested Indicator
              </td>
              <td style="font-weight:bold;">
                <input name="ZZYSVF" type="text" />
              </td>
            </tr>
            <tr>
              <td style="font-weight:bold;">
                Special Pricing Applicability Indicator
              </td>
              <td style="font-weight:bold;">
                <input name="ZZY_SP_PR_APL_ID" type="text" />
              </td>
            </tr>
          </table>
        </form>
      </span>
      <div class="ibm-buttons-row">
        <hr />
        <p>
          <input value="Select" type="button" name="ibm-submit" class="ibm-btn-arrow-pri" onclick="selectItems(5);window.ibmCommon.Overlays.close(this);" />
          <span class="ibm-sep">
            &nbsp;
          </span>
          <input value="Cancel" type="button" name="ibm-cancel" class="ibm-btn-cancel-sec" onclick="window.ibmCommon.Overlays.close(this)" />
        </p>
      </div>
    </div>
  </div>
  <div class="ibm-footer">
  </div>
</div>

 
              <div class="ibm-common-overlay  ibm-overlay-alt" id="mass">
                <div class="ibm-head">
                  <p><a class="ibm-common-overlay-close" href="#close"></a></p>

                </div>
                <div class="ibm-body">
                  <div class="ibm-main"> <a class="ibm-access">Mass Update : Step 1, select criteria.</a>
                    <div class="ibm-title">
                      <h1>Mass Update : Step 1, select criteria.</h1>
                    </div>
                    <p>Enter criteria below to select itmes for mass update.  Choose next to review selected items.</p>

                    <form class="ibm-column-form" id="mu_step1">
                      <p>
                        <label>PO Number:</label>
                        <span>
                        	<select id="mu_po_list">
                        	<option selected="selected"> </option>                        	
	                        </select>
                        </span>
                      </p>
                      <p>
                        <label>Ship-to:</label>
                        <span>
                        <select id="mu_st_list">
                        	<option selected="selected"> </option>
                        </select>
                        </span></p>
                      <p>
                        <label>Bill-to:</label>
                        <span>
	                        <select id="mu_bt_list">
    		                   	<option selected="selected"> </option>
            	            </select>
                        </span>
                      </p>
                      <p>
                        <label>Install-at:</label>
                        <span>
                        <select id="mu_ia_list">
                        	<option selected="selected"> </option>
                        </select>
                        </span>
                      </p>
                      <p>
                        <label>License-to:</label>
                        <span>
                        <select id="mu_lt_list">
                        	<option selected="selected"> </option>
                        </select>
                        </span>
                      </p>
                      <p>
                        <label>Config type:</label>
                        <span>
                        <select id="mu_ct_list">
                        	<option selected="selected"> </option>
                        </select>
                        </span>
                      </p>
                      <p>
                        <label>Designated machine:</label>
                        <span>
                        <select id="mu_dm_list">
                        	<option selected="selected"> </option>
                        </select>
                        </span>
                      </p>
                      <p>

                        <label>Agreement type:</label>
                        <span>
                        <select id="mu_at_list">
                        	<option selected="selected"> </option>
                        </select>
                        </span>
                      </p>
                      <p>
                        <label>Charge option:</label>
                        <span>
                        <select id="mu_co_list">
                        	<option selected="selected"> </option>
                        </select>
                        </span>
                      </p>
                    </form>
                    <div class="ibm-buttons-row">
                      <p>
                        <input value="Next" type="submit" name="ibm-submit" class="ibm-btn-arrow-pri" onclick="window.ibmCommon.Overlays.close(this); init_mass_update2();ibmCommon.Overlays.show('mass2', this);return false;"/>
                        <span class="ibm-sep">&nbsp;</span>
                        <input value="Cancel" type="submit" name="ibm-cancel" class="ibm-btn-cancel-sec" onclick="window.ibmCommon.Overlays.close(this); return false;" />
                      </p>
                    </div>
                  </div>
                </div>
                <div class="ibm-footer"></div>
              </div>
              
              <div class="ibm-common-overlay ibm-overlay-alt" id="mass2">
                <div class="ibm-head">
                  <p><a class="ibm-common-overlay-close" href="#close">Close [x]</a></p>
                </div>
                <div class="ibm-body">
                  <div class="ibm-main"> 
                  	<a class="ibm-access">Mass Update -- Step 2</a>

                    <div class="ibm-title">
                      <h1>Mass Update : Step 2, select item.</h1>
                    </div>
                    <p id="instruction">Review the items below and deselect any you do not want to apply the mass update to.  Choose 'Back' to change criteria.  Choose 'Next' to set new value.</p>
                    <form class="ibm-column-form" id="mu_step2">
                    <table class="ibm-data-table">
                      <thead>
                        <tr>
                          <th><input id="mu_select_all_item" name="" type="checkbox" value="" checked="checked" /></th>
                          <th>Item</th>
                          <th>Product ID</th>
                          <th>Product description</th>
                        </tr>
                      </thead>
                      <tbody>
                      </tbody>
                    </table>
                    <div class="ibm-buttons-row">
                      <p>
                        <input value="Submit" type="submit" name="ibm-submit" class="ibm-btn-back-sec"  onclick="window.ibmCommon.Overlays.close(this); ibmCommon.Overlays.show('mass', this);return false;" />
                        <span class="ibm-sep">&nbsp;</span>
                        <input value="Next" type="submit" name="ibm-undo" class="ibm-btn-arrow-sec"  onclick="window.ibmCommon.Overlays.close(this); ibmCommon.Overlays.show('mass3', this);return false;" />
                        <span class="ibm-sep">&nbsp;</span>
                        <input value="Cancel" type="submit" name="ibm-cancel" class="ibm-btn-cancel-sec" onclick="window.ibmCommon.Overlays.close(this); return false;" />
                      </p>
                    </div>
                    </form>
                  </div>
                </div>
                <div class="ibm-footer"></div>
              </div>
              
              <div class="ibm-common-overlay ibm-overlay-alt-two" id="mass3">
                <div class="ibm-head">
                  <p><a class="ibm-common-overlay-close" href="#close">Close [x]</a></p>
                </div>
                <div class="ibm-body">
                  <div class="ibm-main">
	                <a class="ibm-access">Mass Update -- Step 3</a>
                    <!--INSERT OVERLAY CONTENT HERE -->
                    <div class="ibm-title">
                      <h1>Mass Update : Step 3, enter new value.</h1>
                    </div>
                    <p>Enter data in the fields you want to update.</p>
                    <form class="ibm-column-form" id="mu_step3" name="mu_step3">
                      <p>
                        <label for="product number">PO number:</label>
                        <span>
                        <input id="mu_po_new" name="mu_po_new" type="text" id="ProdID" size="40" />
                      </p>
                      <p>
                        <label for="contact">Ship to:</label>
                      	<span style="display:inline; margin-left:7px;">
	                    <input id="mu_st_new" name="mu_st_new" type="text" id="field" size="12"  />
                      	<span class="ibm-form-note" style="display:inline; margin-left:4px; margin-right:5px;">(SiteID e.g. SC87263741) </span>
	                      	<table border="0" cellpadding="0" cellspacing="0" style="margin-left:157px">
		                        <tr>
		                          <td style="font-size:1em; padding:2 5;"><p class="ibm-ind-link">
                                    <a class="ibm-forward-link" onclick="getHelpValuesPopupCustomer('mu_step3','', 'mu_st_new', document.forms.mu_step3.mu_st_new.name, document.forms.mu_step3.mu_st_new.value)" href="javascript:void(0)">Search</a>
                                  </p></td>
		                        </tr>
			                </table>
	    	            </span>
                      </p>
                      <p>
                        <label for="contact">License to</label>
	                    <span style="display:inline; margin-left:7px;">
                      	<input id="mu_lt_to" name="mu_lt_to" type="text" id="field" size="12"  />
                      	<span class="ibm-form-note" style="display:inline; margin-left:4px; margin-right:5px;">(SiteID e.g. SC87263741) </span>
                      	<table border="0" cellpadding="0" cellspacing="0" style="margin-left:157px">
                        <tr>
                          <td style="font-size:1em;"><p class="ibm-ind-link">
                            <a class="ibm-forward-link" onclick="getHelpValuesPopupCustomer('mu_step3','', 'mu_lt_to', document.forms.mu_step3.mu_lt_to.name, document.forms.mu_step3.mu_lt_to.value)" href="javascript:void(0)">Search</a>
                          </p></td>
                        </tr>
                      </table>
                      </span>
                      </p>
                      <p>
                        <label for="contact">Install at</label>
                      <span style="display:inline; margin-left:7px;">

                      <input id="mu_ia_new" name="mu_ia_new" type="text" id="field" size="12"  />
                      <span class="ibm-form-note" style="display:inline; margin-left:4px; margin-right:5px;">(SiteID e.g. SC87263741) </span>
                      <table border="0" cellpadding="0" cellspacing="0" style="margin-left:157px">
                        <tr>
                          <td style="font-size:1em;"><p class="ibm-ind-link">
                            <a class="ibm-forward-link" onclick="getHelpValuesPopupCustomer('mu_step3','', 'mu_ia_new', document.forms.mu_step3.mu_ia_new.name, document.forms.mu_step3.mu_ia_new.value)" href="javascript:void(0)">Search</a>
                          </p></td>
                        </tr>
                      </table>
                      </span>

                      </p>
                      <p>
                        <label for="contact">Bill to</label>
                      <span style="display:inline; margin-left:7px;">
                      <input id="mu_bt_new" name="mu_bt_new" type="text" id="field" size="12"  />
                      <span class="ibm-form-note" style="display:inline; margin-left:4px; margin-right:5px;">(SiteID e.g. SC87263741) </span>
                      <table border="0" cellpadding="0" cellspacing="0" style="margin-left:157px">
                        <tr>
                          <td style="font-size:1em;"><p class="ibm-ind-link">
                            <a class="ibm-forward-link" onclick="getHelpValuesPopupCustomer('mu_step3','', 'mu_bt_new', document.forms.mu_step3.mu_bt_new.name, document.forms.mu_step3.mu_bt_new.value)" href="javascript:void(0)">Search</a>
                          </p></td>
                        </tr>
                      </table>
                      </span>
                      </p>
                      <p>
                        <label >Delivery contact:</label>
                        <span style="float: left; margin-left:5px; width:100px;">Email</span> 
                        <span style="float: left; margin-left:5px; width:150px;">Name</span> 
                        <span style="float: left; margin-left:5px; width:100px;">Phone</span>
                        <span style="float: left; margin-left:5px; width:100px;">Fax</span>
                        <br />
                        <span style="float: left; margin-left:155px; width:100px;">
	                        <input id="mu_dc_new_email" name="mu_dc_new_email" id="field" size="13" value=""  type="text" />
                        </span> 
                        <span style="float: left; margin-left: 5px; width:100px;">
    	                    <input id="mu_dc_new_name" name="mu_dc_new_name" id="field" size="20" value=""  type="text" />
                        </span> 
                        <span style="float: left; margin-left: 55px; width:100px;">
        	                <input id="mu_dc_new_phone" name="mu_dc_new_phone" id="field" size="10" value=""  type="text" />
                        </span> 
                        <span style="float: left; margin-left:5px; width:100px;">
            	            <input id="mu_dc_new_fax" name="mu_dc_new_fax" id="field" size="13" value=""  type="text" />
                        </span>
                      </p>
                      <p>
                        <label >Bill to contact:</label>
                        <span style="float: left; margin-left:5px; width:100px;">Email</span> 
                        <span style="float: left; margin-left:5px; width:150px;">Name</span> 
                        <span style="float: left; margin-left:5px; width:100px;">Phone</span>
                        <span style="float: left; margin-left:5px; width:100px;">Fax</span>
                        <br />
                        <span style="float: left; margin-left:155px; width:100px;">
	                        <input name="mu_btc_new_email" id="mu_btc_new_email" size="13" value=""  type="text" />
                        </span> 
                        <span style="float: left; margin-left: 5px; width:100px;">
    	                    <input name="mu_btc_new_name" id="mu_btc_new_name" size="20" value=""  type="text" />
                        </span> 
                        <span style="float: left; margin-left: 55px; width:100px;">
	                        <input name="mu_btc_new_phone" id="mu_btc_new_phone" size="10" value=""  type="text" />
                        </span> 
                        <span style="float: left; margin-left:5px; width:100px;">
    	                    <input name="mu_btc_new_fax" id="mu_btc_new_fax" size="13" value=""  type="text" />
                        </span>
                      </p>
                      <div class="ibm-buttons-row">
                        <p>
	                      <input value="Back" type="submit" name="ibm-back" class="ibm-btn-back-sec" onclick="window.ibmCommon.Overlays.close(this); ibmCommon.Overlays.show('mass2', this);return false;" />
	                      <span class="ibm-sep">&nbsp;</span>
	                      <input value="Submit" type="submit" name="ibm-submit" class="ibm-btn-arrow-sec" onclick="window.ibmCommon.Overlays.close(this);mu_perform_update();return false;" />
	                      <span class="ibm-sep">&nbsp;</span>
	                      <input value="Cancel" type="submit" name="ibm-cancel" class="ibm-btn-cancel-sec" onclick="window.ibmCommon.Overlays.close(this);return false;" />
	                    </p>
	                  </div>
                    </form>
                  </div>
                </div>

                <div class="ibm-footer"></div>
              </div>





<script type="text/javascript">

function init_mass_update(){
  

  if($("#mass_update_link").length){
    $("input[id='mu_select_all_item']").click(function(e){
      if($("input[id='mu_select_all_item']").is(":checked")){
        $("input.mass-update-item-selector").each(function(){
          $(this).attr("checked", true);
        });
      }else{
        $("input.mass-update-item-selector").each(function(){
          $(this).attr("checked", false);
        });
      }
    });
  	$("#mass_update_link").click(function(e){
  	  e.preventDefault();
  	  mu_collect_po_number();
  	  mu_collect_others();
  	  ibmCommon.Overlays.show('mass', this);
  	  return false;
  	});
  }
}


function init_mass_update2(){
  
  var po = $("#mu_po_list").val();
  var st = $("#mu_st_list").val();
  var bt = $("#mu_bt_list").val();
  var ia = $("#mu_ia_list").val();
  var lt = $("#mu_lt_list").val();
  var ct = $("#mu_ct_list").val();
  var dm = $("#mu_dm_list").val();
  var at = $("#mu_at_list").val();
  var co = $("#mu_co_list").val();
  
  var productList = "";
  $("tr[id^='row_']").each(function(index){
    var i = index + 1;
    var itemId = $("input[name='pos_no[" + i + "]']", $(this)).val();
    var productId = $("input[name='product[" + i + "]']", $(this)).val();
    var productDescription = $("td.desc > a", $(this)).text();
    if(typeof itemId == 'undefined'){
      return;
    }
    var detail = $("tr[id='rowdetail_" + i + "']");
    if(po != "_none_" && $.trim(po) != $.trim($("select[id='" + i + "po_number']", detail).val())){
      
      return;
    }
    if(st != "_none_" && $.trim(st) != $.trim($("input[id='SHIPTO[" + i + "]']", detail).val())){
      
      return;
    }
    if(bt != "_none_" && $.trim(bt) != $.trim($("input[id='BILLTO[" + i + "]']", detail).val())){
      
      return;
    }
    if(ia != "_none_" && $.trim(ia) != $.trim($("input[id='ZZI[" + i + "]']", detail).val())){
      
      return;
    }
    if(lt != "_none_" && $.trim(lt) != $.trim($("input[id='ZLT[" + i + "]']", detail).val())){
      
      return;
    }
    if(ct != "_none_" && $.trim(ct) != $.trim($("input[id='CONFIG_TYPE[" + i + "]']", detail).val())){//TODO
      
      return;
    }
    if(dm != "_none_" && $.trim(dm) != $.trim($("input[id='zdsgn[" + i + "]']", detail).val())){
      
      return;
    }
    if(at != "_none_" && $.trim(at) != $.trim($("input[id='AGREEMENT_TYPE[" + i + "]']", detail).val())){//TODO
      
      return;
    }
    if(co != "_none_" && $.trim(co) != $.trim($("input[id='CHARGE_OPTION[" + i + "]']", detail).val())){//TODO
      
      return;
    }
    productList += "<tr><td><input class='mass-update-item-selector' name='mass_update_item_selector[" + i + "]' type='checkbox' value='" + itemId + "' checked='checked' /></td><td>" + itemId + "</td><td>" + productId + "</td><td>" + productDescription + "</td></tr>";
  });
  if(productList == ""){
    $("p[id='instruction']", $("div.ibm-common-overlay[id='mass2']")).text("No item match selection criteria, back to change criteria or cancel this mass update operation.");
    $("input[name='ibm-undo']", $("div.ibm-common-overlay[id='mass2']")).hide();
    $("form[id='mu_step2'] > table").hide();
  }else{
    $("p[id='instruction']", $("div.ibm-common-overlay[id='mass2']")).text("Review the items below and deselect any you do not want to apply the mass update to.  Choose 'Back' to change criteria.  Choose 'Next' to set new value.");
    $("input[name='ibm-undo']", $("div.ibm-common-overlay[id='mass2']")).show();
    $("form[id='mu_step2'] > table").show();
    $("form[id='mu_step2'] > table > tbody").html(productList);
  }
}


function mu_collect_others(){
  
  var stMap = new Object();
  var stList = "<option value='_none_'>--Do not use this criteria--</option>";
  var btMap = new Object();
  var btList = "<option value='_none_'>--Do not use this criteria--</option>";
  var iaMap = new Object();
  var iaList = "<option value='_none_'>--Do not use this criteria--</option>";
  var ltMap = new Object();
  var ltList = "<option value='_none_'>--Do not use this criteria--</option>";
  var ctMap = new Object();
  var ctList = "<option value='_none_'>--Do not use this criteria--</option>";
  var dmMap = new Object();
  var dmList = "<option value='_none_'>--Do not use this criteria--</option>";
  var atMap = new Object();
  var atList = "<option value='_none_'>--Do not use this criteria--</option>";
  var coMap = new Object();
  var coList = "<option value='_none_'>--Do not use this criteria--</option>";
  
  $("tr[id^='rowdetail_']").each(function(index){
    var i = index + 1;
    
    var key = $("input[id^='SHIPTO']", $(this)).val();
    if($.trim(key) != ""){
      key = $.trim(key);
      stMap[key] = key;
      
    }
    key = $("input[id^='BILLTO']", $(this)).val();
    if($.trim(key) != ""){
      key = $.trim(key);
      btMap[key] = key;
      
    }
    key = $("input[id^='ZZI']", $(this)).val();
    if($.trim(key) != ""){
      key = $.trim(key);
      iaMap[key] = key;
      
    }
    key = $("input[id^='ZLT']", $(this)).val();
    if($.trim(key) != ""){
      key = $.trim(key);
      ltMap[key] = key;
      
    }
    key = $("input[id^='CONFIG_TYPE']", $(this)).val();//TODO, need map for 'config type'
    if($.trim(key) != ""){
      key = $.trim(key);
      ctMap[key] = key;
      
    }
    key = $("input[id^='zdsgn']", $(this)).val();
    if($.trim(key) != ""){
      key = $.trim(key);
      dmMap[key] = key;
      
    }
    key = $("input[id^='AGREEMENT_TYPE']", $(this)).val();//TODO, need map for 'agreement type'
    if($.trim(key) != ""){
      key = $.trim(key);
      atMap[key] = key;
      
    }
    key = $("input[id^='CHARGE_OPTION']", $(this)).val();//TODO, need map for 'agreement type'
    if($.trim(key) != ""){
      key = $.trim(key);
      coMap[key] = key;
      
    }
  });
  $.each(stMap, function(key, value){
    stList += "<option value='" + key + "'>" + key + "</option>";
  });
  $("#mu_st_list").html(stList);
  $.each(btMap, function(key, value){
    btList += "<option value='" + key + "'>" + key + "</option>";
  });
  $("#mu_bt_list").html(btList);
  $.each(iaMap, function(key, value){
    iaList += "<option value='" + key + "'>" + key + "</option>";
  });
  $("#mu_ia_list").html(iaList);
  $.each(ltMap, function(key, value){
    ltList += "<option value='" + key + "'>" + key + "</option>";
  });
  $("#mu_lt_list").html(ltList);
  $.each(ctMap, function(key, value){
    ctList += "<option value='" + key + "'>" + key + "</option>";
  });
  $("#mu_ct_list").html(ltList);
  $.each(dmMap, function(key, value){
    dmList += "<option value='" + key + "'>" + key + "</option>";
  });
  $("#mu_dm_list").html(dmList);
  $.each(atMap, function(key, value){
    atList += "<option value='" + key + "'>" + key + "</option>";
  });
  $("#mu_at_list").html(atList);
  $.each(coMap, function(key, value){
    coList += "<option value='" + key + "'>" + key + "</option>";
  });
  $("#mu_co_list").html(coList);
}


function mu_collect_po_number(){
  
  var poList = "<option value='_none_'>--Do not use this criteria--</option>";
  $("select#PriceHeaderpo_number > option").each(function(index){
    if(index > 0){
      poList += "<option value='" + $(this).attr("value") + "'>" + $(this).text() + "</option>";
      
    }
  });
  $("#mu_po_list").html(poList);
}


function mu_perform_update(){
  
  
  var po = $("#mu_po_new").val();  //PO number
  var st = $("#mu_st_new").val();  //Ship to
  var bt = $("#mu_bt_new").val();  //Bill to
  var ia = $("#mu_ia_new").val();  //Install at
  var lt = $("#mu_lt_to").val();   //Licence to
  //var ct = $("#mu_ct_list").val();
  //var dm = $("#mu_dm_list").val();
  //var at = $("#mu_at_list").val();
  //var co = $("#mu_co_list").val();
  
  //Delivery contact
  var dcEmail = $("#mu_dc_new_email").val();
  var dcName = $("#mu_dc_new_name").val();
  var dcPhone = $("#mu_dc_new_phone").val();
  var dcFax = $("#mu_dc_new_fax").val();
  
  //Bill to contact
  var btcEmail = $("#mu_btc_new_email").val();
  var btcName = $("#mu_btc_new_name").val();
  var btcPhone = $("#mu_btc_new_phone").val();
  var btcFax = $("#mu_btc_new_fax").val();
  

  $("input.mass-update-item-selector").each(function(index){
    var item_seq = $(this).val() / 10;
    
    if((typeof po != 'undefined') && ($.trim(po) != "") && ($.trim(po) != "_none_")){
      $("select[name='po_number[" + item_seq + "]']").val(po);
    }
    if((typeof st != 'undefined') && ($.trim(st) != "") && ($.trim(st) != "_none_")){
      $("input[name='SHIPTO[" + item_seq + "]']").val(st);
    }
    if((typeof bt != 'undefined') && ($.trim(bt) != "") && ($.trim(bt) != "_none_")){
      $("input[name='BILLTO[" + item_seq + "]']").val(bt);
    }
    if((typeof ia != 'undefined') && ($.trim(ia) != "") && ($.trim(ia) != "_none_")){
      $("input[name='ZZI[" + item_seq + "]']").val(ia);
    }
    if((typeof lt != 'undefined') && ($.trim(lt) != "") && ($.trim(lt) != "_none_")){
      $("input[name='ZLT[" + item_seq + "]']").val(lt);
    }
    /*
    if((typeof ct != 'undefined') && ($.trim(ct) != "") && ($.trim(ct) != "_none_")){
      $("input[name='CONFIG_TYPE[" + item_seq + "]']").val(ct);//TODO
    }
    if((typeof dm != 'undefined') && ($.trim(dm) != "") && ($.trim(dm) != "_none_")){
      $("input[name='zdsgn[" + item_seq + "]']").val(dm);
    }
    if((typeof at != 'undefined') && ($.trim(at) != "") && ($.trim(at) != "_none_")){
      $("input[name='AGREEMENT_TYPE[" + item_seq + "]']").val(at);//TODO
    }
    if((typeof co != 'undefined') && ($.trim(co) != "") && ($.trim(co) != "_none_")){
      $("input[name='CHARGE_OPTION[" + item_seq + "]']").val(co);
    }
    */
    if((typeof dcEmail != 'undefined') && ($.trim(dcEmail) != "") && ($.trim(dcEmail) != "_none_")){
      $("input[name='Z9Bemail[" + item_seq + "]']").val(dcEmail);
    }
    if((typeof dcName != 'undefined') && ($.trim(dcName) != "") && ($.trim(dcName) != "_none_")){
      $("input[name='Z9Bname[" + item_seq + "]']").val(dcName);
    }
    if((typeof dcPhone != 'undefined') && ($.trim(dcPhone) != "") && ($.trim(dcPhone) != "_none_")){
      $("input[name='Z9Btel[" + item_seq + "]']").val(dcPhone);
    }
    if((typeof dcFax != 'undefined') && ($.trim(dcFax) != "") && ($.trim(dcFax) != "_none_")){
      $("input[name='Z9Bfax[" + item_seq + "]']").val(dcFax);
    }

    if((typeof btcEmail != 'undefined') && ($.trim(btcEmail) != "") && ($.trim(btcEmail) != "_none_")){
      $("input[name='ZBCemail[" + item_seq + "]']").val(btcEmail);
    }
    if((typeof btcName != 'undefined') && ($.trim(btcName) != "") && ($.trim(btcName) != "_none_")){
      $("input[name='ZBCname[" + item_seq + "]']").val(btcName);
    }
    if((typeof btcPhone != 'undefined') && ($.trim(btcPhone) != "") && ($.trim(btcPhone) != "_none_")){
      $("input[name='ZBCtel[" + item_seq + "]']").val(btcPhone);
    }
    if((typeof btcFax != 'undefined') && ($.trim(btcFax) != "") && ($.trim(btcFax) != "_none_")){
      $("input[name='ZBCfax[" + item_seq + "]']").val(btcFax);
    }
  });
}
</script>

        
  
<div id="add" class="ibm-common-overlay ibm-overlay-alt" style="display: none; top: 776.5px; left: -30.5px;">
	<div class="ibm-head"> 
		<p><a class="ibm-common-overlay-close" href="#close" onclick="clearForm();">Close [x]</a></p>
	</div>
	<div class="ibm-body">
		<div class="ibm-main">			
			<div class="ibm-container ibm-alternate ibm-buttons-last">   
				<div class="ibm-container-body">
					<p>You can add products by entering a list of product IDs separated by a comma, uploading an excel (.xls) file of product IDs, or uploading a PSAT/SSCT (.csv) file of product IDs. Select one method below</p>
					<div class="ibm-rule">
					<hr />
					</div>     
						<form action="/b2b_ibm/b2b/ibm/addFromCatalog.do" class="ibm-column-form" enctype="multipart/form-data" name="productUploadForm"  id="productUploadForm" method="post">
							<p><label for="productList">Enter Product IDs</label><span><input name="productList" id="productList" size="25" value="" style="width: 200px;" type="text">
							  <span class="ibm-item-note">(prod#, prod#)</span></span></p>
							<p>
		                    	<label for="upload format">Upload Format::</label>
		                    <span>
				                <input type="radio" checked="" value="XLS" name="fileType"/>Excel (.xls)
								<input type="radio" value="CSV" name="fileType"/>PSAT/SSCT (.csv)
		                    </span>
		                  </p>
		                  <p>
							<label id="importfile_msg" style="color:red;width: 500px;"></label>
		                  </P>
							<p><label for="importFile_file">Upload list of parts</label><span><input name="importFile" id="importFile_file" size="25" value="" style="width: 200px;" type="file"></span></p>
							<div class="ibm-overlay-rule"><hr /></div>
							<p class="ibm-first"><input class="ibm-btn-arrow-pri" name="ibm-submit" value="Submit" type="button" onclick="checkExtName()" ></p>
					</form>	
					 
					
				</div>
			</div>
		</div>
	</div>
	<div class="ibm-footer"></div>
</div> 
	<script language="Javascript">
	   headerReqDelDateOld = '26.02.2014';
	</script> 
 
	<script type="text/javascript">
		disableFieldsBasedOnTab('0');
	</script>



</div>

<!-- FEATURES_BEGIN -->
<div class="module-name"><isa:moduleName name="appbase/ibm/layout/Ibmcontentbottom.inc.jsp" /></div>
<div id="ibm-content-sidebar">

<div id="ibm-contact-module">
<!--IBM Contact Module-->
</div>

<div id="ibm-merchandising-module">
<!--IBM Web Merchandising Module-->
</div>




 




<script language="javascript">

function popitup(url) {
	newwindow=window.open(url,'name','width=450,height=450,menubar=no,locationbar=no,scrollbars=yes,resizable=yes');
	if (window.focus) {newwindow.focus()}
	return false; 
}
</script>




<!-- Commented by Rajiv Mangam for EDD22
<jsp:include page="/b2b/ibm/IBM_CSS.inc" flush="true"/>
-->


<div class="ibm-container ibm-live-assistance" role="complementary" aria-labelledby="ibm-live-help" >
	<h2 id="ibm-live-help" role="presentation">We're here to help</h2>
	<div class="ibm-container-body">
		<div class="ibm-portrait">
			<img src="//www-03.ibm.com/systems/resources/systems_img_woman1_final.gif" width="35" 

height="35" alt="Help" />
			<p>Easy ways to get the answers you need.</p>
		</div>
		<ul class="ibm-live-assistance-list">
			<li class="ibm-first"><a class="ibm-forward-link" href="about:blank" target="_blank" onclick="javascript:void(0);"> View web store help</a></li>
			<li>
			
			<!--<a href="#" class="ibm-email-link" onClick="ibmCommon.Overlays.show('help', this);return false;"> Request help 
			</a> -->
			
			<a class="ibm-email-link"  href='/b2b_ibm/appbase/ibm/help/IBM_RequestHelp_B2B.jsp'
				 target="_blank" onclick="return !window.open(this.href, 'RequestHelp', 'height=450,width=470,screenX=30,screenY=20,top=20,left=30,status=no,location=no,toolbar=no,directories=no,menubar=no,resizable=yes,scrollbars=auto')" title="IBM Request Help" > 
			Request help
			</a>
			
			</li>			
		</ul>
	<div class="ibm-rule"><hr WIDTH="18%" ></div>
		
		<p style="word-wrap: break-word;">Call us at:
		<br />
		<strong>
		1-888-IBM-HELP </strong><br />
		Priority Code:<br />
		<strong>DE-P-23</strong></p>
	</div>
</div>
	 


<!--
@ Copyright IBM Corp. 2012
 -->
 







 












<div class="module-name">b2b/ibm/IBM_basketSummary.inc.jsp</div>
<div class="ibm-container" role="complementary" aria-labelledby="cart"> 
  <h2 id="cart" role="presentation">	Current cart</h2>
  <div class="ibm-container-body">

	
     
    
	    <p style="clear: both;">
	      <span style="float: left; font-size: 0.9em;"><strong>List price :</strong></span>
	      <!--BHALM00179587:Start of condition added by Arnab on 03/05/2013 to hide price value-->
	      <span style="float: right;"></span>
	      <!--BHALM00179587:End of condition added by Arnab on 03/05/2013 to hide price value-->
	    </p> 
	   
     
    
	
	
	    <p style="clear: both;">
	      <span style="float: left; font-size: 0.9em;"><strong>End user :</strong></span>
	      <span style="float: right;">S00000JMP9</span>
	    </p>
	
	
	
		<p style="clear: both;">
	      <span style="float: left; font-size: 0.9em;"><strong>Entitled price :</strong></span>
	      <span style="float: right;"></span>
	    </p>
	    <p style="clear: both;">
	      <span style="float: left; font-size: 0.9em;"><strong>Discounts  &  Promotions :</strong></span>
	      <span style="float: right;"></span>
	    </p>
	    <p style="clear: both;">
	      <span style="float: left; font-size: 0.9em;"><strong>Shipping :</strong></span>
	      <span style="float: right;"></span>
	    </p>
	    <p style="clear: both;">
	      <span style="float: left; font-size: 0.9em;"><strong>Subtotal :</strong></span>
	      <span style="float: right;"></span>
	    </p>
	    <p style="clear: both;">
	      <span style="float: left; font-size: 0.9em;"><strong>Tax :</strong></span>
	      <span style="float: right;"></span>
	    </p>
	    <p style="clear: both;">
	      <span style="float: left; font-size: 0.9em;"><strong>Total :</strong></span>
	      <span style="float: right;"></span>
	    </p>
    
    
	    
  <!--BHALM00179587:Start of code added by Arnab on 29/04/2013 to display Entitled Price in case of ZIFP type of cart even though the product is a System Z product -->
  	
  <!--BHALM00179587:End of code added by Arnab on 29/04/2013 to display Entitled Price in case of ZIFP type of cart even though the product is a System Z product -->	
					    <p style="clear: both;">
					      <span style="float: left; font-size: 0.9em;"><strong>Payment terms :</strong></span>
					      <span style="float: right;"></span>
					    </p>
					    <p style="clear: both;">
					      <span style="float: left; font-size: 0.9em;">Valid till :</strong></span>
					      <span style="float: right;">13. October 201</span>
					    </p>

		     
		    <p style="clear: both;">
		      <span style="float: left; font-size: 0.9em;"><strong>Items</strong></span>
		      <span style="float: right;">0</span>
		    </p>
	   
		     
		    <p style="clear: both;"><span style="float: left; font-size: 0.9em;"><strong>Currency</strong></span>
		      <span style="float: right;">EUR</span>
		    </p>
    <div class="ibm-rule">
      <hr>
    </div>

  
  </div>
  
</div>


 

</div><!-- FEATURES_END -->

<!-- CONTENT_BODY_END -->
</div>

</div>
<!-- CONTENT_END -->

<!-- NAVIGATION_BEGIN -->

<!-- Example of navigation commented by Saugata to include actual navigation

<div id="ibm-navigation">
<h2 class="ibm-access">Content navigation</h2>
<ul id="ibm-primary-links">
<li id="ibm-overview"><a href="//www.top.com">top link</a></li>
</ul>

<div id="ibm-secondary-navigation">
<h2>Related links</h2>
<ul id="ibm-related-links">
<li><a href="//www.top.com">relates link 1</a></li>
</ul>
</div>

</div>

-->
 





 


 
 










<!-- EDD 12 - User Search and Creation -  - -->
 
<!-- EDD 12 - User Search and Creation -  - -->
<div class="module-name" style="display:none">appbase/ibm/layout/IBM_leftNav_frameless.inc.jsp</div>



<input type="hidden" name="customer_create_menu"  value="false">
  
		<!-- NAVIGATION_BEGIN -->

		<div id="ibm-navigation" role="navigation" aria-label="Web store">	
	<!-- navigation div begin -->			
			

			
		    <!-- DM tr and catlink begin  shd -->
			<ul id="ibm-primary-links">
			
			
			<input type="hidden" value="P" id="auth_Audience" name="authAudience"/>
			<input type="hidden" value="false" id="auth_GroupStore" name="authGroupStore"/>
			<input type="hidden" value="true" id="auth_Transactionsearch " name="authTransactionsearch "/>
			<input type="hidden" value="true" id="auth_Shoppingcart" name="authShoppingcart"/>
			<input type="hidden" value="true" id="auth_Orderchangerequest" name="authOrderchangerequest"/>
			<input type="hidden" value="true" id="auth_Accountmanagement" name="authAccountmanagement"/>
			<input type="hidden" value="true" id="auth_Webuseradministration" name="authWebuseradministration"/>

			<input type="hidden" value="/b2b_ibm/b2b/order.jsp" id="currentPageUri" name="currentPageUri"/>
			<input type="hidden" value="/b2b_ibm" id="currentContextPath" name="currentContextPath"/>

			<!-- b2b left navigation begins here -->
					
						<li id="ibm-overview"><a id="1" href="#" onclick="ibm_show_document(1)" > Shopping home</a></li>
				        
				        <li><a  id="3" href="#" onclick="ibm_show_catalog_view()"  >Product catalog</a></li>
						
						
				        <li><a  id="14" href="#" onclick="ibm_show_document(14)"  >Product search</a></li>
				        

				        
				        <li><a  id="5" href="#" onclick="ibm_show_document(5)"  >Customers</a></li>
				        
				        
				        
				        <li><a  id="4" href="#" onclick="ibm_show_document(4)"  >Transaction search</a></li>
				        
				        
				        <!-- EDD 12 - User Search and Creation - -->
				        
				        <!-- EDD 12 - User Search and Creation - -->

				        
				        
				        <li><a  id="10" href="#" onclick="ibm_show_document(10)"  >Order change request</a></li>
				        
				        
				        
				        
				        
				        
				        <li><a  id="12" href="#" onclick="ibm_show_document(12)"  >Additional functions</a></li>
				        
				        <li><a  id="13" href="#" onclick="ibm_show_document(13)"  >Sales out</a></li>
				       

				        
				        
				        <li><a  id="6" href="#" onclick="ibm_show_document(6)"  class = "ibm-is-active"  >My cart</a></li>	
				        
				        
				        
						
						 
				        <li><a  id="25" href="#" onclick="ibm_show_document(25)"  >ESW Pricing report</a></li>					       
						
						
				        <li><a  id="26" href="#" onclick="ibm_show_document(26)"  >Logout</a></li>	

				   
		   
				   
		
				   
		   
					<!--<li><a id="2"  href="#" onclick="ibm_show_document(2)">BP Dashboard</a></li>-->
		
				   
		
				   
		
				  
		
				  
		
				  
		
				  
		
				  
		
				  
		
		
				  
		
				  
		
				  
		
				
		 		
				
		
		
		
				
		
		
		
		
		 
		
				
		

		</ul>

		



        <script type="text/javascript">
        <!--

	var menuSelection="1";
			function ibm_show_document_view() {
					 isDocumentView = true;
					 isaTop().parent.location.href="/b2b_ibm/b2b/catalogend.do";
			}
				  
			function ibm_show_catalog_view() {
					 isDocumentView = false;
					 isaTop().parent.location.href="/b2b_ibm/b2b/catalogstart.do";
			}
			function ibm_show_catalog_b2b_catsearch() {
					 isDocumentView = false;
					 isaTop().parent.location.href="/b2b_ibm/catalog/advSearchForward.do";
			}
			function ibm_show_document(dockey) {
				//  shd
				isDocumentView = false;
				isaTop().parent.location.href="/b2b_ibm/appbase/ibm/layout/IBM_Documents.jsp?app=" + dockey;


			}

			function ibm_show_document_b2c(dockey) {

				isDocumentView = false;
			    document.getElementById(dockey).href="/b2b_ibm/b2c/ibmHomePageEntry.do?app=" +dockey;
			
			}

//$(window).load(function()
//{ 
//alert ("adding active class");
//$("a#6").addClass("ibm-is-active");

//});


		//-->
        </script>

 
 







 



 

<script src="/b2b_ibm/appbase/ibm/javascript/ibm_common_script.js?ver=1.0.33"
	            type="text/javascript">
</script>






<div class="module-name">appbase/ibm/layout/IBM_RelatedLinksNav_frameless.inc.jsp</div>	
<!-- related links begin -->
<div id="ibm-secondary-navigation" role="navigation" aria-labelledby="relatedlinks"> 
				<h2 id="relatedlinks" role="presentation">Related links</h2>
				<ul id="ibm-related-links">
				
			<!-- calling OSOL generic link -->
			<li><a href="javascript: void(0)" onclick="callOSOL('bh','', '', '', 'null','DE','EN')">Order status</a></li>			
		 
		
					
						<li><a href="https://www-304.ibm.com/partnerworld/wps/servlet/ContentHandler/igf_com_fin_itfin" target="_blank">About financing</a></li>
					
							
				  
				  <li><a href="/b2b_ibm/ibm/servicepac/servicepac.do" target="_blank">ServicePac registration</a></li>
				  <li><a href="/b2b_ibm/ibm/servicepac/bulkservicepac.do" target="_blank">Bulk ServicePac Registration</a></li>
				  
				  <li><br></li>
				  <li><br></li>
				  <li><br></li>
				</ul>
</div>			<!--related links end -->


</div>

<!-- NAVIGATION_END -->

</div>


<!-- FOOTER_BEGIN -->
<div id="ibm-page-tools" role="presentation">
<!-- IBM page tools container (blank) -->
</div>
<div id="ibm-footer" role="contentinfo" aria-label="Footer">
<ul>
<li class="ibm-first"><a href="//www.ibm.com/ibm">About IBM</a></li>
<li><a href="//www.ibm.com/privacy">Privacy</a></li>
<li><a href="//www.ibm.com/contact">Contact</a></li>
<li><a href="//www.ibm.com/legal">Terms of use</a></li>
</ul>
</div>
<!-- FOOTER_END -->

</div>

</body>
</html>
